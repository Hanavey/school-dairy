2025-03-22 22:34:11,902 [INFO] - BEGIN (implicit)
2025-03-22 22:34:11,902 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:34:11,902 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - COMMIT
2025-03-22 22:34:11,955 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:34:11,955 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:34:46,825 [INFO] - BEGIN (implicit)
2025-03-22 22:34:46,838 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:34:46,838 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - COMMIT
2025-03-22 22:34:46,899 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:34:46,899 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:35:40,834 [INFO] - BEGIN (implicit)
2025-03-22 22:35:40,835 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:35:40,835 [INFO] - [raw sql] ()
2025-03-22 22:35:40,855 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:35:40,855 [INFO] - [raw sql] ()
2025-03-22 22:35:40,855 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:35:40,855 [INFO] - [raw sql] ()
2025-03-22 22:35:40,855 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - COMMIT
2025-03-22 22:35:40,899 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:35:40,899 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:36:05,031 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:05] "GET / HTTP/1.1" 200 -
2025-03-22 22:36:07,587 [INFO] - BEGIN (implicit)
2025-03-22 22:36:07,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:07,589 [INFO] - [generated in 0.00014s] ('1',)
2025-03-22 22:36:07,624 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:07] "GET /student/ HTTP/1.1" 200 -
2025-03-22 22:36:07,678 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:36:17,823 [INFO] - BEGIN (implicit)
2025-03-22 22:36:17,824 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:17,824 [INFO] - [cached since 10.24s ago] ('1',)
2025-03-22 22:36:17,832 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:17] "GET /admin/ HTTP/1.1" 200 -
2025-03-22 22:36:17,843 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:36:19,271 [INFO] - BEGIN (implicit)
2025-03-22 22:36:19,271 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:19,271 [INFO] - [cached since 11.68s ago] ('1',)
2025-03-22 22:36:19,273 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:19] "GET /admin/ HTTP/1.1" 200 -
2025-03-22 22:36:19,337 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:36:53,038 [INFO] - BEGIN (implicit)
2025-03-22 22:36:53,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:53,041 [INFO] - [cached since 45.45s ago] ('1',)
2025-03-22 22:36:53,043 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey (via session)
2025-03-22 22:36:53,045 [INFO] - BEGIN (implicit)
2025-03-22 22:36:53,047 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-22 22:36:53,047 [INFO] - [generated in 0.00019s] ('Hanavey', 1, 0)
2025-03-22 22:36:53,079 [INFO] - GET /api/admin/student/1 - Access denied for user Hanavey
2025-03-22 22:36:53,079 [INFO] - ROLLBACK
2025-03-22 22:36:53,080 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:53] "[31m[1mGET /api/admin/student/1 HTTP/1.1[0m" 403 -
2025-03-22 22:47:52,563 [INFO] - BEGIN (implicit)
2025-03-22 22:47:52,596 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:47:52,597 [INFO] - [generated in 0.00104s] ('your_api_key_here', 1, 0)
2025-03-22 22:47:52,644 [INFO] - ROLLBACK
2025-03-22 22:47:52,645 [INFO] - GET /api/admin/student/1 - Invalid or missing API key, IP: 127.0.0.1
2025-03-22 22:47:52,679 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:47:52] "[31m[1mGET /api/admin/student/1 HTTP/1.1[0m" 401 -
2025-03-22 22:48:20,327 [INFO] - BEGIN (implicit)
2025-03-22 22:48:20,328 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:48:20,328 [INFO] - [cached since 27.73s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:48:20,348 [INFO] - ROLLBACK
2025-03-22 22:48:20,349 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:48:20,349 [INFO] - BEGIN (implicit)
2025-03-22 22:48:20,349 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:48:20,349 [INFO] - [cached since 27.75s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:48:20,350 [INFO] - BEGIN (implicit)
2025-03-22 22:48:20,355 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:48:20,355 [INFO] - [generated in 0.00015s] (1, 1, 0)
2025-03-22 22:48:20,465 [INFO] - ROLLBACK
2025-03-22 22:48:20,465 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:48:20,567 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:48:20] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:49:27,403 [INFO] - BEGIN (implicit)
2025-03-22 22:49:27,404 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:49:27,404 [INFO] - [cached since 94.81s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:49:27,415 [INFO] - ROLLBACK
2025-03-22 22:49:27,415 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:49:27,415 [INFO] - BEGIN (implicit)
2025-03-22 22:49:27,416 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:49:27,416 [INFO] - [cached since 94.82s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:49:27,416 [INFO] - BEGIN (implicit)
2025-03-22 22:49:27,416 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:49:27,416 [INFO] - [cached since 67.06s ago] (1, 1, 0)
2025-03-22 22:49:27,420 [INFO] - ROLLBACK
2025-03-22 22:49:27,420 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:49:27,422 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:49:27] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:51:01,884 [INFO] - BEGIN (implicit)
2025-03-22 22:51:01,884 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:51:01,884 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - COMMIT
2025-03-22 22:51:01,948 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:51:01,948 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:51:04,913 [INFO] - BEGIN (implicit)
2025-03-22 22:51:04,915 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:04,915 [INFO] - [generated in 0.00012s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:04,933 [INFO] - ROLLBACK
2025-03-22 22:51:04,933 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:51:04,933 [INFO] - BEGIN (implicit)
2025-03-22 22:51:04,933 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:04,933 [INFO] - [cached since 0.01876s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:04,934 [INFO] - BEGIN (implicit)
2025-03-22 22:51:04,937 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:51:04,937 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-22 22:51:05,061 [INFO] - ROLLBACK
2025-03-22 22:51:05,061 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:51:05,123 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:51:05] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:51:29,356 [INFO] - BEGIN (implicit)
2025-03-22 22:51:29,359 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:29,360 [INFO] - [cached since 24.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:29,362 [INFO] - ROLLBACK
2025-03-22 22:51:29,362 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:51:29,362 [INFO] - BEGIN (implicit)
2025-03-22 22:51:29,362 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:29,362 [INFO] - [cached since 24.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:29,363 [INFO] - BEGIN (implicit)
2025-03-22 22:51:29,363 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:51:29,363 [INFO] - [cached since 24.43s ago] (1, 1, 0)
2025-03-22 22:51:29,367 [INFO] - ROLLBACK
2025-03-22 22:51:29,367 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:51:29,368 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:51:29] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:51:33,051 [INFO] - BEGIN (implicit)
2025-03-22 22:51:33,051 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:33,051 [INFO] - [cached since 28.14s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:33,051 [INFO] - ROLLBACK
2025-03-22 22:51:33,051 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:51:33,052 [INFO] - BEGIN (implicit)
2025-03-22 22:51:33,052 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:33,052 [INFO] - [cached since 28.14s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:33,052 [INFO] - BEGIN (implicit)
2025-03-22 22:51:33,052 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:51:33,052 [INFO] - [cached since 28.12s ago] (1, 1, 0)
2025-03-22 22:51:33,053 [INFO] - ROLLBACK
2025-03-22 22:51:33,053 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:51:33,054 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:51:33] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:53:56,151 [INFO] - BEGIN (implicit)
2025-03-22 22:53:56,166 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:53:56,166 [INFO] - [raw sql] ()
2025-03-22 22:53:56,199 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - COMMIT
2025-03-22 22:53:56,248 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:53:56,248 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:53:57,737 [INFO] - BEGIN (implicit)
2025-03-22 22:53:57,738 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:53:57,738 [INFO] - [generated in 0.00011s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:53:57,755 [INFO] - ROLLBACK
2025-03-22 22:53:57,755 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:53:57,755 [INFO] - BEGIN (implicit)
2025-03-22 22:53:57,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:53:57,755 [INFO] - [cached since 0.01732s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:53:57,756 [INFO] - BEGIN (implicit)
2025-03-22 22:53:57,759 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:53:57,759 [INFO] - [generated in 0.00011s] (1, 1, 0)
2025-03-22 22:53:57,883 [INFO] - ROLLBACK
2025-03-22 22:53:57,883 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:53:57,922 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:53:57] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:54:04,152 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:54:04] "GET / HTTP/1.1" 200 -
2025-03-22 22:54:06,228 [INFO] - BEGIN (implicit)
2025-03-22 22:54:06,229 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:54:06,229 [INFO] - [generated in 0.00016s] ('1',)
2025-03-22 22:54:06,232 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:54:06] "GET /student/ HTTP/1.1" 200 -
2025-03-22 22:54:06,285 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:54:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:55:17,547 [INFO] - BEGIN (implicit)
2025-03-22 22:55:17,548 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:55:17,548 [INFO] - [cached since 79.81s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:55:17,555 [INFO] - ROLLBACK
2025-03-22 22:55:17,555 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:55:17,555 [INFO] - BEGIN (implicit)
2025-03-22 22:55:17,555 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:55:17,556 [INFO] - [cached since 79.82s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:55:17,559 [INFO] - BEGIN (implicit)
2025-03-22 22:55:17,559 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:55:17,559 [INFO] - [cached since 79.8s ago] (1, 1, 0)
2025-03-22 22:55:17,654 [INFO] - ROLLBACK
2025-03-22 22:55:17,656 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .filter(Student.user_id == student_id)
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:55:17,659 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:55:17] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:58:49,341 [INFO] - BEGIN (implicit)
2025-03-22 22:58:49,342 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:58:49,342 [INFO] - [cached since 291.6s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:58:49,344 [INFO] - ROLLBACK
2025-03-22 22:58:49,344 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:58:49,344 [INFO] - BEGIN (implicit)
2025-03-22 22:58:49,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:58:49,344 [INFO] - [cached since 291.6s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:58:49,345 [INFO] - BEGIN (implicit)
2025-03-22 22:58:49,346 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:58:49,346 [INFO] - [cached since 291.6s ago] (1, 1, 0)
2025-03-22 22:58:49,350 [INFO] - ROLLBACK
2025-03-22 22:58:49,350 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 94, in get
    'class': {
               
AttributeError: 'NoneType' object has no attribute 'class_id'
2025-03-22 22:58:49,351 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:58:49] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 23:02:29,643 [INFO] - BEGIN (implicit)
2025-03-22 23:02:29,663 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:02:29,663 [INFO] - [cached since 511.8s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:02:29,691 [INFO] - ROLLBACK
2025-03-22 23:02:29,691 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:02:29,691 [INFO] - BEGIN (implicit)
2025-03-22 23:02:29,691 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:02:29,691 [INFO] - [cached since 511.9s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:02:29,692 [INFO] - BEGIN (implicit)
2025-03-22 23:02:29,692 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:02:29,692 [INFO] - [cached since 511.8s ago] (1, 1, 0)
2025-03-22 23:02:29,784 [INFO] - ROLLBACK
2025-03-22 23:02:29,785 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:02:29] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:03:18,511 [INFO] - BEGIN (implicit)
2025-03-22 23:03:18,512 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:18,512 [INFO] - [cached since 560.7s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:18,513 [INFO] - ROLLBACK
2025-03-22 23:03:18,513 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:03:18,513 [INFO] - BEGIN (implicit)
2025-03-22 23:03:18,513 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:18,513 [INFO] - [cached since 560.7s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:18,515 [INFO] - BEGIN (implicit)
2025-03-22 23:03:18,515 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:03:18,515 [INFO] - [cached since 560.7s ago] (1, 1, 0)
2025-03-22 23:03:18,519 [INFO] - ROLLBACK
2025-03-22 23:03:18,519 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:03:18] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:03:29,253 [INFO] - BEGIN (implicit)
2025-03-22 23:03:29,253 [INFO] - PRAGMA main.table_info("users")
2025-03-22 23:03:29,253 [INFO] - [raw sql] ()
2025-03-22 23:03:29,257 [INFO] - PRAGMA main.table_info("students")
2025-03-22 23:03:29,257 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - COMMIT
2025-03-22 23:03:29,284 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 23:03:29,296 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 23:03:31,212 [INFO] - BEGIN (implicit)
2025-03-22 23:03:31,213 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:31,213 [INFO] - [generated in 0.00011s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:31,213 [INFO] - ROLLBACK
2025-03-22 23:03:31,213 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:03:31,214 [INFO] - BEGIN (implicit)
2025-03-22 23:03:31,214 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:31,214 [INFO] - [cached since 0.0007502s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:31,214 [INFO] - BEGIN (implicit)
2025-03-22 23:03:31,217 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:03:31,217 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-22 23:03:31,308 [INFO] - ROLLBACK
2025-03-22 23:03:31,308 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:03:31] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:06:00,494 [INFO] - BEGIN (implicit)
2025-03-22 23:06:00,495 [INFO] - PRAGMA main.table_info("users")
2025-03-22 23:06:00,495 [INFO] - [raw sql] ()
2025-03-22 23:06:00,504 [INFO] - PRAGMA main.table_info("students")
2025-03-22 23:06:00,504 [INFO] - [raw sql] ()
2025-03-22 23:06:00,504 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 23:06:00,504 [INFO] - [raw sql] ()
2025-03-22 23:06:00,504 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 23:06:00,504 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - COMMIT
2025-03-22 23:06:00,530 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 23:06:00,530 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 23:06:03,525 [INFO] - BEGIN (implicit)
2025-03-22 23:06:03,527 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:06:03,527 [INFO] - [generated in 0.00010s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:06:03,527 [INFO] - ROLLBACK
2025-03-22 23:06:03,527 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:06:03,527 [INFO] - BEGIN (implicit)
2025-03-22 23:06:03,527 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:06:03,527 [INFO] - [cached since 0.0007427s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:06:03,528 [INFO] - BEGIN (implicit)
2025-03-22 23:06:03,531 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:06:03,531 [INFO] - [generated in 0.00013s] (1, 1, 0)
2025-03-22 23:06:03,621 [INFO] - ROLLBACK
2025-03-22 23:06:03,622 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:06:03] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:17:37,487 [INFO] - BEGIN (implicit)
2025-03-22 23:17:37,495 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:17:37,495 [INFO] - [cached since 693.9s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:17:37,497 [INFO] - ROLLBACK
2025-03-22 23:17:37,497 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:17:37,498 [INFO] - BEGIN (implicit)
2025-03-22 23:17:37,498 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:17:37,498 [INFO] - [cached since 694s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:17:37,500 [INFO] - BEGIN (implicit)
2025-03-22 23:17:37,500 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:17:37,501 [INFO] - [cached since 693.9s ago] (1, 1, 0)
2025-03-22 23:17:37,507 [INFO] - ROLLBACK
2025-03-22 23:17:37,508 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:17:37] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-23 00:23:32,977 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:32] "GET / HTTP/1.1" 200 -
2025-03-23 00:23:41,452 [INFO] - BEGIN (implicit)
2025-03-23 00:23:41,459 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:23:41,459 [INFO] - [generated in 0.00053s] ('1',)
2025-03-23 00:23:41,513 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:23:41,537 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:23:50,812 [INFO] - BEGIN (implicit)
2025-03-23 00:23:50,813 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:23:50,813 [INFO] - [cached since 9.354s ago] ('1',)
2025-03-23 00:23:50,816 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:23:50,841 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:23:51,911 [INFO] - BEGIN (implicit)
2025-03-23 00:23:51,911 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:23:51,911 [INFO] - [cached since 10.45s ago] ('1',)
2025-03-23 00:23:51,913 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:51] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-23 00:23:51,916 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:51] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:23:51,975 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:23:53,206 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:53] "GET /admin/login HTTP/1.1" 200 -
2025-03-23 00:23:53,255 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:24:02,294 [INFO] - BEGIN (implicit)
2025-03-23 00:24:02,299 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:24:02,300 [INFO] - [generated in 0.00036s] ('Hanavey1', 1, 0)
2025-03-23 00:24:02,302 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:24:02] "POST /admin/login HTTP/1.1" 200 -
2025-03-23 00:24:02,338 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:24:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:00,945 [INFO] - BEGIN (implicit)
2025-03-23 00:25:00,948 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:00,948 [INFO] - [cached since 58.65s ago] ('Hanavey1', 1, 0)
2025-03-23 00:25:01,078 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:01] "POST /admin/login HTTP/1.1" 200 -
2025-03-23 00:25:01,111 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:11,797 [INFO] - BEGIN (implicit)
2025-03-23 00:25:11,799 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:11,799 [INFO] - [cached since 69.5s ago] ('admin1', 1, 0)
2025-03-23 00:25:11,803 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:11] "POST /admin/login HTTP/1.1" 200 -
2025-03-23 00:25:11,834 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:16,998 [INFO] - BEGIN (implicit)
2025-03-23 00:25:16,999 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:16,999 [INFO] - [cached since 74.7s ago] ('admin1', 1, 0)
2025-03-23 00:25:17,082 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:17] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-23 00:25:17,090 [INFO] - BEGIN (implicit)
2025-03-23 00:25:17,090 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:25:17,090 [INFO] - [cached since 95.63s ago] ('14',)
2025-03-23 00:25:17,093 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:17] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:25:17,154 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:20,145 [INFO] - BEGIN (implicit)
2025-03-23 00:25:20,146 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:25:20,146 [INFO] - [cached since 98.69s ago] ('14',)
2025-03-23 00:25:20,148 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:20] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-23 00:25:20,151 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:20] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:25:20,211 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:21,299 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:21] "GET /admin/login HTTP/1.1" 200 -
2025-03-23 00:25:21,339 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:49,477 [INFO] - BEGIN (implicit)
2025-03-23 00:25:49,479 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:49,479 [INFO] - [cached since 107.2s ago] ('admin2', 1, 0)
2025-03-23 00:25:49,560 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:49] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-23 00:25:49,568 [INFO] - BEGIN (implicit)
2025-03-23 00:25:49,568 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:25:49,568 [INFO] - [cached since 128.1s ago] ('15',)
2025-03-23 00:25:49,570 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:49] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:25:49,638 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:49] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:00:47,008 [INFO] - BEGIN (implicit)
2025-03-23 17:00:47,012 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:00:47,012 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,019 [INFO] - COMMIT
2025-03-23 17:00:47,046 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-23 17:00:47,046 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-23 17:00:50,688 [INFO] - BEGIN (implicit)
2025-03-23 17:00:50,690 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:00:50,690 [INFO] - [generated in 0.00015s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:00:50,719 [INFO] - ROLLBACK
2025-03-23 17:00:50,719 [INFO] - GET /api/admin/student/1 - Invalid or missing API key, IP: 127.0.0.1
2025-03-23 17:00:50,719 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:00:50] "[31m[1mGET /api/admin/student/1 HTTP/1.1[0m" 401 -
2025-03-23 17:01:35,919 [INFO] - BEGIN (implicit)
2025-03-23 17:01:35,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:35,920 [INFO] - [cached since 45.23s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:35,921 [INFO] - ROLLBACK
2025-03-23 17:01:35,921 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:01:35,921 [INFO] - BEGIN (implicit)
2025-03-23 17:01:35,921 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:35,921 [INFO] - [cached since 45.23s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:35,922 [INFO] - BEGIN (implicit)
2025-03-23 17:01:35,925 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:01:35,925 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-23 17:01:35,944 [INFO] - GET /api/admin/student/1 - Not found for user admin2
2025-03-23 17:01:35,944 [ERROR] - GET /api/admin/student/1 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-23 17:01:35,944 [INFO] - ROLLBACK
2025-03-23 17:01:35,944 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 83, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 129, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-23 17:01:35,987 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:01:35] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-23 17:01:42,135 [INFO] - BEGIN (implicit)
2025-03-23 17:01:42,136 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:42,136 [INFO] - [cached since 51.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:42,136 [INFO] - ROLLBACK
2025-03-23 17:01:42,136 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:01:42,137 [INFO] - BEGIN (implicit)
2025-03-23 17:01:42,137 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:42,137 [INFO] - [cached since 51.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:42,139 [INFO] - BEGIN (implicit)
2025-03-23 17:01:42,139 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:01:42,139 [INFO] - [cached since 6.214s ago] (1, 1, 0)
2025-03-23 17:01:42,141 [INFO] - GET /api/admin/student/1 - Not found for user admin2
2025-03-23 17:01:42,142 [ERROR] - GET /api/admin/student/1 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-23 17:01:42,142 [INFO] - ROLLBACK
2025-03-23 17:01:42,142 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 83, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 129, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-23 17:01:42,142 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:01:42] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-23 17:01:48,449 [INFO] - BEGIN (implicit)
2025-03-23 17:01:48,450 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:48,450 [INFO] - [cached since 57.76s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:48,450 [INFO] - ROLLBACK
2025-03-23 17:01:48,450 [INFO] - GET /api/admin/student/4 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:01:48,450 [INFO] - BEGIN (implicit)
2025-03-23 17:01:48,450 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:48,450 [INFO] - [cached since 57.76s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:48,451 [INFO] - BEGIN (implicit)
2025-03-23 17:01:48,451 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:01:48,451 [INFO] - [cached since 12.53s ago] (4, 1, 0)
2025-03-23 17:01:48,452 [INFO] - GET /api/admin/student/4 - Not found for user admin2
2025-03-23 17:01:48,452 [ERROR] - GET /api/admin/student/4 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-23 17:01:48,452 [INFO] - ROLLBACK
2025-03-23 17:01:48,452 [ERROR] - Exception on /api/admin/student/4 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 83, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 129, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-23 17:01:48,453 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:01:48] "[35m[1mGET /api/admin/student/4 HTTP/1.1[0m" 500 -
2025-03-23 17:02:08,530 [INFO] - BEGIN (implicit)
2025-03-23 17:02:08,531 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:02:08,531 [INFO] - [cached since 77.84s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:02:08,532 [INFO] - ROLLBACK
2025-03-23 17:02:08,533 [INFO] - GET /api/admin/student/16 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:02:08,533 [INFO] - BEGIN (implicit)
2025-03-23 17:02:08,533 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:02:08,533 [INFO] - [cached since 77.84s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:02:08,533 [INFO] - BEGIN (implicit)
2025-03-23 17:02:08,534 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:02:08,534 [INFO] - [cached since 32.61s ago] (16, 1, 0)
2025-03-23 17:02:08,536 [INFO] - ROLLBACK
2025-03-23 17:02:08,536 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:02:08] "GET /api/admin/student/16 HTTP/1.1" 200 -
2025-03-23 17:05:32,507 [INFO] - BEGIN (implicit)
2025-03-23 17:05:32,507 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:05:32,508 [INFO] - [raw sql] ()
2025-03-23 17:05:32,508 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:05:32,508 [INFO] - [raw sql] ()
2025-03-23 17:05:32,508 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:05:32,509 [INFO] - [raw sql] ()
2025-03-23 17:05:32,509 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:05:32,509 [INFO] - [raw sql] ()
2025-03-23 17:05:32,509 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:05:32,510 [INFO] - [raw sql] ()
2025-03-23 17:05:32,510 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:05:32,510 [INFO] - [raw sql] ()
2025-03-23 17:05:32,510 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:05:32,510 [INFO] - [raw sql] ()
2025-03-23 17:05:32,510 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - COMMIT
2025-03-23 17:05:45,107 [INFO] - BEGIN (implicit)
2025-03-23 17:05:45,107 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:05:45,107 [INFO] - [raw sql] ()
2025-03-23 17:05:45,107 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - COMMIT
2025-03-23 17:07:09,564 [INFO] - BEGIN (implicit)
2025-03-23 17:07:09,576 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:07:09,576 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - COMMIT
2025-03-23 17:07:09,613 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-23 17:07:17,897 [INFO] - BEGIN (implicit)
2025-03-23 17:07:17,897 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:07:17,897 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,911 [INFO] - COMMIT
2025-03-23 17:08:57,618 [INFO] - BEGIN (implicit)
2025-03-23 17:08:57,633 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:08:57,633 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("users")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("students")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("schedule")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("grades")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("admins")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("attendance")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("classes")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("homework")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("subjects")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("teachers")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("teacher_positions")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("teacher_position_assignments")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - 
CREATE TABLE users (
	user_id INTEGER NOT NULL, 
	username VARCHAR NOT NULL, 
	password_hash VARCHAR NOT NULL, 
	first_name VARCHAR NOT NULL, 
	last_name VARCHAR NOT NULL, 
	email VARCHAR, 
	phone_number VARCHAR, 
	profile_picture VARCHAR NOT NULL, 
	api_key VARCHAR, 
	PRIMARY KEY (user_id), 
	UNIQUE (username), 
	UNIQUE (email), 
	UNIQUE (api_key)
)


2025-03-23 17:08:57,635 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,653 [INFO] - 
CREATE TABLE subjects (
	subject_id INTEGER NOT NULL, 
	subject_name VARCHAR NOT NULL, 
	PRIMARY KEY (subject_id), 
	UNIQUE (subject_name)
)


2025-03-23 17:08:57,653 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,669 [INFO] - 
CREATE TABLE teacher_positions (
	position_id INTEGER NOT NULL, 
	position_name VARCHAR NOT NULL, 
	PRIMARY KEY (position_id), 
	UNIQUE (position_name)
)


2025-03-23 17:08:57,669 [INFO] - [no key 0.00006s] ()
2025-03-23 17:08:57,673 [INFO] - 
CREATE TABLE admins (
	user_id INTEGER NOT NULL, 
	admin_id INTEGER NOT NULL, 
	PRIMARY KEY (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id), 
	UNIQUE (admin_id)
)


2025-03-23 17:08:57,673 [INFO] - [no key 0.00007s] ()
2025-03-23 17:08:57,677 [INFO] - 
CREATE TABLE teachers (
	user_id INTEGER NOT NULL, 
	teacher_id INTEGER NOT NULL, 
	PRIMARY KEY (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id), 
	UNIQUE (teacher_id)
)


2025-03-23 17:08:57,677 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,680 [INFO] - 
CREATE TABLE classes (
	class_id INTEGER NOT NULL, 
	class_name VARCHAR NOT NULL, 
	teacher_id INTEGER, 
	PRIMARY KEY (class_id), 
	UNIQUE (class_name), 
	FOREIGN KEY(teacher_id) REFERENCES teachers (teacher_id)
)


2025-03-23 17:08:57,680 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,684 [INFO] - 
CREATE TABLE students (
	user_id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	class_id INTEGER NOT NULL, 
	birth_date DATE, 
	address VARCHAR, 
	PRIMARY KEY (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id), 
	UNIQUE (student_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id)
)


2025-03-23 17:08:57,684 [INFO] - [no key 0.00006s] ()
2025-03-23 17:08:57,686 [INFO] - 
CREATE TABLE schedule (
	schedule_id INTEGER NOT NULL, 
	class_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	teacher_id INTEGER NOT NULL, 
	day_of_week VARCHAR NOT NULL, 
	start_time VARCHAR NOT NULL, 
	end_time VARCHAR NOT NULL, 
	PRIMARY KEY (schedule_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id), 
	FOREIGN KEY(teacher_id) REFERENCES teachers (teacher_id)
)


2025-03-23 17:08:57,687 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,689 [INFO] - 
CREATE TABLE homework (
	homework_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	class_id INTEGER NOT NULL, 
	task VARCHAR NOT NULL, 
	due_date DATE NOT NULL, 
	PRIMARY KEY (homework_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id)
)


2025-03-23 17:08:57,689 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,691 [INFO] - 
CREATE TABLE teacher_position_assignments (
	teacher_id INTEGER NOT NULL, 
	position_id INTEGER NOT NULL, 
	class_id INTEGER, 
	subject_id INTEGER, 
	PRIMARY KEY (teacher_id, position_id), 
	FOREIGN KEY(teacher_id) REFERENCES teachers (teacher_id), 
	FOREIGN KEY(position_id) REFERENCES teacher_positions (position_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id)
)


2025-03-23 17:08:57,691 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,695 [INFO] - 
CREATE TABLE grades (
	grade_id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	grade INTEGER NOT NULL, 
	date DATE NOT NULL, 
	PRIMARY KEY (grade_id), 
	FOREIGN KEY(student_id) REFERENCES students (user_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id)
)


2025-03-23 17:08:57,695 [INFO] - [no key 0.00007s] ()
2025-03-23 17:08:57,697 [INFO] - 
CREATE TABLE attendance (
	attendance_id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	date DATE NOT NULL, 
	status VARCHAR NOT NULL, 
	PRIMARY KEY (attendance_id), 
	FOREIGN KEY(student_id) REFERENCES students (user_id)
)


2025-03-23 17:08:57,697 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,699 [INFO] - COMMIT
2025-03-23 17:09:07,987 [INFO] - BEGIN (implicit)
2025-03-23 17:09:07,987 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:09:07,987 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - COMMIT
2025-03-23 17:11:22,358 [INFO] - BEGIN (implicit)
2025-03-23 17:11:22,363 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:11:22,363 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - COMMIT
2025-03-23 17:12:25,420 [INFO] - BEGIN (implicit)
2025-03-23 17:12:25,432 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:12:25,432 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - COMMIT
2025-03-23 17:12:28,520 [INFO] - BEGIN (implicit)
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - COMMIT
2025-03-23 17:12:28,526 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-23 17:54:37,213 [INFO] - BEGIN (implicit)
2025-03-23 17:54:37,229 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:54:37,229 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - COMMIT
2025-03-23 17:54:37,327 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-23 17:54:37,327 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-23 17:54:57,899 [INFO] - BEGIN (implicit)
2025-03-23 17:54:57,901 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:54:57,901 [INFO] - [generated in 0.00017s] ('15',)
2025-03-23 17:54:57,906 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:57] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 17:54:57,964 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:54:58,074 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-23 17:54:59,555 [INFO] - BEGIN (implicit)
2025-03-23 17:54:59,556 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:54:59,556 [INFO] - [cached since 1.655s ago] ('15',)
2025-03-23 17:54:59,560 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:59] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-23 17:54:59,564 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:59] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 17:54:59,627 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:02,720 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 17:55:02,751 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:04,603 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:04] "GET / HTTP/1.1" 200 -
2025-03-23 17:55:06,292 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:06] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:06,329 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:07,829 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:07] "GET /student/login HTTP/1.1" 200 -
2025-03-23 17:55:07,877 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:26,744 [INFO] - BEGIN (implicit)
2025-03-23 17:55:26,749 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 17:55:26,749 [INFO] - [generated in 0.00048s] ('user15', 1, 0)
2025-03-23 17:55:26,829 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:26] "[32mPOST /student/login HTTP/1.1[0m" 302 -
2025-03-23 17:55:26,834 [INFO] - BEGIN (implicit)
2025-03-23 17:55:26,834 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:26,834 [INFO] - [cached since 28.93s ago] ('15',)
2025-03-23 17:55:26,840 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:26] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:26,899 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:44,095 [INFO] - BEGIN (implicit)
2025-03-23 17:55:44,097 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:44,097 [INFO] - [cached since 46.2s ago] ('15',)
2025-03-23 17:55:44,102 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:44] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:44,154 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:44,974 [INFO] - BEGIN (implicit)
2025-03-23 17:55:44,975 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:44,975 [INFO] - [cached since 47.07s ago] ('15',)
2025-03-23 17:55:44,976 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:44] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,034 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:45,321 [INFO] - BEGIN (implicit)
2025-03-23 17:55:45,322 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:45,322 [INFO] - [cached since 47.42s ago] ('15',)
2025-03-23 17:55:45,322 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,375 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:45,634 [INFO] - BEGIN (implicit)
2025-03-23 17:55:45,635 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:45,635 [INFO] - [cached since 47.73s ago] ('15',)
2025-03-23 17:55:45,636 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,684 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:45,934 [INFO] - BEGIN (implicit)
2025-03-23 17:55:45,935 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:45,935 [INFO] - [cached since 48.03s ago] ('15',)
2025-03-23 17:55:45,936 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,994 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:46,206 [INFO] - BEGIN (implicit)
2025-03-23 17:55:46,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:46,206 [INFO] - [cached since 48.31s ago] ('15',)
2025-03-23 17:55:46,207 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:46] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:46,262 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:59,303 [INFO] - BEGIN (implicit)
2025-03-23 17:55:59,303 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:59,303 [INFO] - [cached since 61.4s ago] ('15',)
2025-03-23 17:55:59,305 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:59,361 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:59,919 [INFO] - BEGIN (implicit)
2025-03-23 17:55:59,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:59,920 [INFO] - [cached since 62.02s ago] ('15',)
2025-03-23 17:55:59,925 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:59,977 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:00,263 [INFO] - BEGIN (implicit)
2025-03-23 17:56:00,263 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:00,263 [INFO] - [cached since 62.36s ago] ('15',)
2025-03-23 17:56:00,264 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:00,323 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:00,544 [INFO] - BEGIN (implicit)
2025-03-23 17:56:00,545 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:00,545 [INFO] - [cached since 62.64s ago] ('15',)
2025-03-23 17:56:00,546 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:00,603 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:00,800 [INFO] - BEGIN (implicit)
2025-03-23 17:56:00,800 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:00,800 [INFO] - [cached since 62.9s ago] ('15',)
2025-03-23 17:56:00,801 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:00,860 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,055 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,055 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,055 [INFO] - [cached since 63.15s ago] ('15',)
2025-03-23 17:56:01,056 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,111 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,309 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,309 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,310 [INFO] - [cached since 63.41s ago] ('15',)
2025-03-23 17:56:01,310 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,369 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,565 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,566 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,566 [INFO] - [cached since 63.67s ago] ('15',)
2025-03-23 17:56:01,567 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,625 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,807 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,808 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,808 [INFO] - [cached since 63.91s ago] ('15',)
2025-03-23 17:56:01,809 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,865 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,017 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,017 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,017 [INFO] - [cached since 64.12s ago] ('15',)
2025-03-23 17:56:02,019 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,076 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,226 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,227 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,227 [INFO] - [cached since 64.33s ago] ('15',)
2025-03-23 17:56:02,228 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,290 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,419 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,420 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,420 [INFO] - [cached since 64.52s ago] ('15',)
2025-03-23 17:56:02,421 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,481 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,629 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,629 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,629 [INFO] - [cached since 64.73s ago] ('15',)
2025-03-23 17:56:02,630 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,692 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,961 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,961 [INFO] - [cached since 65.06s ago] ('15',)
2025-03-23 17:56:02,962 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,019 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,141 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,142 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,142 [INFO] - [cached since 65.24s ago] ('15',)
2025-03-23 17:56:03,143 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,207 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,305 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,305 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,305 [INFO] - [cached since 65.4s ago] ('15',)
2025-03-23 17:56:03,306 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,362 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,485 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,485 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,485 [INFO] - [cached since 65.58s ago] ('15',)
2025-03-23 17:56:03,486 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,546 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,652 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,652 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,652 [INFO] - [cached since 65.75s ago] ('15',)
2025-03-23 17:56:03,653 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,712 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,830 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,831 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,831 [INFO] - [cached since 65.93s ago] ('15',)
2025-03-23 17:56:03,832 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,894 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,027 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,027 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,027 [INFO] - [cached since 66.13s ago] ('15',)
2025-03-23 17:56:04,028 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,083 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,403 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,404 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,404 [INFO] - [cached since 66.5s ago] ('15',)
2025-03-23 17:56:04,404 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,462 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,550 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,550 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,550 [INFO] - [cached since 66.65s ago] ('15',)
2025-03-23 17:56:04,551 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,611 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,715 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,716 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,716 [INFO] - [cached since 66.82s ago] ('15',)
2025-03-23 17:56:04,717 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,779 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,864 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,865 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,865 [INFO] - [cached since 66.96s ago] ('15',)
2025-03-23 17:56:04,866 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,923 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:05,045 [INFO] - BEGIN (implicit)
2025-03-23 17:56:05,046 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:05,046 [INFO] - [cached since 67.15s ago] ('15',)
2025-03-23 17:56:05,047 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:05] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:05,087 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 20:58:25,206 [INFO] - BEGIN (implicit)
2025-03-23 20:58:25,210 [INFO] - PRAGMA main.table_info("users")
2025-03-23 20:58:25,210 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("students")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 20:58:25,241 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 20:58:25,241 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 20:58:25,241 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - COMMIT
2025-03-23 20:58:25,272 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-23 20:58:25,272 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-23 20:58:58,194 [INFO] - 127.0.0.1 - - [23/Mar/2025 20:58:58] "[33mGET /api/admin/student/3012 HTTP/1.1[0m" 404 -
2025-03-23 20:59:00,430 [INFO] - 127.0.0.1 - - [23/Mar/2025 20:59:00] "[33mGET /api/admin/student/3012 HTTP/1.1[0m" 404 -
2025-03-23 20:59:00,998 [INFO] - 127.0.0.1 - - [23/Mar/2025 20:59:00] "[33mGET /api/admin/student/3012 HTTP/1.1[0m" 404 -
2025-03-24 15:54:03,799 [INFO] - BEGIN (implicit)
2025-03-24 15:54:03,812 [INFO] - PRAGMA main.table_info("users")
2025-03-24 15:54:03,812 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("students")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,825 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 15:54:03,825 [INFO] - [raw sql] ()
2025-03-24 15:54:03,825 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 15:54:03,825 [INFO] - [raw sql] ()
2025-03-24 15:54:03,825 [INFO] - COMMIT
2025-03-24 15:54:03,845 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 15:54:03,845 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 15:55:48,156 [INFO] - BEGIN (implicit)
2025-03-24 15:55:48,158 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 15:55:48,158 [INFO] - [generated in 0.00016s] ('your_api_key_here', 1, 0)
2025-03-24 15:55:48,178 [INFO] - ROLLBACK
2025-03-24 15:55:48,178 [ERROR] - PATCH /api/admin/student/3000 - Invalid or missing API key, IP: 127.0.0.1
2025-03-24 15:55:48,179 [INFO] - 127.0.0.1 - - [24/Mar/2025 15:55:48] "[31m[1mPATCH /api/admin/students/3000 HTTP/1.1[0m" 401 -
2025-03-24 15:58:03,965 [INFO] - BEGIN (implicit)
2025-03-24 15:58:03,966 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 15:58:03,966 [INFO] - [cached since 135.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 15:58:03,968 [INFO] - ROLLBACK
2025-03-24 15:58:03,968 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 15:58:03,968 [INFO] - BEGIN (implicit)
2025-03-24 15:58:03,968 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 15:58:03,968 [INFO] - [cached since 135.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 15:58:03,968 [INFO] - ROLLBACK
2025-03-24 15:58:03,969 [INFO] - BEGIN (implicit)
2025-03-24 15:58:03,971 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 15:58:03,972 [INFO] - [generated in 0.00011s] (3000, 1, 0)
2025-03-24 15:58:04,034 [INFO] - UPDATE users SET first_name=?, last_name=? WHERE users.user_id = ?
2025-03-24 15:58:04,034 [INFO] - [generated in 0.00011s] ('Иван', 'Иванов', 6)
2025-03-24 15:58:04,057 [INFO] - ROLLBACK
2025-03-24 15:58:04,058 [ERROR] - PATCH /api/admin/student/3000 - Error: (builtins.TypeError) SQLite Date type only accepts Python date objects as input.
[SQL: UPDATE students SET birth_date=? WHERE students.user_id = ?]
[parameters: [{'birth_date': '2005-05-15', 'students_user_id': 6}]]
2025-03-24 15:58:04,058 [ERROR] - Exception on /api/admin/students/3000 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1454, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/sqlite/base.py", line 1142, in process
    raise TypeError(
TypeError: SQLite Date type only accepts Python date objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 208, in patch
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1825, in _execute_context
    self._handle_dbapi_exception(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1454, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/sqlite/base.py", line 1142, in process
    raise TypeError(
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite Date type only accepts Python date objects as input.
[SQL: UPDATE students SET birth_date=? WHERE students.user_id = ?]
[parameters: [{'birth_date': '2005-05-15', 'students_user_id': 6}]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 221, in patch
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 15:58:04,371 [INFO] - 127.0.0.1 - - [24/Mar/2025 15:58:04] "[35m[1mPATCH /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 16:00:15,166 [INFO] - BEGIN (implicit)
2025-03-24 16:00:15,166 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:00:15,166 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:00:15,190 [INFO] - [raw sql] ()
2025-03-24 16:00:15,190 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:00:15,190 [INFO] - [raw sql] ()
2025-03-24 16:00:15,190 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:00:15,190 [INFO] - [raw sql] ()
2025-03-24 16:00:15,190 [INFO] - COMMIT
2025-03-24 16:00:15,235 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 16:00:15,235 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 16:00:17,208 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,209 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:00:17,209 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:00:17,290 [INFO] - ROLLBACK
2025-03-24 16:00:17,290 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:00:17,290 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,290 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:00:17,290 [INFO] - [cached since 0.08083s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:00:17,290 [INFO] - ROLLBACK
2025-03-24 16:00:17,291 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,292 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 16:00:17,292 [INFO] - [generated in 0.00009s] (3000, 1, 0)
2025-03-24 16:00:17,351 [INFO] - UPDATE users SET first_name=?, last_name=? WHERE users.user_id = ?
2025-03-24 16:00:17,351 [INFO] - [generated in 0.00010s] ('Иван', 'Иванов', 6)
2025-03-24 16:00:17,352 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 16:00:17,352 [INFO] - [generated in 0.00007s] ('2005-05-15', 6)
2025-03-24 16:00:17,352 [INFO] - COMMIT
2025-03-24 16:00:17,403 [INFO] - PATCH /api/admin/student/3000 - Updated by user user2
2025-03-24 16:00:17,403 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,405 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 16:00:17,405 [INFO] - [generated in 0.00009s] (6,)
2025-03-24 16:00:17,405 [INFO] - ROLLBACK
2025-03-24 16:00:17,406 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:00:17] "PATCH /api/admin/students/3000 HTTP/1.1" 200 -
2025-03-24 16:01:20,801 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,803 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:01:20,803 [INFO] - [cached since 63.59s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:01:20,804 [INFO] - ROLLBACK
2025-03-24 16:01:20,804 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:01:20,804 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,804 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:01:20,804 [INFO] - [cached since 63.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:01:20,804 [INFO] - ROLLBACK
2025-03-24 16:01:20,804 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,805 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 16:01:20,805 [INFO] - [cached since 63.51s ago] (3000, 1, 0)
2025-03-24 16:01:20,806 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 16:01:20,806 [INFO] - [cached since 63.46s ago] ('2010-05-15', 6)
2025-03-24 16:01:20,807 [INFO] - COMMIT
2025-03-24 16:01:20,810 [INFO] - PATCH /api/admin/student/3000 - Updated by user user2
2025-03-24 16:01:20,810 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,810 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 16:01:20,810 [INFO] - [cached since 63.41s ago] (6,)
2025-03-24 16:01:20,810 [INFO] - ROLLBACK
2025-03-24 16:01:20,811 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:01:20] "PATCH /api/admin/students/3000 HTTP/1.1" 200 -
2025-03-24 16:25:45,154 [INFO] - BEGIN (implicit)
2025-03-24 16:25:45,154 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:25:45,154 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:25:45,156 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:25:45,156 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:25:45,156 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - COMMIT
2025-03-24 16:25:45,173 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 16:25:45,173 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 16:25:47,413 [INFO] - BEGIN (implicit)
2025-03-24 16:25:47,414 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:25:47,414 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:25:47,439 [INFO] - ROLLBACK
2025-03-24 16:25:47,439 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:25:47,439 [INFO] - BEGIN (implicit)
2025-03-24 16:25:47,440 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:25:47,440 [INFO] - [cached since 0.02547s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:25:47,440 [INFO] - ROLLBACK
2025-03-24 16:25:47,440 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:25:47,440 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:25:47,458 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:25:47] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:26:06,173 [INFO] - BEGIN (implicit)
2025-03-24 16:26:06,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:26:06,173 [INFO] - [cached since 18.76s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:26:06,174 [INFO] - ROLLBACK
2025-03-24 16:26:06,174 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:26:06,174 [INFO] - BEGIN (implicit)
2025-03-24 16:26:06,174 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:26:06,174 [INFO] - [cached since 18.76s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:26:06,174 [INFO] - ROLLBACK
2025-03-24 16:26:06,174 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:26:06,175 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:26:06,175 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:26:06] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:30:47,471 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:30:47] "GET /student/ HTTP/1.1" 200 -
2025-03-24 16:30:47,583 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:30:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-24 16:35:00,978 [INFO] - BEGIN (implicit)
2025-03-24 16:35:00,987 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:35:00,988 [INFO] - [cached since 553.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:35:01,041 [INFO] - ROLLBACK
2025-03-24 16:35:01,041 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:35:01,041 [INFO] - BEGIN (implicit)
2025-03-24 16:35:01,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:35:01,042 [INFO] - [cached since 553.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:35:01,042 [INFO] - ROLLBACK
2025-03-24 16:35:01,042 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:35:01,043 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    db_sess.close()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:35:01,044 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:35:01] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:37:32,867 [INFO] - BEGIN (implicit)
2025-03-24 16:37:32,878 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:32,878 [INFO] - [cached since 705.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:32,896 [INFO] - ROLLBACK
2025-03-24 16:37:32,896 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:37:32,897 [INFO] - BEGIN (implicit)
2025-03-24 16:37:32,897 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:32,897 [INFO] - [cached since 705.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:32,897 [INFO] - ROLLBACK
2025-03-24 16:37:32,897 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:37:32,904 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    db_sess.close()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:37:32,908 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:37:32] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:37:40,941 [INFO] - BEGIN (implicit)
2025-03-24 16:37:40,941 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:37:40,941 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:37:40,966 [INFO] - [raw sql] ()
2025-03-24 16:37:40,966 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:37:40,966 [INFO] - [raw sql] ()
2025-03-24 16:37:40,966 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:37:40,966 [INFO] - [raw sql] ()
2025-03-24 16:37:40,966 [INFO] - COMMIT
2025-03-24 16:37:40,985 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 16:37:40,985 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 16:37:43,059 [INFO] - BEGIN (implicit)
2025-03-24 16:37:43,060 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,060 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:43,129 [INFO] - ROLLBACK
2025-03-24 16:37:43,129 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:37:43,129 [INFO] - BEGIN (implicit)
2025-03-24 16:37:43,129 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,129 [INFO] - [cached since 0.06915s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:43,129 [INFO] - ROLLBACK
2025-03-24 16:37:43,129 [INFO] - BEGIN (implicit)
2025-03-24 16:37:43,130 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,130 [INFO] - [generated in 0.00007s] ('user71', 1, 0)
2025-03-24 16:37:43,130 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,130 [INFO] - [generated in 0.00006s] ('ivanov_23@example.com', 1, 0)
2025-03-24 16:37:43,207 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 16:37:43,207 [INFO] - [generated in 0.00014s] ('user71', 'scrypt:32768:8:1$wxHP4VvXkrix3jAx$479fded689ae0d00dd51b8bf7d112fd00858b0462a3bcc579b1d719c64b47149e8d7214199c20cfc9ddc9cd357806da97c83e793426ec7888772a744d3e56d7e', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 16:37:43,222 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 16:37:43,222 [INFO] - [generated in 0.00010s] (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 16:37:43,222 [INFO] - ROLLBACK
2025-03-24 16:37:43,223 [ERROR] - POST /api/admin/students - Error: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-24 16:37:43,223 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: students.student_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 292, in post
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1850, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1990, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 312, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:37:43,321 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:37:43] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:43:34,211 [INFO] - BEGIN (implicit)
2025-03-24 16:43:34,212 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:43:34,212 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,244 [INFO] - COMMIT
2025-03-24 16:43:36,387 [INFO] - BEGIN (implicit)
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - COMMIT
2025-03-24 16:43:36,391 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-24 16:43:59,964 [INFO] - BEGIN (implicit)
2025-03-24 16:43:59,964 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:43:59,964 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - COMMIT
2025-03-24 16:44:14,062 [INFO] - BEGIN (implicit)
2025-03-24 16:44:14,062 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:44:14,062 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - COMMIT
2025-03-24 16:44:14,067 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-24 16:48:30,681 [INFO] - BEGIN (implicit)
2025-03-24 16:48:30,688 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:48:30,688 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - COMMIT
2025-03-24 17:01:07,428 [INFO] - BEGIN (implicit)
2025-03-24 17:01:07,449 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,450 [INFO] - [cached since 1404s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:07,480 [INFO] - ROLLBACK
2025-03-24 17:01:07,480 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:07,480 [INFO] - BEGIN (implicit)
2025-03-24 17:01:07,480 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,480 [INFO] - [cached since 1404s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:07,480 [INFO] - ROLLBACK
2025-03-24 17:01:07,481 [INFO] - BEGIN (implicit)
2025-03-24 17:01:07,481 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,481 [INFO] - [cached since 1404s ago] ('user71', 1, 0)
2025-03-24 17:01:07,481 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,481 [INFO] - [cached since 1404s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:01:07,557 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:01:07,557 [INFO] - [cached since 1404s ago] ('user71', 'scrypt:32768:8:1$sjsBiBPDEcHuHdWF$27f82d6357e9ad9e15a28c675faddf5065be560ad3511e7ff3f1c0c286eb2d1c8fa47546dcc270cedf30eb191759e1c0726420726593e43f8a37008c00f7c89d', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:01:07,561 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:01:07,561 [INFO] - [cached since 1404s ago] (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:01:07,562 [INFO] - ROLLBACK
2025-03-24 17:01:07,563 [ERROR] - POST /api/admin/students - Error: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-24 17:01:07,577 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: students.student_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 292, in post
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1850, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1990, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 312, in post
    db_sess.rollback()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:01:07,579 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:07] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:01:15,198 [INFO] - BEGIN (implicit)
2025-03-24 17:01:15,198 [INFO] - PRAGMA main.table_info("users")
2025-03-24 17:01:15,198 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("students")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - COMMIT
2025-03-24 17:01:15,235 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 17:01:15,235 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 17:01:17,608 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,609 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,609 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:17,679 [INFO] - ROLLBACK
2025-03-24 17:01:17,679 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:17,679 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,679 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,679 [INFO] - [cached since 0.07023s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:17,679 [INFO] - ROLLBACK
2025-03-24 17:01:17,680 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,680 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,680 [INFO] - [generated in 0.00008s] ('user71', 1, 0)
2025-03-24 17:01:17,681 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,681 [INFO] - [generated in 0.00006s] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:01:17,765 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:01:17,765 [INFO] - [generated in 0.00016s] ('user71', 'scrypt:32768:8:1$xwFdyubmNH82xQ8N$ec358a69d5db3ba15237415cd5b4ced08b38aec69e944077cbfda7fca5a39d8dd86883a09c557c8985eb931506df42945cbd48f27f1a141ef8a08ac3932152d2', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:01:17,794 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:01:17,795 [INFO] - [generated in 0.00009s] ()
2025-03-24 17:01:17,802 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:01:17,802 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:01:17,838 [INFO] - COMMIT
2025-03-24 17:01:17,852 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,853 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:01:17,853 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 17:01:17,853 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:01:17,854 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:01:17,854 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 17:01:17,854 [INFO] - ROLLBACK
2025-03-24 17:01:17,854 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:01:17,875 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:17] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:01:25,919 [INFO] - BEGIN (implicit)
2025-03-24 17:01:25,919 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:25,919 [INFO] - [cached since 8.31s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:25,919 [INFO] - ROLLBACK
2025-03-24 17:01:25,919 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:25,919 [INFO] - BEGIN (implicit)
2025-03-24 17:01:25,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:25,920 [INFO] - [cached since 8.311s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:25,920 [INFO] - ROLLBACK
2025-03-24 17:01:25,920 [INFO] - BEGIN (implicit)
2025-03-24 17:01:25,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:25,920 [INFO] - [cached since 8.24s ago] ('user71', 1, 0)
2025-03-24 17:01:25,920 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:01:25,920 [INFO] - ROLLBACK
2025-03-24 17:01:25,920 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:01:25,920 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:01:25,986 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:25] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:01:34,355 [INFO] - BEGIN (implicit)
2025-03-24 17:01:34,356 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:34,356 [INFO] - [cached since 16.75s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:34,357 [INFO] - ROLLBACK
2025-03-24 17:01:34,357 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:34,357 [INFO] - BEGIN (implicit)
2025-03-24 17:01:34,357 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:34,357 [INFO] - [cached since 16.75s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:34,357 [INFO] - ROLLBACK
2025-03-24 17:01:34,358 [INFO] - BEGIN (implicit)
2025-03-24 17:01:34,358 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:34,358 [INFO] - [cached since 16.68s ago] ('user71', 1, 0)
2025-03-24 17:01:34,358 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:01:34,358 [INFO] - ROLLBACK
2025-03-24 17:01:34,358 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:01:34,358 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:01:34,359 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:34] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:09:11,047 [INFO] - BEGIN (implicit)
2025-03-24 17:09:11,048 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:09:11,048 [INFO] - [cached since 473.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:09:11,060 [INFO] - ROLLBACK
2025-03-24 17:09:11,060 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:09:11,060 [INFO] - BEGIN (implicit)
2025-03-24 17:09:11,061 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:09:11,061 [INFO] - [cached since 473.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:09:11,061 [INFO] - ROLLBACK
2025-03-24 17:09:11,061 [INFO] - BEGIN (implicit)
2025-03-24 17:09:11,061 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:09:11,061 [INFO] - [cached since 473.4s ago] ('user71', 1, 0)
2025-03-24 17:09:11,061 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:09:11,062 [INFO] - ROLLBACK
2025-03-24 17:09:11,062 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:09:11,062 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:09:11,063 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:09:11] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:10:57,737 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,738 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,738 [INFO] - [cached since 580.1s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:10:57,769 [INFO] - ROLLBACK
2025-03-24 17:10:57,769 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:10:57,769 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,769 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,769 [INFO] - [cached since 580.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:10:57,770 [INFO] - ROLLBACK
2025-03-24 17:10:57,770 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,770 [INFO] - [cached since 580.1s ago] ('user71', 1, 0)
2025-03-24 17:10:57,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,770 [INFO] - [cached since 580.1s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:10:57,842 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:10:57,843 [INFO] - [cached since 580.1s ago] ('user71', 'scrypt:32768:8:1$TD5LHrKphn3k1a4b$ff08d10915aa7bda23ef3e142ea4adb4c9b9b07dc60c355c073f00eb6387ed6bd7dbcd3aecdffa9448ac75b596b6adaa2403e07604c736d8676fe76035548014', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:10:57,849 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:10:57,849 [INFO] - [cached since 580.1s ago] ()
2025-03-24 17:10:57,850 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:10:57,850 [INFO] - [cached since 580.1s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:10:57,851 [INFO] - COMMIT
2025-03-24 17:10:57,859 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,859 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:10:57,859 [INFO] - [cached since 580s ago] (71,)
2025-03-24 17:10:57,860 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:10:57,860 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:10:57,860 [INFO] - [cached since 580s ago] (71,)
2025-03-24 17:10:57,860 [INFO] - ROLLBACK
2025-03-24 17:10:57,860 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:10:57,861 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:10:57] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:11:01,788 [INFO] - BEGIN (implicit)
2025-03-24 17:11:01,788 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:11:01,788 [INFO] - [cached since 584.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:11:01,789 [INFO] - ROLLBACK
2025-03-24 17:11:01,789 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:11:01,790 [INFO] - BEGIN (implicit)
2025-03-24 17:11:01,790 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:11:01,790 [INFO] - [cached since 584.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:11:01,790 [INFO] - ROLLBACK
2025-03-24 17:11:01,790 [INFO] - BEGIN (implicit)
2025-03-24 17:11:01,790 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:11:01,790 [INFO] - [cached since 584.1s ago] ('user71', 1, 0)
2025-03-24 17:11:01,790 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:11:01,790 [INFO] - ROLLBACK
2025-03-24 17:11:01,790 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:11:01,791 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:11:01,791 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:11:01] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:12:44,583 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,584 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,584 [INFO] - [cached since 687s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:12:44,614 [INFO] - ROLLBACK
2025-03-24 17:12:44,614 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:12:44,615 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,615 [INFO] - [cached since 687s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:12:44,615 [INFO] - ROLLBACK
2025-03-24 17:12:44,615 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,615 [INFO] - [cached since 686.9s ago] ('user71', 1, 0)
2025-03-24 17:12:44,616 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,616 [INFO] - [cached since 686.9s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:12:44,691 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:12:44,691 [INFO] - [cached since 686.9s ago] ('user71', 'scrypt:32768:8:1$VvSTFwe0dsCOJ4ke$fa04aec28887123e3530c9272b7e048656766105d387cd96aec122eca0da5e7e19e1ae6f9145011d45835e18d30d57ebcb55f344c60830e094d86b916bdd987d', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:12:44,692 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:12:44,692 [INFO] - [cached since 686.9s ago] ()
2025-03-24 17:12:44,692 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:12:44,692 [INFO] - [cached since 686.9s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:12:44,693 [INFO] - COMMIT
2025-03-24 17:12:44,698 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,698 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:12:44,698 [INFO] - [cached since 686.9s ago] (71,)
2025-03-24 17:12:44,699 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:12:44,699 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:12:44,699 [INFO] - [cached since 686.9s ago] (71,)
2025-03-24 17:12:44,699 [INFO] - ROLLBACK
2025-03-24 17:12:44,699 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:12:44,700 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:12:44] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:14:47,218 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,220 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,220 [INFO] - [cached since 809.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:14:47,249 [INFO] - ROLLBACK
2025-03-24 17:14:47,249 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:14:47,249 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,249 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,249 [INFO] - [cached since 809.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:14:47,249 [INFO] - ROLLBACK
2025-03-24 17:14:47,250 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,250 [INFO] - [cached since 809.6s ago] ('user71', 1, 0)
2025-03-24 17:14:47,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,250 [INFO] - [cached since 809.6s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:14:47,324 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:14:47,324 [INFO] - [cached since 809.6s ago] ('user71', 'scrypt:32768:8:1$ZTdyMqPFI9OljWOH$0457ffa4d9a06ce221e8508b889511fa2b06be70396ecbaa80bd34429a15ec1982ebe60c758401bba2353022dba47804060437b30859bae9f7684e0fb86f32d9', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:14:47,336 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:14:47,336 [INFO] - [cached since 809.5s ago] ()
2025-03-24 17:14:47,338 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:14:47,338 [INFO] - [cached since 809.5s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:14:47,338 [INFO] - COMMIT
2025-03-24 17:14:47,345 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,345 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:14:47,345 [INFO] - [cached since 809.5s ago] (71,)
2025-03-24 17:14:47,345 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:14:47,345 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:14:47,345 [INFO] - [cached since 809.5s ago] (71,)
2025-03-24 17:14:47,345 [INFO] - ROLLBACK
2025-03-24 17:14:47,346 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:14:47,346 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:14:47] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:17:46,872 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,873 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,873 [INFO] - [cached since 989.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:17:46,874 [INFO] - ROLLBACK
2025-03-24 17:17:46,874 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:17:46,874 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,875 [INFO] - [cached since 989.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:17:46,875 [INFO] - ROLLBACK
2025-03-24 17:17:46,875 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,875 [INFO] - [cached since 989.2s ago] ('user71', 1, 0)
2025-03-24 17:17:46,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,875 [INFO] - [cached since 989.2s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:17:46,948 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:17:46,948 [INFO] - [cached since 989.2s ago] ('user71', 'scrypt:32768:8:1$014VseO6oct56pcT$044dfa3699a759e368105fbbc48f5083ae9d679184744e8963d8c3474e9192c05f4bd13867174bac9cf369a25fb405e6f52c34a2b8988765bb34117139128af2', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:17:46,949 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:17:46,949 [INFO] - [cached since 989.2s ago] ()
2025-03-24 17:17:46,949 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:17:46,949 [INFO] - [cached since 989.2s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:17:46,950 [INFO] - COMMIT
2025-03-24 17:17:46,955 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,955 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:17:46,955 [INFO] - [cached since 989.1s ago] (71,)
2025-03-24 17:17:46,955 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:17:46,955 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:17:46,955 [INFO] - [cached since 989.1s ago] (71,)
2025-03-24 17:17:46,955 [INFO] - ROLLBACK
2025-03-24 17:17:46,956 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:17:46,956 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:17:46] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:19:24,530 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,531 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,531 [INFO] - [cached since 1087s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:19:24,587 [INFO] - ROLLBACK
2025-03-24 17:19:24,587 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:19:24,587 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,587 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,587 [INFO] - [cached since 1087s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:19:24,588 [INFO] - ROLLBACK
2025-03-24 17:19:24,588 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,588 [INFO] - [cached since 1087s ago] ('user71', 1, 0)
2025-03-24 17:19:24,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,588 [INFO] - [cached since 1087s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:19:24,662 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:19:24,662 [INFO] - [cached since 1087s ago] ('user71', 'scrypt:32768:8:1$122dfmiFIwBHbCeb$5cdd175e36cfe9030c23aa755b3aec0934af0e462d8d778b7714503a60ab728cfea5f9aca9f4162a947724890ea09d980d164219f6f93f4085c9cb3de01ca942', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:19:24,670 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:19:24,670 [INFO] - [cached since 1087s ago] ()
2025-03-24 17:19:24,670 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:19:24,670 [INFO] - [cached since 1087s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:19:24,705 [INFO] - COMMIT
2025-03-24 17:19:24,710 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:19:24,711 [INFO] - [cached since 1087s ago] (71,)
2025-03-24 17:19:24,711 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:19:24,711 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:19:24,711 [INFO] - [cached since 1087s ago] (71,)
2025-03-24 17:19:24,711 [INFO] - ROLLBACK
2025-03-24 17:19:24,711 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:19:24,712 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:19:24] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:25:07,428 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:25:07] "[33mGET /api/admin/student/1 HTTP/1.1[0m" 404 -
2025-03-24 17:25:36,476 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:25:36] "[33mGET /api/admin/student/3000 HTTP/1.1[0m" 404 -
2025-03-24 17:28:16,518 [INFO] - BEGIN (implicit)
2025-03-24 17:28:16,547 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:16,547 [INFO] - [cached since 1619s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:16,622 [INFO] - ROLLBACK
2025-03-24 17:28:16,622 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:28:16,622 [INFO] - BEGIN (implicit)
2025-03-24 17:28:16,622 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:16,622 [INFO] - [cached since 1619s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:16,623 [INFO] - ROLLBACK
2025-03-24 17:28:16,623 [INFO] - BEGIN (implicit)
2025-03-24 17:28:16,627 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:28:16,628 [INFO] - [generated in 0.00013s] (3000, 1, 0)
2025-03-24 17:28:16,703 [INFO] - ROLLBACK
2025-03-24 17:28:16,703 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:28:16,704 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:28:16] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:28:42,678 [INFO] - BEGIN (implicit)
2025-03-24 17:28:42,680 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:42,680 [INFO] - [cached since 1645s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:42,682 [INFO] - ROLLBACK
2025-03-24 17:28:42,682 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:28:42,682 [INFO] - BEGIN (implicit)
2025-03-24 17:28:42,682 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:42,682 [INFO] - [cached since 1645s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:42,682 [INFO] - ROLLBACK
2025-03-24 17:28:42,683 [INFO] - BEGIN (implicit)
2025-03-24 17:28:42,683 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:28:42,683 [INFO] - [cached since 26.06s ago] (3000, 1, 0)
2025-03-24 17:28:42,685 [INFO] - ROLLBACK
2025-03-24 17:28:42,685 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:28:42,686 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:28:42] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:40:00,289 [INFO] - BEGIN (implicit)
2025-03-24 17:40:00,299 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:00,299 [INFO] - [cached since 2323s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:00,341 [INFO] - ROLLBACK
2025-03-24 17:40:00,341 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:40:00,341 [INFO] - BEGIN (implicit)
2025-03-24 17:40:00,342 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:00,342 [INFO] - [cached since 2323s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:00,342 [INFO] - ROLLBACK
2025-03-24 17:40:00,342 [INFO] - BEGIN (implicit)
2025-03-24 17:40:00,342 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:40:00,342 [INFO] - [cached since 703.7s ago] (3000, 1, 0)
2025-03-24 17:40:00,375 [INFO] - ROLLBACK
2025-03-24 17:40:00,375 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:40:00,377 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:40:00] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:40:15,916 [INFO] - BEGIN (implicit)
2025-03-24 17:40:15,916 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:15,916 [INFO] - [cached since 2338s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:15,918 [INFO] - ROLLBACK
2025-03-24 17:40:15,918 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:40:15,918 [INFO] - BEGIN (implicit)
2025-03-24 17:40:15,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:15,918 [INFO] - [cached since 2338s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:15,918 [INFO] - ROLLBACK
2025-03-24 17:40:15,918 [INFO] - BEGIN (implicit)
2025-03-24 17:40:15,918 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:40:15,918 [INFO] - [cached since 719.3s ago] (3000, 1, 0)
2025-03-24 17:40:15,920 [INFO] - ROLLBACK
2025-03-24 17:40:15,921 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:40:15,921 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:40:15] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:42:51,058 [INFO] - BEGIN (implicit)
2025-03-24 17:42:51,058 [INFO] - PRAGMA main.table_info("users")
2025-03-24 17:42:51,058 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("students")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,069 [INFO] - COMMIT
2025-03-24 17:42:51,088 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 17:42:51,088 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 17:42:53,996 [INFO] - BEGIN (implicit)
2025-03-24 17:42:53,998 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:42:53,998 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:42:54,065 [INFO] - ROLLBACK
2025-03-24 17:42:54,065 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:42:54,065 [INFO] - BEGIN (implicit)
2025-03-24 17:42:54,065 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:42:54,066 [INFO] - [cached since 0.06796s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:42:54,066 [INFO] - ROLLBACK
2025-03-24 17:42:54,066 [INFO] - BEGIN (implicit)
2025-03-24 17:42:54,070 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:42:54,070 [INFO] - [generated in 0.00011s] (3000, 1, 0)
2025-03-24 17:42:54,124 [INFO] - ROLLBACK
2025-03-24 17:42:54,124 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:42:54] "GET /api/admin/students/3000 HTTP/1.1" 200 -
2025-03-24 17:43:16,500 [INFO] - BEGIN (implicit)
2025-03-24 17:43:16,501 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:16,501 [INFO] - [cached since 22.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:16,513 [INFO] - ROLLBACK
2025-03-24 17:43:16,513 [INFO] - GET /api/admin/student/3001 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:43:16,513 [INFO] - BEGIN (implicit)
2025-03-24 17:43:16,513 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:16,513 [INFO] - [cached since 22.52s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:16,513 [INFO] - ROLLBACK
2025-03-24 17:43:16,514 [INFO] - BEGIN (implicit)
2025-03-24 17:43:16,514 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:43:16,514 [INFO] - [cached since 22.44s ago] (3001, 1, 0)
2025-03-24 17:43:16,536 [INFO] - ROLLBACK
2025-03-24 17:43:16,536 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:43:16] "GET /api/admin/students/3001 HTTP/1.1" 200 -
2025-03-24 17:43:42,855 [INFO] - BEGIN (implicit)
2025-03-24 17:43:42,855 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:42,855 [INFO] - [cached since 48.86s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:42,859 [INFO] - ROLLBACK
2025-03-24 17:43:42,859 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:43:42,860 [INFO] - BEGIN (implicit)
2025-03-24 17:43:42,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:42,860 [INFO] - [cached since 48.86s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:42,860 [INFO] - ROLLBACK
2025-03-24 17:43:42,861 [INFO] - BEGIN (implicit)
2025-03-24 17:43:42,861 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:43:42,861 [INFO] - [cached since 48.79s ago] (3081, 1, 0)
2025-03-24 17:43:42,861 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:43:42,861 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:43:42,861 [INFO] - ROLLBACK
2025-03-24 17:43:42,861 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 119, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 166, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:43:42,940 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:43:42] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 17:54:24,869 [INFO] - BEGIN (implicit)
2025-03-24 17:54:24,890 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:54:24,890 [INFO] - [cached since 690.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:54:24,940 [INFO] - ROLLBACK
2025-03-24 17:54:24,940 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:54:24,940 [INFO] - BEGIN (implicit)
2025-03-24 17:54:24,940 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:54:24,940 [INFO] - [cached since 690.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:54:24,941 [INFO] - ROLLBACK
2025-03-24 17:54:24,941 [INFO] - BEGIN (implicit)
2025-03-24 17:54:24,941 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:54:24,941 [INFO] - [cached since 690.9s ago] (3081, 1, 0)
2025-03-24 17:54:24,942 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:54:24,942 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:54:24,942 [INFO] - ROLLBACK
2025-03-24 17:54:24,962 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 119, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 166, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:54:24,964 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:54:24] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 17:58:22,476 [INFO] - BEGIN (implicit)
2025-03-24 17:58:22,486 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:22,486 [INFO] - [cached since 928.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:22,528 [INFO] - ROLLBACK
2025-03-24 17:58:22,529 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:58:22,529 [INFO] - BEGIN (implicit)
2025-03-24 17:58:22,529 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:22,529 [INFO] - [cached since 928.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:22,529 [INFO] - ROLLBACK
2025-03-24 17:58:22,529 [INFO] - BEGIN (implicit)
2025-03-24 17:58:22,530 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:58:22,530 [INFO] - [cached since 928.4s ago] (3081, 1, 0)
2025-03-24 17:58:22,530 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:58:22,530 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:58:22,530 [INFO] - ROLLBACK
2025-03-24 17:58:22,536 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 119, in get
    logging.error(f"GET /api/admin/student/{student_id} - Not found for user {username}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 166, in get
    logging.error(f"GET /api/admin/student/{student_id} - Error: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:58:22,539 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:58:22] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 17:58:29,609 [INFO] - BEGIN (implicit)
2025-03-24 17:58:29,609 [INFO] - PRAGMA main.table_info("users")
2025-03-24 17:58:29,609 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("students")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - COMMIT
2025-03-24 17:58:29,639 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 17:58:29,639 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 17:58:31,635 [INFO] - BEGIN (implicit)
2025-03-24 17:58:31,637 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:31,637 [INFO] - [generated in 0.00023s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:31,705 [INFO] - ROLLBACK
2025-03-24 17:58:31,705 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:58:31,705 [INFO] - BEGIN (implicit)
2025-03-24 17:58:31,706 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:31,706 [INFO] - [cached since 0.06878s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:31,706 [INFO] - ROLLBACK
2025-03-24 17:58:31,706 [INFO] - BEGIN (implicit)
2025-03-24 17:58:31,709 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:58:31,709 [INFO] - [generated in 0.00012s] (3081, 1, 0)
2025-03-24 17:58:31,716 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:58:31,716 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:58:31,716 [INFO] - ROLLBACK
2025-03-24 17:58:31,716 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 120, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 167, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:58:31,724 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:58:31] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 18:01:57,091 [INFO] - BEGIN (implicit)
2025-03-24 18:01:57,092 [INFO] - PRAGMA main.table_info("users")
2025-03-24 18:01:57,092 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("students")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - COMMIT
2025-03-24 18:01:57,121 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 18:01:57,121 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 18:01:58,744 [INFO] - BEGIN (implicit)
2025-03-24 18:01:58,745 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:01:58,745 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:01:58,820 [INFO] - ROLLBACK
2025-03-24 18:01:58,820 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:01:58,820 [INFO] - BEGIN (implicit)
2025-03-24 18:01:58,820 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:01:58,820 [INFO] - [cached since 0.07515s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:01:58,821 [INFO] - ROLLBACK
2025-03-24 18:01:58,821 [INFO] - BEGIN (implicit)
2025-03-24 18:01:58,824 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:01:58,824 [INFO] - [generated in 0.00011s] (3081, 1, 0)
2025-03-24 18:01:58,830 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:01:58,830 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 18:01:58,830 [INFO] - ROLLBACK
2025-03-24 18:01:58,831 [ERROR] - Exception on /api/admin/student/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 120, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 167, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 18:01:58,850 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:01:58] "[35m[1mGET /api/admin/student/3081 HTTP/1.1[0m" 500 -
2025-03-24 18:19:08,932 [INFO] - BEGIN (implicit)
2025-03-24 18:19:08,953 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:19:08,953 [INFO] - [cached since 1030s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:19:09,002 [INFO] - ROLLBACK
2025-03-24 18:19:09,003 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:19:09,003 [INFO] - BEGIN (implicit)
2025-03-24 18:19:09,003 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:19:09,003 [INFO] - [cached since 1030s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:19:09,003 [INFO] - ROLLBACK
2025-03-24 18:19:09,003 [INFO] - BEGIN (implicit)
2025-03-24 18:19:09,004 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:19:09,004 [INFO] - [cached since 1030s ago] (3081, 1, 0)
2025-03-24 18:19:09,004 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:19:09,004 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 18:19:09,004 [INFO] - ROLLBACK
2025-03-24 18:19:09,014 [ERROR] - Exception on /api/admin/student/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 120, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 167, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 18:19:09,015 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:19:09] "[35m[1mGET /api/admin/student/3081 HTTP/1.1[0m" 500 -
2025-03-24 18:49:40,568 [INFO] - BEGIN (implicit)
2025-03-24 18:49:40,568 [INFO] - PRAGMA main.table_info("users")
2025-03-24 18:49:40,568 [INFO] - [raw sql] ()
2025-03-24 18:49:40,597 [INFO] - PRAGMA main.table_info("students")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - COMMIT
2025-03-24 18:49:40,620 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 18:49:40,620 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 18:49:42,085 [INFO] - BEGIN (implicit)
2025-03-24 18:49:42,086 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:49:42,086 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:49:42,164 [INFO] - ROLLBACK
2025-03-24 18:49:42,164 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:49:42,164 [INFO] - BEGIN (implicit)
2025-03-24 18:49:42,164 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:49:42,164 [INFO] - [cached since 0.07832s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:49:42,165 [INFO] - ROLLBACK
2025-03-24 18:49:42,165 [INFO] - BEGIN (implicit)
2025-03-24 18:49:42,168 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:49:42,168 [INFO] - [generated in 0.00011s] (3081, 1, 0)
2025-03-24 18:49:42,174 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:49:42,174 [INFO] - ROLLBACK
2025-03-24 18:49:42,175 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:49:42] "[33mGET /api/admin/student/3081 HTTP/1.1[0m" 404 -
2025-03-24 18:51:18,089 [INFO] - BEGIN (implicit)
2025-03-24 18:51:18,090 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:51:18,090 [INFO] - [cached since 96s ago] ('ijkygjhg', 1, 0)
2025-03-24 18:51:18,091 [INFO] - ROLLBACK
2025-03-24 18:51:18,091 [ERROR] - GET /api/admin/student/3081 - Invalid or missing API key, IP: 127.0.0.1
2025-03-24 18:51:18,091 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:51:18] "[31m[1mGET /api/admin/student/3081 HTTP/1.1[0m" 401 -
2025-03-24 18:51:24,117 [INFO] - BEGIN (implicit)
2025-03-24 18:51:24,118 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:51:24,118 [INFO] - [cached since 102s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:51:24,121 [INFO] - ROLLBACK
2025-03-24 18:51:24,122 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:51:24,122 [INFO] - BEGIN (implicit)
2025-03-24 18:51:24,122 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:51:24,122 [INFO] - [cached since 102s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:51:24,122 [INFO] - ROLLBACK
2025-03-24 18:51:24,122 [INFO] - BEGIN (implicit)
2025-03-24 18:51:24,122 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:51:24,122 [INFO] - [cached since 102s ago] (3081, 1, 0)
2025-03-24 18:51:24,123 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:51:24,123 [INFO] - ROLLBACK
2025-03-24 18:51:24,123 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:51:24] "[33mGET /api/admin/student/3081 HTTP/1.1[0m" 404 -
2025-03-24 18:52:53,232 [INFO] - BEGIN (implicit)
2025-03-24 18:52:53,233 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:52:53,233 [INFO] - [cached since 191.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:52:53,234 [INFO] - ROLLBACK
2025-03-24 18:52:53,234 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:52:53,234 [INFO] - BEGIN (implicit)
2025-03-24 18:52:53,234 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:52:53,234 [INFO] - [cached since 191.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:52:53,234 [INFO] - ROLLBACK
2025-03-24 18:52:53,235 [INFO] - BEGIN (implicit)
2025-03-24 18:52:53,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 18:52:53,236 [INFO] - [generated in 0.00011s] ('user71', 1, 0)
2025-03-24 18:52:53,236 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 18:52:53,236 [INFO] - ROLLBACK
2025-03-24 18:52:53,236 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 18:52:53,236 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 251, in post
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 311, in post
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 18:52:53,324 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:52:53] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 18:55:16,296 [INFO] - BEGIN (implicit)
2025-03-24 18:55:16,296 [INFO] - PRAGMA main.table_info("users")
2025-03-24 18:55:16,296 [INFO] - [raw sql] ()
2025-03-24 18:55:16,329 [INFO] - PRAGMA main.table_info("students")
2025-03-24 18:55:16,329 [INFO] - [raw sql] ()
2025-03-24 18:55:16,329 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 18:55:16,329 [INFO] - [raw sql] ()
2025-03-24 18:55:16,329 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 18:55:16,329 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - COMMIT
2025-03-24 18:55:16,349 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 18:55:16,349 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 18:55:18,745 [INFO] - BEGIN (implicit)
2025-03-24 18:55:18,747 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:18,747 [INFO] - [generated in 0.00013s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:18,815 [INFO] - ROLLBACK
2025-03-24 18:55:18,815 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:55:18,816 [INFO] - BEGIN (implicit)
2025-03-24 18:55:18,816 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:18,816 [INFO] - [cached since 0.06905s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:18,816 [INFO] - ROLLBACK
2025-03-24 18:55:18,816 [INFO] - BEGIN (implicit)
2025-03-24 18:55:18,817 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:18,817 [INFO] - [generated in 0.00007s] ('user71', 1, 0)
2025-03-24 18:55:18,817 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 18:55:18,817 [INFO] - ROLLBACK
2025-03-24 18:55:18,818 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:55:18] "[31m[1mPOST /api/admin/students HTTP/1.1[0m" 400 -
2025-03-24 18:55:44,031 [INFO] - BEGIN (implicit)
2025-03-24 18:55:44,032 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,033 [INFO] - [cached since 25.29s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:44,038 [INFO] - ROLLBACK
2025-03-24 18:55:44,038 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:55:44,039 [INFO] - BEGIN (implicit)
2025-03-24 18:55:44,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,039 [INFO] - [cached since 25.29s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:44,039 [INFO] - ROLLBACK
2025-03-24 18:55:44,039 [INFO] - BEGIN (implicit)
2025-03-24 18:55:44,040 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,040 [INFO] - [cached since 25.22s ago] ('user72', 1, 0)
2025-03-24 18:55:44,040 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,041 [INFO] - [generated in 0.00010s] ('ivanov_23@example.com', 1, 0)
2025-03-24 18:55:44,041 [ERROR] - POST /api/admin/students - Email ivanov_23@example.com already exists
2025-03-24 18:55:44,041 [INFO] - ROLLBACK
2025-03-24 18:55:44,041 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:55:44] "[31m[1mPOST /api/admin/students HTTP/1.1[0m" 400 -
2025-03-24 19:23:39,068 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,087 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,087 [INFO] - [cached since 1700s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,130 [INFO] - ROLLBACK
2025-03-24 19:23:39,130 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:23:39,131 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,131 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,131 [INFO] - [cached since 1700s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,131 [INFO] - ROLLBACK
2025-03-24 19:23:39,131 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,132 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,132 [INFO] - [cached since 1700s ago] ('test_student', 1, 0)
2025-03-24 19:23:39,132 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,132 [INFO] - [cached since 1675s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:23:39,203 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:23:39,203 [INFO] - [generated in 0.00019s] ('test_student', 'scrypt:32768:8:1$2pquQV8Er8R44Y6n$d79a1f5b7805662148e5dcb79e5b5cd85db3253d18265b07070c09bffb7d82c690a5102a4763951640a62a05c8c0e0850aaa568ce21986e31cca84f1f42b996c', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:23:39,209 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,209 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-24 19:23:39,241 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:23:39,241 [INFO] - [generated in 0.00009s] ()
2025-03-24 19:23:39,257 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:23:39,257 [INFO] - [generated in 0.00011s] (72, 3051, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:23:39,257 [INFO] - COMMIT
2025-03-24 19:23:39,335 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,336 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:23:39,336 [INFO] - [generated in 0.00009s] (72,)
2025-03-24 19:23:39,336 [INFO] - POST /api/admin/students - Created student with user_id 72 by user2
2025-03-24 19:23:39,337 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:23:39,337 [INFO] - [generated in 0.00006s] (72,)
2025-03-24 19:23:39,341 [INFO] - ROLLBACK
2025-03-24 19:23:39,342 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:23:39,344 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,344 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,344 [INFO] - ROLLBACK
2025-03-24 19:23:39,344 [INFO] - GET /api/admin/student/3051 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:23:39,344 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,344 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,344 [INFO] - ROLLBACK
2025-03-24 19:23:39,345 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,347 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:23:39,347 [INFO] - [generated in 0.00008s] (3051, 1, 0)
2025-03-24 19:23:39,493 [INFO] - ROLLBACK
2025-03-24 19:23:39,494 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "GET /api/admin/student/3051 HTTP/1.1" 200 -
2025-03-24 19:23:39,496 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,496 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,496 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,496 [INFO] - ROLLBACK
2025-03-24 19:23:39,496 [INFO] - PATCH /api/admin/student/3051 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:23:39,496 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,496 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,496 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,497 [INFO] - ROLLBACK
2025-03-24 19:23:39,497 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,498 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,498 [INFO] - [generated in 0.00010s] (3051, 1, 0)
2025-03-24 19:23:39,499 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:23:39,499 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe1@example.com', 72)
2025-03-24 19:23:39,500 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:23:39,500 [INFO] - [generated in 0.00006s] ('2005-05-16', 72)
2025-03-24 19:23:39,500 [INFO] - COMMIT
2025-03-24 19:23:39,504 [INFO] - PATCH /api/admin/student/3051 - Updated by user user2
2025-03-24 19:23:39,505 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,506 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:23:39,506 [INFO] - [generated in 0.00008s] (72,)
2025-03-24 19:23:39,507 [INFO] - ROLLBACK
2025-03-24 19:23:39,507 [ERROR] - Exception on /api/admin/student/3051 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:23:39,525 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "[35m[1mPATCH /api/admin/student/3051 HTTP/1.1[0m" 500 -
2025-03-24 19:23:39,538 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "[31m[1mDELETE /api/admin/student/3051 HTTP/1.1[0m" 405 -
2025-03-24 19:25:38,601 [INFO] - BEGIN (implicit)
2025-03-24 19:25:38,601 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:25:38,601 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,603 [INFO] - COMMIT
2025-03-24 19:25:38,621 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:25:38,621 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:26:19,667 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,669 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,669 [INFO] - [generated in 0.00022s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,711 [INFO] - ROLLBACK
2025-03-24 19:26:19,711 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,711 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,711 [INFO] - [cached since 0.04238s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,711 [INFO] - ROLLBACK
2025-03-24 19:26:19,712 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,712 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,712 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-24 19:26:19,713 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,713 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-24 19:26:19,787 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:26:19,788 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$JBXyVs4H1x6cVBjI$2bd75525398373aeaa0e5da112c28ed29824c13cff4b0fd93ed1cf4a7f378b5eb33c5690bb5674d240101284a73258816a8ad3a63829285ce67ae27eca850e58', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:26:19,790 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,790 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-24 19:26:19,792 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:26:19,792 [INFO] - [generated in 0.00006s] ()
2025-03-24 19:26:19,793 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:26:19,793 [INFO] - [generated in 0.00006s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:26:19,793 [INFO] - COMMIT
2025-03-24 19:26:19,798 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,798 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:26:19,798 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,798 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:26:19,799 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:26:19,799 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,799 [INFO] - ROLLBACK
2025-03-24 19:26:19,799 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:26:19,801 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,801 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,801 [INFO] - [cached since 0.1327s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,802 [INFO] - ROLLBACK
2025-03-24 19:26:19,802 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,802 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,802 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,802 [INFO] - [cached since 0.1331s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,802 [INFO] - ROLLBACK
2025-03-24 19:26:19,802 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,805 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:26:19,805 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 19:26:19,951 [INFO] - ROLLBACK
2025-03-24 19:26:19,952 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:26:19,954 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,954 [INFO] - [cached since 0.2852s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,954 [INFO] - ROLLBACK
2025-03-24 19:26:19,954 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,954 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,954 [INFO] - [cached since 0.2856s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,954 [INFO] - ROLLBACK
2025-03-24 19:26:19,955 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,956 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,956 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 19:26:19,957 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:26:19,957 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe1@example.com', 71)
2025-03-24 19:26:19,958 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:26:19,958 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 19:26:19,958 [INFO] - COMMIT
2025-03-24 19:26:19,962 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:26:19,962 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,963 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:26:19,963 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:26:19,963 [INFO] - ROLLBACK
2025-03-24 19:26:19,963 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:26:19,983 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:26:19,984 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,984 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,984 [INFO] - [cached since 0.3157s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,985 [INFO] - ROLLBACK
2025-03-24 19:26:19,985 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,985 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,985 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,985 [INFO] - [cached since 0.3161s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,985 [INFO] - ROLLBACK
2025-03-24 19:26:19,985 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,987 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,987 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:26:19,987 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:26:19,987 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,988 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:26:19,988 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,988 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:26:19,988 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,989 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:26:19,989 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,990 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:26:19,990 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,990 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:26:19,990 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 19:26:19,990 [INFO] - COMMIT
2025-03-24 19:26:19,995 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:26:19,995 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:26:19,996 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:27:43,779 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,781 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,781 [INFO] - [cached since 84.11s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,782 [INFO] - ROLLBACK
2025-03-24 19:27:43,782 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,782 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,782 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,782 [INFO] - [cached since 84.11s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,782 [INFO] - ROLLBACK
2025-03-24 19:27:43,783 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,783 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,783 [INFO] - [cached since 84.07s ago] ('test_student', 1, 0)
2025-03-24 19:27:43,783 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,783 [INFO] - [cached since 84.07s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:27:43,853 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:27:43,853 [INFO] - [cached since 84.07s ago] ('test_student', 'scrypt:32768:8:1$k1hFlJb0Bp7gQabT$ceae01b9a95af9d72f039450431c9c55f2d7c4ebde956d9d0e40a320a54af06a652255461418a25b0206039ae30a0de7a5d6ef299e139a728f0be53c5cc221e6', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:27:43,868 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,868 [INFO] - [cached since 84.08s ago] ('1', 1, 0)
2025-03-24 19:27:43,868 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:27:43,868 [INFO] - [cached since 84.08s ago] ()
2025-03-24 19:27:43,868 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:27:43,868 [INFO] - [cached since 84.08s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:27:43,869 [INFO] - COMMIT
2025-03-24 19:27:43,886 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,886 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:27:43,886 [INFO] - [cached since 84.09s ago] (71,)
2025-03-24 19:27:43,886 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:27:43,886 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:27:43,887 [INFO] - [cached since 84.09s ago] (71,)
2025-03-24 19:27:43,887 [INFO] - ROLLBACK
2025-03-24 19:27:43,887 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:27:43,889 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,889 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,889 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,890 [INFO] - ROLLBACK
2025-03-24 19:27:43,890 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,890 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,890 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,890 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,890 [INFO] - ROLLBACK
2025-03-24 19:27:43,890 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,890 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:27:43,890 [INFO] - [cached since 84.09s ago] (3050, 1, 0)
2025-03-24 19:27:43,891 [INFO] - ROLLBACK
2025-03-24 19:27:43,891 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:27:43,893 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,893 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,893 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,893 [INFO] - ROLLBACK
2025-03-24 19:27:43,893 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,893 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,893 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,893 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,893 [INFO] - ROLLBACK
2025-03-24 19:27:43,893 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,894 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,894 [INFO] - [cached since 83.94s ago] (3050, 1, 0)
2025-03-24 19:27:43,894 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:27:43,894 [INFO] - [cached since 83.94s ago] ('Johnny', 'johnny.doe1@example.com', 71)
2025-03-24 19:27:43,894 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:27:43,895 [INFO] - [cached since 83.94s ago] ('2005-05-16', 71)
2025-03-24 19:27:43,895 [INFO] - COMMIT
2025-03-24 19:27:43,898 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:27:43,898 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,898 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:27:43,898 [INFO] - [cached since 83.94s ago] (71,)
2025-03-24 19:27:43,899 [INFO] - ROLLBACK
2025-03-24 19:27:43,899 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:27:43,901 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:27:43,904 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,905 [INFO] - [cached since 84.24s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,905 [INFO] - ROLLBACK
2025-03-24 19:27:43,905 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,905 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,905 [INFO] - [cached since 84.24s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,905 [INFO] - ROLLBACK
2025-03-24 19:27:43,905 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,905 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,905 [INFO] - [cached since 83.92s ago] (3050, 1, 0)
2025-03-24 19:27:43,906 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,906 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,906 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,906 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,907 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:27:43,907 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,907 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:27:43,907 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,907 [INFO] - COMMIT
2025-03-24 19:27:43,912 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:27:43,912 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:27:43,912 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:32:25,817 [INFO] - BEGIN (implicit)
2025-03-24 19:32:25,827 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,827 [INFO] - [cached since 366.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:25,870 [INFO] - ROLLBACK
2025-03-24 19:32:25,870 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:25,870 [INFO] - BEGIN (implicit)
2025-03-24 19:32:25,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,871 [INFO] - [cached since 366.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:25,871 [INFO] - ROLLBACK
2025-03-24 19:32:25,871 [INFO] - BEGIN (implicit)
2025-03-24 19:32:25,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,872 [INFO] - [cached since 366.2s ago] ('test_student', 1, 0)
2025-03-24 19:32:25,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,872 [INFO] - [cached since 366.2s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:32:25,941 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:32:25,941 [INFO] - [cached since 366.2s ago] ('test_student', 'scrypt:32768:8:1$LM9O4ZWTO5N43lVW$cf544b33413ca809404ecdd6f13865485c9b72993866fc1eae0ba798731522454c2066c84e31a6b5bb20cd88916011f6bb777837f365a2818bb55f5417c19533', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:32:25,943 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,943 [INFO] - [cached since 366.2s ago] ('1', 1, 0)
2025-03-24 19:32:25,943 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:32:25,943 [INFO] - [cached since 366.2s ago] ()
2025-03-24 19:32:25,944 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:32:25,944 [INFO] - [cached since 366.2s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:32:25,944 [INFO] - COMMIT
2025-03-24 19:32:26,092 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,092 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:32:26,092 [INFO] - [cached since 366.3s ago] (71,)
2025-03-24 19:32:26,092 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:32:26,092 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:32:26,092 [INFO] - [cached since 366.3s ago] (71,)
2025-03-24 19:32:26,114 [INFO] - ROLLBACK
2025-03-24 19:32:26,114 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:32:26,116 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,116 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,116 [INFO] - [cached since 366.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,117 [INFO] - ROLLBACK
2025-03-24 19:32:26,117 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:26,117 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,117 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,117 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,117 [INFO] - ROLLBACK
2025-03-24 19:32:26,117 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,117 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:32:26,117 [INFO] - [cached since 366.3s ago] (3050, 1, 0)
2025-03-24 19:32:26,118 [INFO] - ROLLBACK
2025-03-24 19:32:26,118 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:32:26,120 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,120 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,120 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,120 [INFO] - ROLLBACK
2025-03-24 19:32:26,120 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:26,120 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,120 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,120 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,120 [INFO] - ROLLBACK
2025-03-24 19:32:26,120 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,120 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,120 [INFO] - [cached since 366.2s ago] (3050, 1, 0)
2025-03-24 19:32:26,121 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:32:26,121 [INFO] - [cached since 366.2s ago] ('Johnny', 'johnny.doe1@example.com', 71)
2025-03-24 19:32:26,121 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:32:26,121 [INFO] - [cached since 366.2s ago] ('2005-05-16', 71)
2025-03-24 19:32:26,121 [INFO] - COMMIT
2025-03-24 19:32:26,146 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:32:26,146 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,146 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:32:26,146 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,147 [INFO] - ROLLBACK
2025-03-24 19:32:26,147 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:32:26,148 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:32:26,149 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,149 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,149 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,150 [INFO] - ROLLBACK
2025-03-24 19:32:26,150 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:26,150 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,150 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,150 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,150 [INFO] - ROLLBACK
2025-03-24 19:32:26,150 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,150 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,150 [INFO] - [cached since 366.2s ago] (3050, 1, 0)
2025-03-24 19:32:26,150 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,152 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:32:26,152 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,152 [INFO] - COMMIT
2025-03-24 19:32:26,157 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:32:26,157 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:32:26,158 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:33:20,961 [INFO] - BEGIN (implicit)
2025-03-24 19:33:20,963 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,963 [INFO] - [cached since 421.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:20,980 [INFO] - ROLLBACK
2025-03-24 19:33:20,980 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:20,980 [INFO] - BEGIN (implicit)
2025-03-24 19:33:20,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,980 [INFO] - [cached since 421.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:20,981 [INFO] - ROLLBACK
2025-03-24 19:33:20,981 [INFO] - BEGIN (implicit)
2025-03-24 19:33:20,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,981 [INFO] - [cached since 421.3s ago] ('test_student', 1, 0)
2025-03-24 19:33:20,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,981 [INFO] - [cached since 421.3s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:33:21,052 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:33:21,052 [INFO] - [cached since 421.3s ago] ('test_student', 'scrypt:32768:8:1$2TcMRTRzGmnHFJWT$19a9693e4894072d2c3b30d881a791c84bc835ba5cbf003e17538d0244d2e234dcf6150835834e67928e79b20f9c02a6f9c7be6b118b0d3e8cf46e96a8c3d741', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:33:21,053 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,053 [INFO] - [cached since 421.3s ago] ('1', 1, 0)
2025-03-24 19:33:21,053 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:33:21,053 [INFO] - [cached since 421.3s ago] ()
2025-03-24 19:33:21,054 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:33:21,054 [INFO] - [cached since 421.3s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:33:21,054 [INFO] - COMMIT
2025-03-24 19:33:21,136 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,137 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:33:21,137 [INFO] - [cached since 421.3s ago] (71,)
2025-03-24 19:33:21,137 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:33:21,137 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:33:21,137 [INFO] - [cached since 421.3s ago] (71,)
2025-03-24 19:33:21,137 [INFO] - ROLLBACK
2025-03-24 19:33:21,137 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:33:21,140 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,140 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,140 [INFO] - ROLLBACK
2025-03-24 19:33:21,140 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:21,140 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,141 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,141 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,141 [INFO] - ROLLBACK
2025-03-24 19:33:21,141 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,141 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:33:21,141 [INFO] - [cached since 421.3s ago] (3050, 1, 0)
2025-03-24 19:33:21,142 [INFO] - ROLLBACK
2025-03-24 19:33:21,142 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:33:21,144 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,144 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,144 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,144 [INFO] - ROLLBACK
2025-03-24 19:33:21,144 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:21,144 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,144 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,144 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,144 [INFO] - ROLLBACK
2025-03-24 19:33:21,145 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,145 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,145 [INFO] - [cached since 421.2s ago] (3050, 1, 0)
2025-03-24 19:33:21,145 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:33:21,145 [INFO] - [cached since 421.2s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:33:21,166 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:33:21,166 [INFO] - [cached since 421.2s ago] ('2005-05-16', 71)
2025-03-24 19:33:21,166 [INFO] - COMMIT
2025-03-24 19:33:21,172 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:33:21,172 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,172 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:33:21,172 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,173 [INFO] - ROLLBACK
2025-03-24 19:33:21,173 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:33:21,175 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:33:21,177 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,177 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,177 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,177 [INFO] - ROLLBACK
2025-03-24 19:33:21,177 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:21,178 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,178 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,178 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,178 [INFO] - ROLLBACK
2025-03-24 19:33:21,178 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,178 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,178 [INFO] - [cached since 421.2s ago] (3050, 1, 0)
2025-03-24 19:33:21,179 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:33:21,179 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,179 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:33:21,179 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,179 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:33:21,179 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:33:21,180 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:33:21,180 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:33:21,180 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - COMMIT
2025-03-24 19:33:21,185 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:33:21,185 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:33:21,186 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:33:38,295 [INFO] - BEGIN (implicit)
2025-03-24 19:33:38,295 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:33:38,295 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - COMMIT
2025-03-24 19:33:38,325 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:33:38,325 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:33:39,210 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,211 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,211 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,224 [INFO] - ROLLBACK
2025-03-24 19:33:39,224 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,225 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,225 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,225 [INFO] - [cached since 0.01392s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,225 [INFO] - ROLLBACK
2025-03-24 19:33:39,225 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,226 [INFO] - [generated in 0.00007s] ('test_student', 1, 0)
2025-03-24 19:33:39,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,226 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-24 19:33:39,298 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:33:39,298 [INFO] - [generated in 0.00012s] ('test_student', 'scrypt:32768:8:1$g4g2pFjFqIUOyb7x$90930cd2eb264188b66e1390258e215a5873ae3122f0cd1390466ae335d785023dbdfebf607a3546d81f46bf3a8d053bb90f9777628dc2c32379b7c0254b114f', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:33:39,314 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,314 [INFO] - [generated in 0.00008s] ('1', 1, 0)
2025-03-24 19:33:39,315 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:33:39,315 [INFO] - [generated in 0.00006s] ()
2025-03-24 19:33:39,316 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:33:39,316 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:33:39,316 [INFO] - COMMIT
2025-03-24 19:33:39,321 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,322 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:33:39,322 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,322 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:33:39,322 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:33:39,322 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,322 [INFO] - ROLLBACK
2025-03-24 19:33:39,323 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:33:39,325 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,325 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,325 [INFO] - [cached since 0.114s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,325 [INFO] - ROLLBACK
2025-03-24 19:33:39,325 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,325 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,325 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,325 [INFO] - [cached since 0.1144s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,325 [INFO] - ROLLBACK
2025-03-24 19:33:39,326 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,328 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:33:39,328 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 19:33:39,329 [INFO] - ROLLBACK
2025-03-24 19:33:39,329 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:33:39,331 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,331 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,331 [INFO] - [cached since 0.12s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,331 [INFO] - ROLLBACK
2025-03-24 19:33:39,331 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,331 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,331 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,331 [INFO] - [cached since 0.1204s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,331 [INFO] - ROLLBACK
2025-03-24 19:33:39,331 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,332 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,332 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 19:33:39,334 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:33:39,334 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:33:39,353 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:33:39,353 [INFO] - [generated in 0.00007s] ('2005-05-16', 71)
2025-03-24 19:33:39,353 [INFO] - COMMIT
2025-03-24 19:33:39,359 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:33:39,359 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,360 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:33:39,360 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,361 [INFO] - ROLLBACK
2025-03-24 19:33:39,361 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:33:39,362 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,362 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,362 [INFO] - [cached since 0.1515s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,362 [INFO] - ROLLBACK
2025-03-24 19:33:39,362 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,363 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,363 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,363 [INFO] - [cached since 0.152s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,363 [INFO] - ROLLBACK
2025-03-24 19:33:39,363 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,364 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,364 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 19:33:39,365 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:33:39,365 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 19:33:39,366 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:33:39,366 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 19:33:39,367 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:33:39,367 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,367 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:33:39,367 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,368 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:33:39,368 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:33:39,368 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:33:39,368 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 19:33:39,368 [INFO] - COMMIT
2025-03-24 19:33:39,374 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:33:39,374 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:46:56,142 [INFO] - BEGIN (implicit)
2025-03-24 19:46:56,142 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:46:56,142 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,144 [INFO] - COMMIT
2025-03-24 19:46:56,172 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:46:56,172 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:47:02,872 [INFO] - BEGIN (implicit)
2025-03-24 19:47:02,874 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:02,874 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:02,960 [INFO] - ROLLBACK
2025-03-24 19:47:02,960 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:02,961 [INFO] - BEGIN (implicit)
2025-03-24 19:47:02,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:02,961 [INFO] - [generated in 0.00009s] ('test_student', 1, 0)
2025-03-24 19:47:02,962 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:02,962 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-24 19:47:03,035 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:47:03,035 [INFO] - [generated in 0.00015s] ('test_student', 'scrypt:32768:8:1$NPtA6Bd7Jp1davsH$050d9c7f1a2e5fb1dec3fd7902fa517f2892188c28ed7955c7cc2ffbeef58d225d11de9d63ca355f25fe95a7474f4adffd5256c3fc1018869b60fd4a6c5fd19a', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:47:03,075 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,075 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-24 19:47:03,108 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:47:03,108 [INFO] - [generated in 0.00012s] ()
2025-03-24 19:47:03,119 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:47:03,119 [INFO] - [generated in 0.00011s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:47:03,119 [INFO] - COMMIT
2025-03-24 19:47:03,139 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:47:03,140 [INFO] - [generated in 0.00010s] (71,)
2025-03-24 19:47:03,140 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:47:03,141 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:47:03,141 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:47:03,141 [INFO] - ROLLBACK
2025-03-24 19:47:03,141 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 19:47:03,143 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,143 [INFO] - [cached since 0.2698s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:03,144 [INFO] - ROLLBACK
2025-03-24 19:47:03,144 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:03,144 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,147 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:47:03,147 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 19:47:03,180 [INFO] - ROLLBACK
2025-03-24 19:47:03,180 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:47:03,182 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,182 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,182 [INFO] - [cached since 0.3084s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:03,182 [INFO] - ROLLBACK
2025-03-24 19:47:03,182 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:03,182 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,184 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,184 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:47:03,185 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:47:03,185 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:47:03,185 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:47:03,185 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 19:47:03,185 [INFO] - COMMIT
2025-03-24 19:47:03,232 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:47:03,232 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:47:03,233 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 19:47:03,233 [INFO] - ROLLBACK
2025-03-24 19:47:03,233 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:47:03,235 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,235 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,235 [INFO] - [cached since 0.3617s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:03,236 [INFO] - ROLLBACK
2025-03-24 19:47:03,236 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:03,236 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,237 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,237 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:47:03,238 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:47:03,238 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,239 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:47:03,239 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,239 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:47:03,239 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,240 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:47:03,240 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:47:03,241 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:47:03,241 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:47:03,241 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:47:03,241 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,241 [INFO] - COMMIT
2025-03-24 19:47:03,246 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:47:03,246 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:47:03,248 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "[33mGET /api/admin/students HTTP/1.1[0m" 404 -
2025-03-24 19:48:48,988 [INFO] - BEGIN (implicit)
2025-03-24 19:48:48,996 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:48:48,997 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - COMMIT
2025-03-24 19:48:49,018 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:48:49,018 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:48:50,604 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,606 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,606 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,695 [INFO] - ROLLBACK
2025-03-24 19:48:50,695 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,695 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,696 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,696 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-24 19:48:50,696 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,696 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-24 19:48:50,768 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:48:50,768 [INFO] - [generated in 0.00012s] ('test_student', 'scrypt:32768:8:1$h9XlfnAIV7t0BQrU$7d4e7cf0ef3ee048576e0912854603fcb541348a720274dd5b1b0d9555583061459d7fd263fd30ed08effc7ed98d4e56ec41397bc3b4322c7dd9a36315bd61f0', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:48:50,820 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,820 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-24 19:48:50,842 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:48:50,842 [INFO] - [generated in 0.00008s] ()
2025-03-24 19:48:50,842 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:48:50,842 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:48:50,842 [INFO] - COMMIT
2025-03-24 19:48:50,868 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,868 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:48:50,868 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 19:48:50,869 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:48:50,869 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:48:50,869 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:48:50,869 [INFO] - ROLLBACK
2025-03-24 19:48:50,870 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 19:48:50,872 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,872 [INFO] - [cached since 0.2659s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,872 [INFO] - ROLLBACK
2025-03-24 19:48:50,872 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,872 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,875 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:48:50,875 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 19:48:50,876 [INFO] - ROLLBACK
2025-03-24 19:48:50,876 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:48:50,877 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,878 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,878 [INFO] - [cached since 0.2717s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,878 [INFO] - ROLLBACK
2025-03-24 19:48:50,878 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,878 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,879 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,879 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:48:50,880 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:48:50,880 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:48:50,881 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:48:50,881 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-24 19:48:50,881 [INFO] - COMMIT
2025-03-24 19:48:50,909 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:48:50,909 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,910 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:48:50,910 [INFO] - [generated in 0.00009s] (71,)
2025-03-24 19:48:50,910 [INFO] - ROLLBACK
2025-03-24 19:48:50,910 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:48:50,912 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,912 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,912 [INFO] - [cached since 0.3061s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,912 [INFO] - ROLLBACK
2025-03-24 19:48:50,912 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,912 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,914 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,914 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:48:50,915 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:48:50,915 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:48:50,915 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:48:50,915 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:48:50,916 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:48:50,916 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:48:50,916 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:48:50,916 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:48:50,917 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:48:50,917 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:48:50,917 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:48:50,917 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 19:48:50,918 [INFO] - COMMIT
2025-03-24 19:48:50,923 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:48:50,924 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:48:50,925 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,925 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,925 [INFO] - [cached since 0.3192s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,925 [INFO] - ROLLBACK
2025-03-24 19:48:50,925 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,925 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,926 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 19:48:50,926 [INFO] - [generated in 0.00006s] ()
2025-03-24 19:48:51,065 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-24 19:48:51,065 [INFO] - ROLLBACK
2025-03-24 19:48:51,065 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:51] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 19:54:30,044 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,044 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,045 [INFO] - [cached since 339.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,075 [INFO] - ROLLBACK
2025-03-24 19:54:30,075 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,076 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,076 [INFO] - [cached since 339.4s ago] ('test_student', 1, 0)
2025-03-24 19:54:30,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,076 [INFO] - [cached since 339.4s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:54:30,147 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:54:30,147 [INFO] - [cached since 339.4s ago] ('test_student', 'scrypt:32768:8:1$Xzpr1ObBqwCAcsbm$2d8206a0cfaafbefe00c2ef1ab898ae2198798240bed4c8d321dfe6689a32fc312ea932e5dc0904f63da73129d9947aaa235bfebe271756ccea4f606a569d918', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:54:30,148 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,148 [INFO] - [cached since 339.3s ago] ('1', 1, 0)
2025-03-24 19:54:30,172 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:54:30,172 [INFO] - [cached since 339.3s ago] ()
2025-03-24 19:54:30,173 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:54:30,173 [INFO] - [cached since 339.3s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:54:30,173 [INFO] - COMMIT
2025-03-24 19:54:30,178 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,179 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:54:30,179 [INFO] - [cached since 339.3s ago] (71,)
2025-03-24 19:54:30,179 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:54:30,179 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:54:30,179 [INFO] - [cached since 339.3s ago] (71,)
2025-03-24 19:54:30,179 [INFO] - ROLLBACK
2025-03-24 19:54:30,180 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 19:54:30,182 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,182 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,182 [INFO] - [cached since 339.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,182 [INFO] - ROLLBACK
2025-03-24 19:54:30,182 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,182 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,182 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:54:30,182 [INFO] - [cached since 339.3s ago] (3050, 1, 0)
2025-03-24 19:54:30,342 [INFO] - ROLLBACK
2025-03-24 19:54:30,342 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:54:30,345 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,345 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,345 [INFO] - [cached since 339.7s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,345 [INFO] - ROLLBACK
2025-03-24 19:54:30,345 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,345 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,345 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,345 [INFO] - [cached since 339.5s ago] (3050, 1, 0)
2025-03-24 19:54:30,346 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:54:30,346 [INFO] - [cached since 339.5s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:54:30,346 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:54:30,346 [INFO] - [cached since 339.5s ago] ('2005-05-16', 71)
2025-03-24 19:54:30,346 [INFO] - COMMIT
2025-03-24 19:54:30,350 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:54:30,350 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,351 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:54:30,351 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,351 [INFO] - ROLLBACK
2025-03-24 19:54:30,351 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:54:30,352 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,352 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,352 [INFO] - [cached since 339.7s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,353 [INFO] - ROLLBACK
2025-03-24 19:54:30,353 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,353 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,353 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,353 [INFO] - [cached since 339.4s ago] (3050, 1, 0)
2025-03-24 19:54:30,353 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:54:30,353 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,353 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:54:30,353 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,355 [INFO] - COMMIT
2025-03-24 19:54:30,359 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:54:30,359 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:54:30,361 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,361 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,361 [INFO] - [cached since 339.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,361 [INFO] - ROLLBACK
2025-03-24 19:54:30,361 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,361 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,361 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 19:54:30,361 [INFO] - [cached since 339.4s ago] ()
2025-03-24 19:54:30,363 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-24 19:54:30,363 [INFO] - ROLLBACK
2025-03-24 19:54:30,363 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 21:01:09,091 [INFO] - BEGIN (implicit)
2025-03-24 21:01:09,104 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:01:09,104 [INFO] - [raw sql] ()
2025-03-24 21:01:09,117 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:01:09,117 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - COMMIT
2025-03-24 21:01:09,137 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:01:09,137 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:01:13,558 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,559 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,559 [INFO] - [generated in 0.00010s] ('test_student', 1, 0)
2025-03-24 21:01:13,560 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,560 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-24 21:01:13,632 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:01:13,632 [INFO] - [generated in 0.00013s] ('test_student', 'scrypt:32768:8:1$hQOq3s3BdfsK42zQ$ac9a19e97f5723958f0a1efabcf344ee2dc8c7d100e41fd57087c058f3b1cd00770aa094c0dade2703cdfb4c30f84ee1c29f539c487a27d397b3f2b35b64f7fa', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:01:13,681 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,681 [INFO] - [generated in 0.00008s] ('1', 1, 0)
2025-03-24 21:01:13,705 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 21:01:13,705 [INFO] - [generated in 0.00007s] ()
2025-03-24 21:01:13,717 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 21:01:13,717 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 21:01:13,717 [INFO] - COMMIT
2025-03-24 21:01:13,778 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,778 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:01:13,778 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:01:13,779 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 21:01:13,779 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:01:13,779 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:01:13,779 [INFO] - ROLLBACK
2025-03-24 21:01:13,780 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 21:01:13,782 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,784 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 21:01:13,784 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 21:01:13,785 [INFO] - ROLLBACK
2025-03-24 21:01:13,785 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 21:01:13,787 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,788 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,788 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 21:01:13,789 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:01:13,789 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 21:01:13,790 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 21:01:13,790 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 21:01:13,790 [INFO] - COMMIT
2025-03-24 21:01:13,872 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 21:01:13,873 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,874 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 21:01:13,874 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:01:13,874 [INFO] - ROLLBACK
2025-03-24 21:01:13,874 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 21:01:13,876 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,877 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,877 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 21:01:13,878 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:01:13,878 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:01:13,945 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:01:13,945 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:01:13,946 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 21:01:13,946 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:01:13,947 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 21:01:13,947 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:01:13,947 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 21:01:13,947 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:01:13,948 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:01:13,948 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:01:13,948 [INFO] - COMMIT
2025-03-24 21:01:13,953 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 21:01:13,953 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 21:01:13,954 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,955 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 21:01:13,955 [INFO] - [generated in 0.00008s] ()
2025-03-24 21:01:14,656 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 21:01:14,656 [INFO] - ROLLBACK
2025-03-24 21:01:14,656 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:14] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 21:03:09,986 [INFO] - BEGIN (implicit)
2025-03-24 21:03:09,992 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:03:09,992 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - COMMIT
2025-03-24 21:03:10,050 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:03:10,050 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:03:11,993 [INFO] - BEGIN (implicit)
2025-03-24 21:03:11,994 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:11,995 [INFO] - [generated in 0.00011s] ('test_teacher', 1, 0)
2025-03-24 21:03:11,995 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:11,995 [INFO] - [generated in 0.00007s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:03:12,066 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:03:12,066 [INFO] - [generated in 0.00014s] ('test_teacher', 'scrypt:32768:8:1$O0wgAYjfquQoz4P2$97894ecda1b44bd53e5d8b070d8a64ec748943fe61e0e99bbb13c405e20d89ed033551b55b8ac9fcb15a0ea82385958e66b576a5044e8685444d4545c94a35ca', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AAABJ0lEQVR42u3dS24syZUt0JpgTYgNDildDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (15445 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:03:12,081 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:03:12,081 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:03:12,116 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:03:12,116 [INFO] - [generated in 0.00010s] (71, 4015)
2025-03-24 21:03:12,148 [INFO] - COMMIT
2025-03-24 21:03:12,175 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,175 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:03:12,175 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:03:12,176 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:03:12,176 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:03:12,176 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:03:12,176 [INFO] - ROLLBACK
2025-03-24 21:03:12,176 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:03:12,179 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,182 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:03:12,182 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:03:12,214 [INFO] - ROLLBACK
2025-03-24 21:03:12,214 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:03:12,216 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,218 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:03:12,218 [INFO] - [generated in 0.00014s] (4015, 1, 0)
2025-03-24 21:03:12,220 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:03:12,220 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:03:12,220 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,220 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:03:12,221 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,221 [INFO] - [generated in 0.00010s] (4015, 1, 1, 0)
2025-03-24 21:03:12,221 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,221 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:03:12,222 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:03:12,222 [INFO] - [generated in 0.00006s] (4015, 1, 1, 2)
2025-03-24 21:03:12,222 [INFO] - COMMIT
2025-03-24 21:03:12,227 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:03:12,227 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,229 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:03:12,229 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:03:12,229 [INFO] - ROLLBACK
2025-03-24 21:03:12,230 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:03:12,231 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,232 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,232 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-24 21:03:12,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:03:12,233 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:03:12,233 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:03:12,233 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:03:12,234 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:03:12,234 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:03:12,235 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:03:12,235 [INFO] - [generated in 0.00007s] (4015,)
2025-03-24 21:03:12,235 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:03:12,235 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:03:12,236 [INFO] - ROLLBACK
2025-03-24 21:03:12,236 [ERROR] - Exception on /api/admin/teacher/4015 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 305, in delete
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    self.dependency_processor.process_deletes(uow, states)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 567, in process_deletes
    self._synchronize(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 625, in _synchronize
    sync.clear(dest, self.mapper, self.prop.synchronize_pairs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/sync.py", line 88, in clear
    raise AssertionError(
AssertionError: Dependency rule on column 'teachers.teacher_id' tried to blank-out primary key column 'teacher_position_assignments.teacher_id' on instance '<TeacherPositionAssignment at 0x1074efb60>'
2025-03-24 21:03:12,313 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "[35m[1mDELETE /api/admin/teacher/4015 HTTP/1.1[0m" 500 -
2025-03-24 21:03:26,914 [INFO] - BEGIN (implicit)
2025-03-24 21:03:26,915 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:26,915 [INFO] - [cached since 14.91s ago] ('test_teacher', 1, 0)
2025-03-24 21:03:26,915 [ERROR] - POST /api/admin/teacher - Username test_teacher already exists
2025-03-24 21:03:26,915 [INFO] - ROLLBACK
2025-03-24 21:03:26,916 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:26] "[31m[1mPOST /api/admin/teacher HTTP/1.1[0m" 400 -
2025-03-24 21:04:55,309 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,321 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,321 [INFO] - [cached since 103.3s ago] ('test_teacher', 1, 0)
2025-03-24 21:04:55,323 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,323 [INFO] - [cached since 103.3s ago] ('jane.smith@example.com', 1, 0)
2025-03-24 21:04:55,398 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:04:55,398 [INFO] - [cached since 103.3s ago] ('test_teacher', 'scrypt:32768:8:1$AO5m1aN2kVP8mUAZ$6476b1378bc031acc97a2fb320349014548444d85c7265373f659a5b3ca3bf21b01a55ea316ab196a3f7654b76f44f3c0782b9e93187c5fe22ade789eae54903', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AAABJ0lEQVR42u3dS24syZUt0JpgTYgNDildDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (15445 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:04:55,421 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:04:55,421 [INFO] - [cached since 103.3s ago] ()
2025-03-24 21:04:55,421 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:04:55,421 [INFO] - [cached since 103.3s ago] (71, 4015)
2025-03-24 21:04:55,422 [INFO] - COMMIT
2025-03-24 21:04:55,429 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,429 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:04:55,429 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,429 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:04:55,430 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:04:55,430 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,430 [INFO] - ROLLBACK
2025-03-24 21:04:55,430 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:04:55,432 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,433 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:04:55,433 [INFO] - [cached since 103.2s ago] (4015, 1, 0)
2025-03-24 21:04:55,434 [INFO] - ROLLBACK
2025-03-24 21:04:55,434 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:04:55,436 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,436 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:04:55,436 [INFO] - [cached since 103.2s ago] (4015, 1, 0)
2025-03-24 21:04:55,436 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:04:55,436 [INFO] - [cached since 103.2s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:04:55,437 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,437 [INFO] - [cached since 103.2s ago] (1, 1, 0)
2025-03-24 21:04:55,437 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,437 [INFO] - [cached since 103.2s ago] (4015, 1, 1, 0)
2025-03-24 21:04:55,437 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,437 [INFO] - [cached since 103.2s ago] (1, 1, 0)
2025-03-24 21:04:55,438 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:04:55,438 [INFO] - [cached since 103.2s ago] (4015, 1, 1, 2)
2025-03-24 21:04:55,438 [INFO] - COMMIT
2025-03-24 21:04:55,442 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:04:55,442 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,442 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:04:55,442 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,443 [INFO] - ROLLBACK
2025-03-24 21:04:55,443 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:04:55,444 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,444 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,444 [INFO] - [cached since 103.2s ago] (4015, 1, 0)
2025-03-24 21:04:55,444 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:04:55,444 [INFO] - [cached since 103.2s ago] (4015,)
2025-03-24 21:04:55,445 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (4015,)
2025-03-24 21:04:55,445 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (4015,)
2025-03-24 21:04:55,445 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,445 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,446 [INFO] - ROLLBACK
2025-03-24 21:04:55,446 [ERROR] - Exception on /api/admin/teacher/4015 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 305, in delete
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    self.dependency_processor.process_deletes(uow, states)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 567, in process_deletes
    self._synchronize(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 625, in _synchronize
    sync.clear(dest, self.mapper, self.prop.synchronize_pairs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/sync.py", line 88, in clear
    raise AssertionError(
AssertionError: Dependency rule on column 'teachers.teacher_id' tried to blank-out primary key column 'teacher_position_assignments.teacher_id' on instance '<TeacherPositionAssignment at 0x10771ede0>'
2025-03-24 21:04:55,447 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "[35m[1mDELETE /api/admin/teacher/4015 HTTP/1.1[0m" 500 -
2025-03-24 21:10:19,698 [INFO] - BEGIN (implicit)
2025-03-24 21:10:19,706 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:10:19,706 [INFO] - [cached since 427.5s ago] (4015, 1, 0)
2025-03-24 21:10:19,728 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:10:19,728 [INFO] - [cached since 427.5s ago] (71,)
2025-03-24 21:10:19,729 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:10:19,729 [INFO] - [cached since 427.5s ago] (71,)
2025-03-24 21:10:19,729 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:10:19,729 [INFO] - [cached since 427.5s ago] (4015,)
2025-03-24 21:10:19,729 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:10:19,729 [INFO] - [cached since 427.5s ago] (4015,)
2025-03-24 21:10:19,730 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:10:19,730 [INFO] - [cached since 427.5s ago] (4015,)
2025-03-24 21:10:19,730 [INFO] - ROLLBACK
2025-03-24 21:10:19,731 [ERROR] - Exception on /api/admin/teacher/4015 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 305, in delete
    ).delete()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    self.dependency_processor.process_deletes(uow, states)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 567, in process_deletes
    self._synchronize(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 625, in _synchronize
    sync.clear(dest, self.mapper, self.prop.synchronize_pairs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/sync.py", line 88, in clear
    raise AssertionError(
AssertionError: Dependency rule on column 'teachers.teacher_id' tried to blank-out primary key column 'teacher_position_assignments.teacher_id' on instance '<TeacherPositionAssignment at 0x10771e420>'
2025-03-24 21:10:19,734 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:10:19] "[35m[1mDELETE /api/admin/teacher/4015 HTTP/1.1[0m" 500 -
2025-03-24 21:13:06,568 [INFO] - BEGIN (implicit)
2025-03-24 21:13:06,568 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:13:06,568 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - COMMIT
2025-03-24 21:13:06,587 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:13:06,587 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:13:09,261 [INFO] - BEGIN (implicit)
2025-03-24 21:13:09,263 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:09,263 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:13:09,264 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:13:09,264 [INFO] - [generated in 0.00007s] (4015,)
2025-03-24 21:13:09,295 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:13:09,295 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:13:09,296 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:13:09,296 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:13:09,297 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:13:09,297 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:13:09,297 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:13:09,297 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:13:09,317 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:13:09,317 [INFO] - [generated in 0.00008s] (4015,)
2025-03-24 21:13:09,318 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:13:09,318 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:13:09,318 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:13:09,318 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:13:09,347 [INFO] - COMMIT
2025-03-24 21:13:09,375 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:13:09,376 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:09] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:13:31,852 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,853 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,853 [INFO] - [generated in 0.00019s] ('test_teacher', 1, 0)
2025-03-24 21:13:31,854 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,854 [INFO] - [generated in 0.00007s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:13:31,925 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:13:31,925 [INFO] - [generated in 0.00017s] ('test_teacher', 'scrypt:32768:8:1$swVhMpO7isOhDn0H$95df4e92e35b3d5889bf836eb481cb5a3e934484e5bd5c8b2d71d98380d19dab1cf3de6c50b50141ce0ed4aa75542869b4aced38953ac8bc37d5ce0754ed07f4', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AAABJ0lEQVR42u3dS24syZUt0JpgTYgNDildDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (15445 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:13:31,942 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:13:31,942 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:13:31,942 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:13:31,942 [INFO] - [generated in 0.00006s] (71, 4015)
2025-03-24 21:13:31,943 [INFO] - COMMIT
2025-03-24 21:13:31,959 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,960 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:13:31,960 [INFO] - [generated in 0.00009s] (71,)
2025-03-24 21:13:31,960 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:13:31,960 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:13:31,960 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:13:31,961 [INFO] - ROLLBACK
2025-03-24 21:13:31,961 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:31] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:13:31,963 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,966 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:13:31,966 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:13:31,967 [INFO] - ROLLBACK
2025-03-24 21:13:31,968 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:31] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:13:31,969 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,971 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:13:31,971 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:13:31,972 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:13:31,972 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:13:31,992 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,992 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-24 21:13:31,993 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,993 [INFO] - [generated in 0.00007s] (4015, 1, 1, 0)
2025-03-24 21:13:31,993 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,993 [INFO] - [generated in 0.00005s] (1, 1, 0)
2025-03-24 21:13:31,994 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:13:31,994 [INFO] - [generated in 0.00006s] (4015, 1, 1, 2)
2025-03-24 21:13:31,994 [INFO] - COMMIT
2025-03-24 21:13:32,024 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:13:32,024 [INFO] - BEGIN (implicit)
2025-03-24 21:13:32,026 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:13:32,026 [INFO] - [generated in 0.00013s] (71,)
2025-03-24 21:13:32,027 [INFO] - ROLLBACK
2025-03-24 21:13:32,027 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:32] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:13:32,030 [INFO] - BEGIN (implicit)
2025-03-24 21:13:32,030 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:32,030 [INFO] - [cached since 22.77s ago] (4015, 1, 0)
2025-03-24 21:13:32,030 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:13:32,030 [INFO] - [cached since 22.77s ago] (4015,)
2025-03-24 21:13:32,031 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:13:32,031 [INFO] - [cached since 22.73s ago] (4015,)
2025-03-24 21:13:32,031 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:13:32,031 [INFO] - [cached since 22.73s ago] (4015,)
2025-03-24 21:13:32,031 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:13:32,031 [INFO] - [cached since 22.71s ago] (4015,)
2025-03-24 21:13:32,032 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.74s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.74s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.71s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.71s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - COMMIT
2025-03-24 21:13:32,039 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:13:32,039 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:32] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:22:51,021 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:22:51] "[31m[1mPOST /api/admin/teacher HTTP/1.1[0m" 400 -
2025-03-24 21:23:09,616 [INFO] - BEGIN (implicit)
2025-03-24 21:23:09,616 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:23:09,616 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - COMMIT
2025-03-24 21:23:09,635 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:23:09,635 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:23:11,296 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,297 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,298 [INFO] - [generated in 0.00010s] ('test_teacher', 1, 0)
2025-03-24 21:23:11,298 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,298 [INFO] - [generated in 0.00007s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:23:11,372 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:23:11,372 [INFO] - [generated in 0.00017s] ('test_teacher', 'scrypt:32768:8:1$DXQvLZKPscuAk8x6$de0f098a5525a11e6de6063daaa186a3b5f81921930177825b9f38088ca2c4a98d01d234ba8640d348181e2874c0711ca4f20e1106cae0cad61d586d7ea7f925', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:23:11,416 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:23:11,416 [INFO] - [generated in 0.00008s] ()
2025-03-24 21:23:11,448 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:23:11,448 [INFO] - [generated in 0.00008s] (71, 4015)
2025-03-24 21:23:11,480 [INFO] - COMMIT
2025-03-24 21:23:11,505 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,505 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:23:11,505 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:23:11,506 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:23:11,506 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:23:11,506 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,506 [INFO] - ROLLBACK
2025-03-24 21:23:11,506 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:23:11,509 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,512 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:11,512 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:23:11,592 [INFO] - ROLLBACK
2025-03-24 21:23:11,592 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:11,594 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,596 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:11,596 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:23:11,597 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:23:11,597 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:23:11,597 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,597 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-24 21:23:11,598 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,598 [INFO] - [generated in 0.00006s] (4015, 1, 1, 0)
2025-03-24 21:23:11,598 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,598 [INFO] - [generated in 0.00005s] (1, 1, 0)
2025-03-24 21:23:11,599 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:23:11,599 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-24 21:23:11,599 [INFO] - COMMIT
2025-03-24 21:23:11,655 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:23:11,655 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,657 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:23:11,657 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:23:11,657 [INFO] - ROLLBACK
2025-03-24 21:23:11,657 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:11,659 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,659 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,659 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-24 21:23:11,660 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:23:11,660 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:23:11,661 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:23:11,661 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,661 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:23:11,661 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,662 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:23:11,662 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:23:11,663 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:23:11,663 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:23:11,663 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:23:11,663 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:23:11,664 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:23:11,664 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,664 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:23:11,664 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 21:23:11,664 [INFO] - COMMIT
2025-03-24 21:23:11,671 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:23:11,672 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:56,544 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,546 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,546 [INFO] - [cached since 45.25s ago] ('test_teacher', 1, 0)
2025-03-24 21:23:56,547 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,547 [INFO] - [cached since 45.25s ago] ('jane.smith@example.com', 1, 0)
2025-03-24 21:23:56,618 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:23:56,618 [INFO] - [cached since 45.25s ago] ('test_teacher', 'scrypt:32768:8:1$UDSblD75YtWj49AQ$c3c19d5cf8d3fed93f4b3d1a37e486feb83c491f850d80a12b8b82105fd0f7b128d1ba81e686279b1c89e30a0b26144bdd30c3266aed5dce443ef7d8bb65580d', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:23:56,625 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:23:56,625 [INFO] - [cached since 45.21s ago] ()
2025-03-24 21:23:56,626 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:23:56,626 [INFO] - [cached since 45.18s ago] (71, 4015)
2025-03-24 21:23:56,626 [INFO] - COMMIT
2025-03-24 21:23:56,647 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:23:56,647 [INFO] - [cached since 45.14s ago] (71,)
2025-03-24 21:23:56,647 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:23:56,647 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:23:56,647 [INFO] - [cached since 45.14s ago] (71,)
2025-03-24 21:23:56,647 [INFO] - ROLLBACK
2025-03-24 21:23:56,648 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:23:56,650 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,650 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:56,650 [INFO] - [cached since 45.14s ago] (4015, 1, 0)
2025-03-24 21:23:56,651 [INFO] - ROLLBACK
2025-03-24 21:23:56,651 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:56,653 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,653 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:56,653 [INFO] - [cached since 45.06s ago] (4015, 1, 0)
2025-03-24 21:23:56,653 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:23:56,653 [INFO] - [cached since 45.06s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:23:56,654 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (1, 1, 0)
2025-03-24 21:23:56,654 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (4015, 1, 1, 0)
2025-03-24 21:23:56,654 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (1, 1, 0)
2025-03-24 21:23:56,654 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (4015, 1, 1, 2)
2025-03-24 21:23:56,654 [INFO] - COMMIT
2025-03-24 21:23:56,750 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:23:56,751 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,751 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:23:56,751 [INFO] - [cached since 45.09s ago] (71,)
2025-03-24 21:23:56,751 [INFO] - ROLLBACK
2025-03-24 21:23:56,751 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:56,753 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,754 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,754 [INFO] - [cached since 45.09s ago] (4015, 1, 0)
2025-03-24 21:23:56,754 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:23:56,754 [INFO] - [cached since 45.09s ago] (4015,)
2025-03-24 21:23:56,767 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:23:56,767 [INFO] - [cached since 45.11s ago] (4015,)
2025-03-24 21:23:56,767 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:23:56,767 [INFO] - [cached since 45.1s ago] (4015,)
2025-03-24 21:23:56,768 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:23:56,768 [INFO] - [cached since 45.1s ago] (4015,)
2025-03-24 21:23:56,768 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:23:56,768 [INFO] - [cached since 45.11s ago] (71,)
2025-03-24 21:23:56,768 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:23:56,768 [INFO] - [cached since 45.11s ago] (71,)
2025-03-24 21:23:56,769 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:23:56,769 [INFO] - [cached since 45.1s ago] (71,)
2025-03-24 21:23:56,769 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:23:56,769 [INFO] - [cached since 45.1s ago] (71,)
2025-03-24 21:23:56,769 [INFO] - COMMIT
2025-03-24 21:23:56,782 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:23:56,783 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:24:04,760 [INFO] - BEGIN (implicit)
2025-03-24 21:24:04,760 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:24:04,760 [INFO] - [raw sql] ()
2025-03-24 21:24:04,760 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:24:04,760 [INFO] - [raw sql] ()
2025-03-24 21:24:04,760 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:24:04,760 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - COMMIT
2025-03-24 21:24:04,780 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:24:04,803 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:24:07,044 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,045 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,045 [INFO] - [generated in 0.00012s] ('test_teacher', 1, 0)
2025-03-24 21:24:07,046 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,046 [INFO] - [generated in 0.00008s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:24:07,118 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:24:07,118 [INFO] - [generated in 0.00015s] ('test_teacher', 'scrypt:32768:8:1$IH9mhQzCT87qVo2y$e6580b65fa0b975251f698b8025b2c53dd319b5c2b1abea637adfbde354c9ea8d24f82d44ef3ae975b593b7662f6571fae6ae9dd529c59a7f7c73be62a598b10', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:24:07,142 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:24:07,142 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:24:07,142 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:24:07,142 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-24 21:24:07,174 [INFO] - COMMIT
2025-03-24 21:24:07,179 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,180 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:24:07,180 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:24:07,180 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:24:07,180 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:24:07,180 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:24:07,180 [INFO] - ROLLBACK
2025-03-24 21:24:07,181 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:24:07,183 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,186 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:24:07,186 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-24 21:24:07,220 [INFO] - ROLLBACK
2025-03-24 21:24:07,220 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:24:07,222 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,223 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:24:07,223 [INFO] - [generated in 0.00008s] (4015, 1, 0)
2025-03-24 21:24:07,225 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:24:07,225 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:24:07,225 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,225 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:24:07,226 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,226 [INFO] - [generated in 0.00009s] (4015, 1, 1, 0)
2025-03-24 21:24:07,226 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,226 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:24:07,227 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:24:07,227 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-24 21:24:07,227 [INFO] - COMMIT
2025-03-24 21:24:07,243 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:24:07,243 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,246 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:24:07,246 [INFO] - [generated in 0.00010s] (71,)
2025-03-24 21:24:07,246 [INFO] - ROLLBACK
2025-03-24 21:24:07,246 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:24:07,248 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,249 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,249 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:24:07,250 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:24:07,250 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:24:07,251 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:24:07,251 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:24:07,252 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:24:07,252 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:24:07,252 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:24:07,252 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:24:07,253 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:24:07,253 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:24:07,253 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:24:07,253 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:24:07,254 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:24:07,254 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:24:07,254 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:24:07,254 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 21:24:07,255 [INFO] - COMMIT
2025-03-24 21:24:07,261 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:24:07,261 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:30:48,666 [INFO] - BEGIN (implicit)
2025-03-24 21:30:48,666 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:30:48,666 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,668 [INFO] - COMMIT
2025-03-24 21:30:48,686 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:30:48,686 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:31:15,440 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,442 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,442 [INFO] - [generated in 0.00015s] ('test_teacher', 1, 0)
2025-03-24 21:31:15,443 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,443 [INFO] - [generated in 0.00008s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:31:15,515 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:31:15,515 [INFO] - [generated in 0.00016s] ('test_teacher', 'scrypt:32768:8:1$GbkKYk1Yv1iVFgGM$df6a76084eece66253abb1a715e1d052651f32603650412500be3c56a7cce0628ddbaedca9c09f883ba691e5afd52fb56b3ec0fa8a60c58a31637ec556792443', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:31:15,552 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:31:15,552 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:31:15,586 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:31:15,586 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-24 21:31:15,619 [INFO] - COMMIT
2025-03-24 21:31:15,650 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,650 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:31:15,650 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:31:15,651 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:31:15,651 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:31:15,651 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:31:15,651 [INFO] - ROLLBACK
2025-03-24 21:31:15,652 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:31:15,654 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,658 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:31:15,658 [INFO] - [generated in 0.00016s] (4015, 1, 0)
2025-03-24 21:31:15,740 [INFO] - ROLLBACK
2025-03-24 21:31:15,740 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:31:15,742 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,743 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:31:15,743 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:31:15,745 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:31:15,745 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:31:15,745 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,745 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:31:15,746 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,746 [INFO] - [generated in 0.00008s] (4015, 1, 1, 0)
2025-03-24 21:31:15,746 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,746 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:31:15,747 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:31:15,747 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-24 21:31:15,747 [INFO] - COMMIT
2025-03-24 21:31:15,788 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:31:15,788 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,789 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:31:15,790 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:31:15,790 [INFO] - ROLLBACK
2025-03-24 21:31:15,790 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:31:15,791 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,792 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,792 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-24 21:31:15,793 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:31:15,793 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:31:15,794 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:31:15,794 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:31:15,794 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:31:15,794 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:31:15,795 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:31:15,795 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:31:15,795 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:31:15,795 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:31:15,796 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:31:15,796 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:31:15,797 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:31:15,797 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:31:15,797 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:31:15,797 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 21:31:15,797 [INFO] - COMMIT
2025-03-24 21:31:15,804 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:31:15,804 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:31:15,805 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,807 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:31:15,807 [INFO] - [generated in 0.00008s] ()
2025-03-24 21:31:16,181 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-24 21:31:16,182 [INFO] - ROLLBACK
2025-03-24 21:31:16,184 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:16] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-24 22:01:06,844 [INFO] - BEGIN (implicit)
2025-03-24 22:01:06,858 [INFO] - PRAGMA main.table_info("users")
2025-03-24 22:01:06,858 [INFO] - [raw sql] ()
2025-03-24 22:01:06,870 [INFO] - PRAGMA main.table_info("students")
2025-03-24 22:01:06,870 [INFO] - [raw sql] ()
2025-03-24 22:01:06,870 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 22:01:06,870 [INFO] - [raw sql] ()
2025-03-24 22:01:06,870 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 22:01:06,870 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - COMMIT
2025-03-24 22:01:06,890 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 22:01:06,890 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 22:01:09,046 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,047 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,047 [INFO] - [generated in 0.00010s] ('test_student', 1, 0)
2025-03-24 22:01:09,048 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,048 [INFO] - [generated in 0.00008s] ('john.doe@example.com', 1, 0)
2025-03-24 22:01:09,118 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 22:01:09,118 [INFO] - [generated in 0.00017s] ('test_student', 'scrypt:32768:8:1$zTvkpS8OR4toNQZi$d53f717766e7e7ea44c19f8f389f1f8d72a618f88b71e003ac9ec2f9550aa1d12d5483ff5f8092c37fd7e67e6c07a2394dd8adfb27af3c3cc426c5dff1cce5e8', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 22:01:09,159 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,159 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-24 22:01:09,192 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 22:01:09,192 [INFO] - [generated in 0.00012s] ()
2025-03-24 22:01:09,204 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 22:01:09,204 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 22:01:09,204 [INFO] - COMMIT
2025-03-24 22:01:09,249 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 22:01:09,250 [INFO] - [generated in 0.00010s] (71,)
2025-03-24 22:01:09,250 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 22:01:09,251 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 22:01:09,251 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,251 [INFO] - ROLLBACK
2025-03-24 22:01:09,251 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 22:01:09,253 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,256 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 22:01:09,256 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-24 22:01:09,257 [INFO] - ROLLBACK
2025-03-24 22:01:09,257 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:01:09,259 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,261 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,261 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:01:09,262 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 22:01:09,262 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 22:01:09,272 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 22:01:09,273 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 22:01:09,273 [INFO] - COMMIT
2025-03-24 22:01:09,327 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 22:01:09,327 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,328 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 22:01:09,328 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 22:01:09,328 [INFO] - ROLLBACK
2025-03-24 22:01:09,329 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:01:09,330 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,331 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,331 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 22:01:09,332 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 22:01:09,332 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:01:09,392 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 22:01:09,392 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,392 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 22:01:09,392 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,393 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 22:01:09,393 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,394 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 22:01:09,394 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:01:09,394 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 22:01:09,394 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:01:09,395 [INFO] - COMMIT
2025-03-24 22:01:09,420 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 22:01:09,420 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:01:09,421 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,422 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 22:01:09,422 [INFO] - [generated in 0.00008s] ()
2025-03-24 22:01:10,086 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 22:01:10,086 [INFO] - ROLLBACK
2025-03-24 22:01:10,087 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:10] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 22:09:06,404 [INFO] - BEGIN (implicit)
2025-03-24 22:09:06,404 [INFO] - PRAGMA main.table_info("users")
2025-03-24 22:09:06,404 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("students")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 22:09:06,406 [INFO] - [raw sql] ()
2025-03-24 22:09:06,406 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 22:09:06,406 [INFO] - [raw sql] ()
2025-03-24 22:09:06,406 [INFO] - COMMIT
2025-03-24 22:09:06,434 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 22:09:06,434 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 22:09:07,141 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,143 [INFO] - [generated in 0.00013s] ('test_student', 1, 0)
2025-03-24 22:09:07,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,144 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-24 22:09:07,215 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 22:09:07,215 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$gHPRp0LHIjHq3Yc6$942225b30939e5cf29eac90bfe26fe13ef58f04c7b52853249bf64f2d1465e5a143c1756f77c6997fdf72655b7a7eb0d4fb60ad2544b9c57d86fd84a9d5d0459', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 22:09:07,260 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,260 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-24 22:09:07,261 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 22:09:07,261 [INFO] - [generated in 0.00005s] ()
2025-03-24 22:09:07,262 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 22:09:07,262 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 22:09:07,262 [INFO] - COMMIT
2025-03-24 22:09:07,303 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,304 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 22:09:07,304 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 22:09:07,304 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 22:09:07,305 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 22:09:07,305 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:09:07,305 [INFO] - ROLLBACK
2025-03-24 22:09:07,305 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 22:09:07,308 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,311 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 22:09:07,311 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 22:09:07,311 [INFO] - ROLLBACK
2025-03-24 22:09:07,312 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:09:07,313 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,314 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,314 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 22:09:07,316 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 22:09:07,316 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 22:09:07,316 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 22:09:07,316 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 22:09:07,316 [INFO] - COMMIT
2025-03-24 22:09:07,416 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 22:09:07,416 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,418 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 22:09:07,418 [INFO] - [generated in 0.00011s] (71,)
2025-03-24 22:09:07,418 [INFO] - ROLLBACK
2025-03-24 22:09:07,419 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:09:07,420 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,422 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,422 [INFO] - [generated in 0.00017s] (3050, 1, 0)
2025-03-24 22:09:07,423 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 22:09:07,423 [INFO] - [generated in 0.00009s] (71,)
2025-03-24 22:09:07,424 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 22:09:07,424 [INFO] - [generated in 0.00013s] (71,)
2025-03-24 22:09:07,425 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 22:09:07,425 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:09:07,426 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 22:09:07,426 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:09:07,426 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 22:09:07,426 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:09:07,427 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 22:09:07,427 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:09:07,427 [INFO] - COMMIT
2025-03-24 22:09:07,432 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 22:09:07,432 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:09:07,434 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,436 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 22:09:07,436 [INFO] - [generated in 0.00009s] ()
2025-03-24 22:09:07,863 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 22:09:07,864 [INFO] - ROLLBACK
2025-03-24 22:09:07,864 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 22:12:34,787 [INFO] - BEGIN (implicit)
2025-03-24 22:12:34,787 [INFO] - PRAGMA main.table_info("users")
2025-03-24 22:12:34,787 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("students")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - COMMIT
2025-03-24 22:12:34,817 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 22:12:34,817 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 22:12:40,815 [INFO] - BEGIN (implicit)
2025-03-24 22:12:40,817 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:40,817 [INFO] - [generated in 0.00016s] ('test_student', 1, 0)
2025-03-24 22:12:40,818 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:40,818 [INFO] - [generated in 0.00009s] ('john.doe@example.com', 1, 0)
2025-03-24 22:12:40,891 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 22:12:40,891 [INFO] - [generated in 0.00017s] ('test_student', 'scrypt:32768:8:1$hktD93nQAug2evrW$580d3dd1f9a3901eaa226700e5cd193e5eed2072f72bbf569afaa10e1dcbd6a4e172c295498edc158fc2c1039ba424b6484b32646685d5950e6bc75a46cf428e', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 22:12:40,934 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:40,934 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-24 22:12:40,966 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 22:12:40,966 [INFO] - [generated in 0.00012s] ()
2025-03-24 22:12:40,978 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 22:12:40,978 [INFO] - [generated in 0.00010s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 22:12:40,978 [INFO] - COMMIT
2025-03-24 22:12:41,024 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,024 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 22:12:41,024 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 22:12:41,024 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 22:12:41,025 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 22:12:41,025 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,025 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:41,025 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 22:12:41,026 [INFO] - ROLLBACK
2025-03-24 22:12:41,026 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 22:12:41,028 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,031 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 22:12:41,031 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:12:41,049 [INFO] - ROLLBACK
2025-03-24 22:12:41,049 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:12:41,051 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,052 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:41,052 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:12:41,053 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 22:12:41,053 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 22:12:41,054 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 22:12:41,054 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 22:12:41,055 [INFO] - COMMIT
2025-03-24 22:12:41,079 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 22:12:41,079 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,080 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 22:12:41,080 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,081 [INFO] - ROLLBACK
2025-03-24 22:12:41,081 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:12:41,082 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,083 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:41,083 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:12:41,084 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 22:12:41,084 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:12:41,085 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 22:12:41,085 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:12:41,085 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 22:12:41,085 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,141 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 22:12:41,141 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,141 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 22:12:41,141 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:12:41,142 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 22:12:41,142 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,142 [INFO] - COMMIT
2025-03-24 22:12:41,148 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 22:12:41,148 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:12:41,149 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,150 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 22:12:41,150 [INFO] - [generated in 0.00008s] ()
2025-03-24 22:12:41,835 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 22:12:41,836 [INFO] - ROLLBACK
2025-03-24 22:12:41,836 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:17:52,264 [INFO] - BEGIN (implicit)
2025-03-25 01:17:52,275 [INFO] - PRAGMA main.table_info("users")
2025-03-25 01:17:52,275 [INFO] - [raw sql] ()
2025-03-25 01:17:52,304 [INFO] - PRAGMA main.table_info("students")
2025-03-25 01:17:52,304 [INFO] - [raw sql] ()
2025-03-25 01:17:52,304 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 01:17:52,304 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - COMMIT
2025-03-25 01:17:52,313 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 01:17:52,313 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 01:17:54,280 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,281 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,281 [INFO] - [generated in 0.00008s] ('test_teacher', 1, 0)
2025-03-25 01:17:54,282 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,282 [INFO] - [generated in 0.00006s] ('jane.smith@example.com', 1, 0)
2025-03-25 01:17:54,343 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:17:54,343 [INFO] - [generated in 0.00013s] ('test_teacher', 'scrypt:32768:8:1$VpOQMC5bc99PQerm$ef2fec4aec26faafc04534daedca3e78154f7c707a8112ac76fb1947713ed0f8af2253f425a113a1e46d5488596fbb6dad117d01fbff9637eee34ae75b7a270d', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:17:54,365 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:17:54,365 [INFO] - [generated in 0.00010s] ()
2025-03-25 01:17:54,367 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:17:54,367 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-25 01:17:54,368 [INFO] - COMMIT
2025-03-25 01:17:54,395 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,395 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:17:54,395 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:17:54,395 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-25 01:17:54,396 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:17:54,396 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,396 [INFO] - ROLLBACK
2025-03-25 01:17:54,396 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:17:54,399 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,402 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:17:54,402 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-25 01:17:54,484 [INFO] - ROLLBACK
2025-03-25 01:17:54,484 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:17:54,486 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,488 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:17:54,488 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-25 01:17:54,490 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:17:54,490 [INFO] - [generated in 0.00008s] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:17:54,508 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,508 [INFO] - [generated in 0.00013s] (1, 1, 0)
2025-03-25 01:17:54,509 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,509 [INFO] - [generated in 0.00010s] (4015, 1, 1, 0)
2025-03-25 01:17:54,509 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,509 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-25 01:17:54,510 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:17:54,510 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-25 01:17:54,510 [INFO] - COMMIT
2025-03-25 01:17:54,545 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-25 01:17:54,545 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,547 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:17:54,547 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:17:54,548 [INFO] - ROLLBACK
2025-03-25 01:17:54,548 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:17:54,549 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,550 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,550 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-25 01:17:54,551 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:17:54,551 [INFO] - [generated in 0.00005s] (4015,)
2025-03-25 01:17:54,579 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:17:54,579 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:17:54,580 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:17:54,580 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,580 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:17:54,580 [INFO] - [generated in 0.00005s] (4015,)
2025-03-25 01:17:54,581 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:17:54,581 [INFO] - [generated in 0.00007s] (4015,)
2025-03-25 01:17:54,582 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:17:54,582 [INFO] - [generated in 0.00009s] (4015,)
2025-03-25 01:17:54,582 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:17:54,582 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,583 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:17:54,583 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,583 [INFO] - COMMIT
2025-03-25 01:17:54,591 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-25 01:17:54,591 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:17:54,593 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,594 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:17:54,594 [INFO] - [generated in 0.00009s] ()
2025-03-25 01:17:54,695 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-25 01:17:54,695 [INFO] - ROLLBACK
2025-03-25 01:17:54,697 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:19:57,595 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:19:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:20:16,933 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:20:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:20:27,192 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:20:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:37:42,902 [INFO] - BEGIN (implicit)
2025-03-25 01:37:42,924 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:42,924 [INFO] - [cached since 1189s ago] ('test_student', 1, 0)
2025-03-25 01:37:42,953 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:42,953 [INFO] - [cached since 1189s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:37:43,027 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:37:43,027 [INFO] - [cached since 1189s ago] ('test_student', 'scrypt:32768:8:1$ED2PG8o8imAIkFqq$789ef33b40cf499689f72d1c949922add41d0ad7f0131631a15736d24cb58d625fd17ffb7b049efbbc632b779c52fef019899c41534dc99a93db4b9e64110584', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:37:43,032 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,032 [INFO] - [generated in 0.00012s] ('1', 1, 0)
2025-03-25 01:37:43,033 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:37:43,033 [INFO] - [generated in 0.00006s] ()
2025-03-25 01:37:43,053 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:37:43,053 [INFO] - [generated in 0.00012s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:37:43,053 [INFO] - COMMIT
2025-03-25 01:37:43,278 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,278 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:37:43,278 [INFO] - [cached since 1189s ago] (71,)
2025-03-25 01:37:43,279 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-25 01:37:43,279 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:37:43,279 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 01:37:43,311 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,311 [INFO] - [cached since 1189s ago] (1, 1, 0)
2025-03-25 01:37:43,311 [INFO] - ROLLBACK
2025-03-25 01:37:43,311 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:37:43,313 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,318 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:37:43,318 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-25 01:37:43,330 [INFO] - ROLLBACK
2025-03-25 01:37:43,330 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:43,332 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,333 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,333 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 01:37:43,334 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:37:43,334 [INFO] - [cached since 1189s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:37:43,335 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:37:43,335 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-25 01:37:43,335 [INFO] - COMMIT
2025-03-25 01:37:43,377 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-25 01:37:43,377 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,378 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:37:43,378 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 01:37:43,379 [INFO] - ROLLBACK
2025-03-25 01:37:43,379 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:43,380 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,381 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,381 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 01:37:43,382 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:37:43,382 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,383 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:37:43,383 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,383 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:37:43,383 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,384 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:37:43,384 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:37:43,384 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:37:43,384 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,384 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:37:43,384 [INFO] - [cached since 1189s ago] (71,)
2025-03-25 01:37:43,384 [INFO] - COMMIT
2025-03-25 01:37:43,389 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-25 01:37:43,389 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:43,390 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,392 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:37:43,392 [INFO] - [generated in 0.00007s] ()
2025-03-25 01:37:43,581 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-25 01:37:43,581 [INFO] - ROLLBACK
2025-03-25 01:37:43,582 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:37:55,723 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,723 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,724 [INFO] - [cached since 1201s ago] ('test_student', 1, 0)
2025-03-25 01:37:55,724 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,724 [INFO] - [cached since 1201s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:37:55,795 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:37:55,796 [INFO] - [cached since 1201s ago] ('test_student', 'scrypt:32768:8:1$hdvns7zKTFXyLvAD$d98a93489056d763e82eea0ac350d3179b0c59bb414e68c236af87d7b29692f94c56d79f0036ae609f9e33a69004ac0034c851d440ea67d77727d02de8a8c23f', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:37:55,796 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,796 [INFO] - [cached since 12.76s ago] ('1', 1, 0)
2025-03-25 01:37:55,797 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:37:55,797 [INFO] - [cached since 12.76s ago] ()
2025-03-25 01:37:55,797 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:37:55,797 [INFO] - [cached since 12.74s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:37:55,797 [INFO] - COMMIT
2025-03-25 01:37:55,822 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,822 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:37:55,822 [INFO] - [cached since 1201s ago] (71,)
2025-03-25 01:37:55,822 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-25 01:37:55,822 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:37:55,822 [INFO] - [cached since 12.54s ago] (71,)
2025-03-25 01:37:55,822 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,823 [INFO] - [cached since 1201s ago] (1, 1, 0)
2025-03-25 01:37:55,823 [INFO] - ROLLBACK
2025-03-25 01:37:55,823 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:37:55,825 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,825 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:37:55,825 [INFO] - [cached since 12.51s ago] (3050, 1, 0)
2025-03-25 01:37:55,825 [INFO] - ROLLBACK
2025-03-25 01:37:55,826 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:55,827 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,827 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,827 [INFO] - [cached since 12.49s ago] (3050, 1, 0)
2025-03-25 01:37:55,828 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:37:55,828 [INFO] - [cached since 1201s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:37:55,828 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:37:55,828 [INFO] - [cached since 12.49s ago] ('2005-05-16', 71)
2025-03-25 01:37:55,828 [INFO] - COMMIT
2025-03-25 01:37:55,878 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-25 01:37:55,878 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,878 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:37:55,878 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,879 [INFO] - ROLLBACK
2025-03-25 01:37:55,879 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:55,881 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,881 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,881 [INFO] - [cached since 12.5s ago] (3050, 1, 0)
2025-03-25 01:37:55,882 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,882 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,882 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,882 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,883 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:37:55,883 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,883 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:37:55,883 [INFO] - [cached since 1201s ago] (71,)
2025-03-25 01:37:55,883 [INFO] - COMMIT
2025-03-25 01:37:55,889 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-25 01:37:55,889 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:55,890 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,890 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:37:55,891 [INFO] - [cached since 12.5s ago] ()
2025-03-25 01:37:55,947 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-25 01:37:55,948 [INFO] - ROLLBACK
2025-03-25 01:37:55,948 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:40:02,519 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,519 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,519 [INFO] - [cached since 1328s ago] ('test_student', 1, 0)
2025-03-25 01:40:02,520 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,520 [INFO] - [cached since 1328s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:40:02,593 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:40:02,593 [INFO] - [cached since 1328s ago] ('test_student', 'scrypt:32768:8:1$em0gEpUFfFp2L27R$697a335a01f789db6c140820c5b86092874779a95709f82cb7cde0b314fba472b20b46ade7d1779f660e25f793eecffa93766d8719fd230b1f3963fcae99cd4c', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:40:02,594 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,594 [INFO] - [cached since 139.6s ago] ('1', 1, 0)
2025-03-25 01:40:02,594 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:40:02,594 [INFO] - [cached since 139.6s ago] ()
2025-03-25 01:40:02,595 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:40:02,595 [INFO] - [cached since 139.5s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:40:02,595 [INFO] - COMMIT
2025-03-25 01:40:02,659 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,659 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:40:02,659 [INFO] - [cached since 1328s ago] (71,)
2025-03-25 01:40:02,659 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-25 01:40:02,660 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:40:02,660 [INFO] - [cached since 139.4s ago] (71,)
2025-03-25 01:40:02,660 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,660 [INFO] - [cached since 1328s ago] (1, 1, 0)
2025-03-25 01:40:02,660 [INFO] - ROLLBACK
2025-03-25 01:40:02,661 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:40:02,664 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,665 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:40:02,665 [INFO] - [cached since 139.3s ago] (3050, 1, 0)
2025-03-25 01:40:02,665 [INFO] - ROLLBACK
2025-03-25 01:40:02,666 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:40:02,667 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,667 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,667 [INFO] - [cached since 139.3s ago] (3050, 1, 0)
2025-03-25 01:40:02,668 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:40:02,668 [INFO] - [cached since 1328s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:40:02,668 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:40:02,668 [INFO] - [cached since 139.3s ago] ('2005-05-16', 71)
2025-03-25 01:40:02,668 [INFO] - COMMIT
2025-03-25 01:40:02,692 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-25 01:40:02,692 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,692 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:40:02,692 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,692 [INFO] - ROLLBACK
2025-03-25 01:40:02,693 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:40:02,694 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,694 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,694 [INFO] - [cached since 139.3s ago] (3050, 1, 0)
2025-03-25 01:40:02,695 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,695 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,695 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,695 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,696 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:40:02,696 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,696 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:40:02,696 [INFO] - [cached since 1328s ago] (71,)
2025-03-25 01:40:02,696 [INFO] - COMMIT
2025-03-25 01:40:02,701 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-25 01:40:02,701 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:40:02,703 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,703 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:40:02,703 [INFO] - [cached since 139.3s ago] ()
2025-03-25 01:40:02,850 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-25 01:40:02,851 [INFO] - ROLLBACK
2025-03-25 01:40:02,851 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:40:17,346 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,346 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,346 [INFO] - [cached since 1343s ago] ('test_teacher', 1, 0)
2025-03-25 01:40:17,347 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,347 [INFO] - [cached since 1343s ago] ('jane.smith@example.com', 1, 0)
2025-03-25 01:40:17,417 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:40:17,418 [INFO] - [cached since 1343s ago] ('test_teacher', 'scrypt:32768:8:1$fnoanAUWXEiDpIcW$6e620c23590148497dc796a44e3a22660e8b29c8f911a86301d184cdf65970642b8acfc93380fb8faf9c1db83cd3c2df3f765eae8ceb7253e7dd3c1a13014df4', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:40:17,418 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:40:17,418 [INFO] - [cached since 1343s ago] ()
2025-03-25 01:40:17,419 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:40:17,419 [INFO] - [cached since 1343s ago] (71, 4015)
2025-03-25 01:40:17,419 [INFO] - COMMIT
2025-03-25 01:40:17,483 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,484 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:40:17,484 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,484 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-25 01:40:17,485 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:40:17,485 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,485 [INFO] - ROLLBACK
2025-03-25 01:40:17,486 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:40:17,490 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,491 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:40:17,491 [INFO] - [cached since 1343s ago] (4015, 1, 0)
2025-03-25 01:40:17,491 [INFO] - ROLLBACK
2025-03-25 01:40:17,492 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:40:17,493 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,494 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:40:17,494 [INFO] - [cached since 1343s ago] (4015, 1, 0)
2025-03-25 01:40:17,494 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:40:17,494 [INFO] - [cached since 1343s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:40:17,495 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (1, 1, 0)
2025-03-25 01:40:17,495 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (4015, 1, 1, 0)
2025-03-25 01:40:17,495 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (1, 1, 0)
2025-03-25 01:40:17,495 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (4015, 1, 1, 2)
2025-03-25 01:40:17,495 [INFO] - COMMIT
2025-03-25 01:40:17,572 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-25 01:40:17,572 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,572 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:40:17,572 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,572 [INFO] - ROLLBACK
2025-03-25 01:40:17,573 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:40:17,574 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,575 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,575 [INFO] - [cached since 1343s ago] (4015, 1, 0)
2025-03-25 01:40:17,575 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:40:17,575 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,576 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:40:17,576 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,577 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:40:17,577 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,577 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:40:17,577 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,578 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,578 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,578 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,578 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,579 [INFO] - COMMIT
2025-03-25 01:40:17,601 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-25 01:40:17,601 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:40:17,603 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,603 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:40:17,603 [INFO] - [cached since 1343s ago] ()
2025-03-25 01:40:17,702 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-25 01:40:17,702 [INFO] - ROLLBACK
2025-03-25 01:40:17,704 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:41:27,373 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:41:32,537 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 01:41:32,552 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 01:41:33,663 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:33] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 01:41:33,729 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 01:48:39,696 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,729 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,729 [INFO] - [cached since 1845s ago] ('test_teacher', 1, 0)
2025-03-25 01:48:39,741 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,741 [INFO] - [cached since 1845s ago] ('jane.smith@example.com', 1, 0)
2025-03-25 01:48:39,817 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:48:39,817 [INFO] - [cached since 1845s ago] ('test_teacher', 'scrypt:32768:8:1$jjeNWhOl8807aueW$d15b19927c690ad7d83dcfd5fc55f06f30ae08d8b56beb11098212aa93fcee2688911e123299aafccfb1014cbd88e0daf838355331ce905f060f305a78d1fbe5', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:48:39,826 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:48:39,826 [INFO] - [cached since 1845s ago] ()
2025-03-25 01:48:39,827 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:48:39,827 [INFO] - [cached since 1845s ago] (71, 4015)
2025-03-25 01:48:39,827 [INFO] - COMMIT
2025-03-25 01:48:39,977 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,977 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:48:39,977 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:39,978 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-25 01:48:39,978 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:48:39,978 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:39,978 [INFO] - ROLLBACK
2025-03-25 01:48:39,978 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:39] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:48:39,981 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,981 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:39,981 [INFO] - [cached since 1846s ago] (4015, 1, 0)
2025-03-25 01:48:39,982 [INFO] - ROLLBACK
2025-03-25 01:48:39,982 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:39] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:39,985 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,985 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:39,985 [INFO] - [cached since 1845s ago] (4015, 1, 0)
2025-03-25 01:48:39,985 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:48:39,985 [INFO] - [cached since 1845s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:48:39,995 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,995 [INFO] - [cached since 1845s ago] (1, 1, 0)
2025-03-25 01:48:39,995 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,995 [INFO] - [cached since 1845s ago] (4015, 1, 1, 0)
2025-03-25 01:48:39,995 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,995 [INFO] - [cached since 1845s ago] (1, 1, 0)
2025-03-25 01:48:39,996 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:48:39,996 [INFO] - [cached since 1845s ago] (4015, 1, 1, 2)
2025-03-25 01:48:39,996 [INFO] - COMMIT
2025-03-25 01:48:40,110 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-25 01:48:40,110 [INFO] - BEGIN (implicit)
2025-03-25 01:48:40,110 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:48:40,110 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,111 [INFO] - ROLLBACK
2025-03-25 01:48:40,111 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:40] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:40,113 [INFO] - BEGIN (implicit)
2025-03-25 01:48:40,113 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:40,113 [INFO] - [cached since 1846s ago] (4015, 1, 0)
2025-03-25 01:48:40,114 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:48:40,114 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,115 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:48:40,115 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,115 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:48:40,115 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,115 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:48:40,115 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,116 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,116 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,116 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,116 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,116 [INFO] - COMMIT
2025-03-25 01:48:40,123 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-25 01:48:40,123 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:40] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:40,125 [INFO] - BEGIN (implicit)
2025-03-25 01:48:40,125 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:40,125 [INFO] - [cached since 1846s ago] ()
2025-03-25 01:48:40,278 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-25 01:48:40,278 [INFO] - ROLLBACK
2025-03-25 01:48:40,280 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:40] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:48:45,963 [INFO] - BEGIN (implicit)
2025-03-25 01:48:45,963 [INFO] - PRAGMA main.table_info("users")
2025-03-25 01:48:45,963 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("students")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - COMMIT
2025-03-25 01:48:45,977 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 01:48:45,977 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 01:48:48,083 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,084 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,084 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,138 [INFO] - ROLLBACK
2025-03-25 01:48:48,139 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,139 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,139 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,139 [INFO] - [generated in 0.00009s] ('test_teacher', 1, 0)
2025-03-25 01:48:48,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,140 [INFO] - [generated in 0.00009s] ('jane.smith@example.com', 1, 0)
2025-03-25 01:48:48,216 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:48:48,216 [INFO] - [generated in 0.00014s] ('test_teacher', 'scrypt:32768:8:1$m2yZYoPcTdARc36H$f32fc897e7ac6cbceaa8f6d8cd083a2449078fb0918453bafd31a3a557074d76245d2e231ab81429d0d253e64c8ccdd1db6571ebe2fc714ba64a4bd23cd1a089', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:48:48,249 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:48:48,249 [INFO] - [generated in 0.00011s] ()
2025-03-25 01:48:48,250 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:48:48,250 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-25 01:48:48,250 [INFO] - COMMIT
2025-03-25 01:48:48,277 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,277 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:48:48,277 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 01:48:48,278 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by user2
2025-03-25 01:48:48,278 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:48:48,278 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:48:48,278 [INFO] - ROLLBACK
2025-03-25 01:48:48,278 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:48:48,281 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,281 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,281 [INFO] - [cached since 0.1969s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,281 [INFO] - ROLLBACK
2025-03-25 01:48:48,281 [INFO] - GET /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,281 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,284 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:48,284 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-25 01:48:48,332 [INFO] - ROLLBACK
2025-03-25 01:48:48,333 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:48,335 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,335 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,335 [INFO] - [cached since 0.2508s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,335 [INFO] - ROLLBACK
2025-03-25 01:48:48,335 [INFO] - PATCH /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,335 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,337 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:48,337 [INFO] - [generated in 0.00008s] (4015, 1, 0)
2025-03-25 01:48:48,338 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:48:48,338 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:48:48,338 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,339 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-25 01:48:48,339 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,339 [INFO] - [generated in 0.00007s] (4015, 1, 1, 0)
2025-03-25 01:48:48,340 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,340 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-25 01:48:48,340 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:48:48,340 [INFO] - [generated in 0.00006s] (4015, 1, 1, 2)
2025-03-25 01:48:48,340 [INFO] - COMMIT
2025-03-25 01:48:48,363 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user2
2025-03-25 01:48:48,363 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,366 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:48:48,366 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:48:48,366 [INFO] - ROLLBACK
2025-03-25 01:48:48,366 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:48,367 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,368 [INFO] - [cached since 0.2838s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,368 [INFO] - ROLLBACK
2025-03-25 01:48:48,368 [INFO] - DELETE /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,368 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,369 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,369 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-25 01:48:48,370 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:48:48,370 [INFO] - [generated in 0.00006s] (4015,)
2025-03-25 01:48:48,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:48:48,371 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:48:48,371 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:48:48,371 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:48:48,372 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:48:48,372 [INFO] - [generated in 0.00006s] (4015,)
2025-03-25 01:48:48,372 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:48:48,372 [INFO] - [generated in 0.00005s] (4015,)
2025-03-25 01:48:48,373 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:48:48,373 [INFO] - [generated in 0.00006s] (4015,)
2025-03-25 01:48:48,373 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:48:48,374 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:48:48,374 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:48:48,374 [INFO] - [generated in 0.00004s] (71,)
2025-03-25 01:48:48,374 [INFO] - COMMIT
2025-03-25 01:48:48,411 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user2
2025-03-25 01:48:48,411 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:48,412 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,412 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,412 [INFO] - [cached since 0.3286s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,413 [INFO] - ROLLBACK
2025-03-25 01:48:48,413 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,413 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,415 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:48,415 [INFO] - [generated in 0.00008s] ()
2025-03-25 01:48:48,457 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-25 01:48:48,457 [INFO] - ROLLBACK
2025-03-25 01:48:48,458 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:49:56,952 [INFO] - BEGIN (implicit)
2025-03-25 01:49:56,952 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:49:56,953 [INFO] - [cached since 68.87s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:49:56,953 [INFO] - ROLLBACK
2025-03-25 01:49:56,953 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:49:56,954 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:49:56,969 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:49:56] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:49:56,970 [INFO] - BEGIN (implicit)
2025-03-25 01:49:56,970 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:49:56,971 [INFO] - [cached since 68.89s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:49:56,971 [INFO] - ROLLBACK
2025-03-25 01:49:56,971 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:49:56,971 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:49:56,971 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:49:56] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:03,980 [INFO] - BEGIN (implicit)
2025-03-25 01:50:03,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:03,980 [INFO] - [cached since 75.9s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:03,980 [INFO] - ROLLBACK
2025-03-25 01:50:03,980 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:03,980 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:03,981 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:03] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:03,982 [INFO] - BEGIN (implicit)
2025-03-25 01:50:03,982 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:03,982 [INFO] - [cached since 75.9s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:03,982 [INFO] - ROLLBACK
2025-03-25 01:50:03,982 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:03,982 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:03,983 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:03] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:06,557 [INFO] - BEGIN (implicit)
2025-03-25 01:50:06,557 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:06,557 [INFO] - [cached since 78.47s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:06,557 [INFO] - ROLLBACK
2025-03-25 01:50:06,557 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:06,557 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:06,558 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:06] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:06,559 [INFO] - BEGIN (implicit)
2025-03-25 01:50:06,560 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:06,560 [INFO] - [cached since 78.47s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:06,560 [INFO] - ROLLBACK
2025-03-25 01:50:06,560 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:06,560 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:06,560 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:06] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:13,359 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,360 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,360 [INFO] - [cached since 85.28s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,373 [INFO] - ROLLBACK
2025-03-25 01:50:13,373 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,374 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,374 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,374 [INFO] - [cached since 85.23s ago] ('test_student', 1, 0)
2025-03-25 01:50:13,374 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,374 [INFO] - [cached since 85.23s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:50:13,448 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:50:13,448 [INFO] - [cached since 85.23s ago] ('test_student', 'scrypt:32768:8:1$a1b3g15mQUacKPgK$10d22950c2e4a5b6e0ff7a00a0776e71953296bd671ab1ba5e8a1f57b29b703959c04d4d03fea96225dd7514231dbd9e9ac17acb06c45294023ea391a2b88c8b', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:50:13,466 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,466 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-25 01:50:13,467 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:50:13,467 [INFO] - [generated in 0.00006s] ()
2025-03-25 01:50:13,489 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:50:13,489 [INFO] - [generated in 0.00010s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:50:13,489 [INFO] - COMMIT
2025-03-25 01:50:13,505 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,505 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:50:13,505 [INFO] - [cached since 85.23s ago] (71,)
2025-03-25 01:50:13,505 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:50:13,506 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:50:13,506 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:50:13,506 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,506 [INFO] - [cached since 85.17s ago] (1, 1, 0)
2025-03-25 01:50:13,506 [INFO] - ROLLBACK
2025-03-25 01:50:13,506 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:50:13,508 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,508 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,508 [INFO] - [cached since 85.42s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,508 [INFO] - ROLLBACK
2025-03-25 01:50:13,508 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,509 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,512 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:50:13,512 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-25 01:50:13,513 [INFO] - ROLLBACK
2025-03-25 01:50:13,513 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:13,514 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,515 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,515 [INFO] - [cached since 85.43s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,515 [INFO] - ROLLBACK
2025-03-25 01:50:13,515 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,515 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,516 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,516 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 01:50:13,517 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:50:13,517 [INFO] - [cached since 85.18s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:50:13,517 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:50:13,517 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-25 01:50:13,517 [INFO] - COMMIT
2025-03-25 01:50:13,535 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:50:13,535 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,536 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:50:13,536 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:50:13,536 [INFO] - ROLLBACK
2025-03-25 01:50:13,536 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:13,538 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,538 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,538 [INFO] - [cached since 85.45s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,538 [INFO] - ROLLBACK
2025-03-25 01:50:13,538 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,538 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,539 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,539 [INFO] - [generated in 0.00006s] (3050, 1, 0)
2025-03-25 01:50:13,540 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:50:13,540 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:50:13,540 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:50:13,540 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:50:13,541 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:50:13,541 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:50:13,541 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:50:13,541 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:50:13,542 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:50:13,542 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:50:13,542 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:50:13,542 [INFO] - [cached since 85.17s ago] (71,)
2025-03-25 01:50:13,542 [INFO] - COMMIT
2025-03-25 01:50:13,547 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:50:13,547 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:13,549 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,549 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,549 [INFO] - [cached since 85.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,549 [INFO] - ROLLBACK
2025-03-25 01:50:13,549 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,549 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,550 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:50:13,550 [INFO] - [generated in 0.00006s] ()
2025-03-25 01:50:13,748 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:50:13,748 [INFO] - ROLLBACK
2025-03-25 01:50:13,748 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:50:30,430 [INFO] - BEGIN (implicit)
2025-03-25 01:50:30,430 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:30,430 [INFO] - [cached since 102.3s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:30,431 [INFO] - ROLLBACK
2025-03-25 01:50:30,431 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:30,431 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:30,432 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:30] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:30,434 [INFO] - BEGIN (implicit)
2025-03-25 01:50:30,434 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:30,434 [INFO] - [cached since 102.3s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:30,434 [INFO] - ROLLBACK
2025-03-25 01:50:30,435 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:30,435 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:30,435 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:30] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:36,045 [INFO] - BEGIN (implicit)
2025-03-25 01:50:36,045 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:36,045 [INFO] - [cached since 108s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:36,045 [INFO] - ROLLBACK
2025-03-25 01:50:36,045 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:36,045 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:36,046 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:36] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:36,047 [INFO] - BEGIN (implicit)
2025-03-25 01:50:36,047 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:36,047 [INFO] - [cached since 108s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:36,047 [INFO] - ROLLBACK
2025-03-25 01:50:36,047 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:36,047 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:36,048 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:36] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:40,524 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,525 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,525 [INFO] - [cached since 112.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,525 [INFO] - ROLLBACK
2025-03-25 01:50:40,525 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,526 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,526 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,526 [INFO] - [cached since 112.4s ago] ('test_student', 1, 0)
2025-03-25 01:50:40,526 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,526 [INFO] - [cached since 112.4s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:50:40,597 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:50:40,598 [INFO] - [cached since 112.4s ago] ('test_student', 'scrypt:32768:8:1$j5fTyd8fBjqTvaEd$e9e19396d88627b2592947549de4a19d2d3e0a05d530dfcfb0a76b9b5ef909b4c983431249aa4718266942197314ae310bd53a512808e240ffd72bc1a8f0fd03', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:50:40,598 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,598 [INFO] - [cached since 27.13s ago] ('1', 1, 0)
2025-03-25 01:50:40,599 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:50:40,599 [INFO] - [cached since 27.13s ago] ()
2025-03-25 01:50:40,599 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:50:40,599 [INFO] - [cached since 27.11s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:50:40,599 [INFO] - COMMIT
2025-03-25 01:50:40,605 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,605 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:50:40,605 [INFO] - [cached since 112.3s ago] (71,)
2025-03-25 01:50:40,605 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:50:40,605 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:50:40,605 [INFO] - [cached since 27.1s ago] (71,)
2025-03-25 01:50:40,605 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,606 [INFO] - [cached since 112.3s ago] (1, 1, 0)
2025-03-25 01:50:40,606 [INFO] - ROLLBACK
2025-03-25 01:50:40,606 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:50:40,608 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,608 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,608 [INFO] - [cached since 112.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,608 [INFO] - ROLLBACK
2025-03-25 01:50:40,608 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,608 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,608 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:50:40,608 [INFO] - [cached since 27.1s ago] (3050, 1, 0)
2025-03-25 01:50:40,609 [INFO] - ROLLBACK
2025-03-25 01:50:40,609 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:40,611 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,611 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,611 [INFO] - [cached since 112.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,611 [INFO] - ROLLBACK
2025-03-25 01:50:40,611 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,611 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,611 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,611 [INFO] - [cached since 27.09s ago] (3050, 1, 0)
2025-03-25 01:50:40,612 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:50:40,612 [INFO] - [cached since 112.3s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:50:40,637 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:50:40,637 [INFO] - [cached since 27.12s ago] ('2005-05-16', 71)
2025-03-25 01:50:40,637 [INFO] - COMMIT
2025-03-25 01:50:40,643 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:50:40,643 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,644 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:50:40,644 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,644 [INFO] - ROLLBACK
2025-03-25 01:50:40,644 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:40,645 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,645 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,645 [INFO] - [cached since 112.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,645 [INFO] - ROLLBACK
2025-03-25 01:50:40,646 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,646 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,646 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,646 [INFO] - [cached since 27.11s ago] (3050, 1, 0)
2025-03-25 01:50:40,646 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:50:40,646 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,646 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:50:40,646 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 112.3s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - COMMIT
2025-03-25 01:50:40,654 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:50:40,654 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:40,655 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,655 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,655 [INFO] - [cached since 112.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,655 [INFO] - ROLLBACK
2025-03-25 01:50:40,655 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,656 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,656 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:50:40,656 [INFO] - [cached since 27.11s ago] ()
2025-03-25 01:50:40,665 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:50:40,665 [INFO] - ROLLBACK
2025-03-25 01:50:40,665 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:50:45,708 [INFO] - BEGIN (implicit)
2025-03-25 01:50:45,709 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:45,709 [INFO] - [cached since 117.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:45,709 [INFO] - ROLLBACK
2025-03-25 01:50:45,709 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:45,709 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 227, in post
    username = check_admin_authorization("/api/admin/teacher", method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:45,710 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:45] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-25 01:50:45,712 [INFO] - BEGIN (implicit)
2025-03-25 01:50:45,712 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:45,712 [INFO] - [cached since 117.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:45,712 [INFO] - ROLLBACK
2025-03-25 01:50:45,712 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:45,712 [ERROR] - Exception on /api/admin/teachers [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 320, in get
    username = check_admin_authorization("/api/admin/teachers", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:45,713 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:45] "[35m[1mGET /api/admin/teachers HTTP/1.1[0m" 500 -
2025-03-25 01:50:50,482 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,483 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,483 [INFO] - [cached since 122.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,483 [INFO] - ROLLBACK
2025-03-25 01:50:50,483 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,483 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,483 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,483 [INFO] - [cached since 122.3s ago] ('test_teacher', 1, 0)
2025-03-25 01:50:50,484 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,484 [INFO] - [cached since 122.3s ago] ('jane.smith@example.com', 1, 0)
2025-03-25 01:50:50,555 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:50:50,555 [INFO] - [cached since 122.3s ago] ('test_teacher', 'scrypt:32768:8:1$lPvtq5RHhh8hn5YO$003ed17eea8c8420b48e9649630bcfc1dd55830f43b27db4c69c995399d19298895499ec215bdea9e204dfabc4648fe8542f8708869d056ab99c879ad218ee4f', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:50:50,556 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:50:50,556 [INFO] - [cached since 122.3s ago] ()
2025-03-25 01:50:50,556 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:50:50,556 [INFO] - [cached since 122.3s ago] (71, 4015)
2025-03-25 01:50:50,556 [INFO] - COMMIT
2025-03-25 01:50:50,626 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,626 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:50:50,626 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,626 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by user2
2025-03-25 01:50:50,626 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:50:50,626 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,627 [INFO] - ROLLBACK
2025-03-25 01:50:50,627 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:50:50,629 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,629 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,629 [INFO] - [cached since 122.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,629 [INFO] - ROLLBACK
2025-03-25 01:50:50,629 [INFO] - GET /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,629 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,630 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:50:50,630 [INFO] - [cached since 122.3s ago] (4015, 1, 0)
2025-03-25 01:50:50,630 [INFO] - ROLLBACK
2025-03-25 01:50:50,630 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:50:50,632 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,632 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,632 [INFO] - [cached since 122.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,632 [INFO] - ROLLBACK
2025-03-25 01:50:50,632 [INFO] - PATCH /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,632 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,632 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:50:50,632 [INFO] - [cached since 122.3s ago] (4015, 1, 0)
2025-03-25 01:50:50,633 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:50:50,633 [INFO] - [cached since 122.3s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:50:50,633 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,633 [INFO] - [cached since 122.3s ago] (1, 1, 0)
2025-03-25 01:50:50,634 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,634 [INFO] - [cached since 122.3s ago] (4015, 1, 1, 0)
2025-03-25 01:50:50,634 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,634 [INFO] - [cached since 122.3s ago] (1, 1, 0)
2025-03-25 01:50:50,634 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:50:50,634 [INFO] - [cached since 122.3s ago] (4015, 1, 1, 2)
2025-03-25 01:50:50,634 [INFO] - COMMIT
2025-03-25 01:50:50,640 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user2
2025-03-25 01:50:50,640 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,640 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:50:50,640 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,640 [INFO] - ROLLBACK
2025-03-25 01:50:50,641 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:50:50,642 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,642 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,642 [INFO] - [cached since 122.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,642 [INFO] - ROLLBACK
2025-03-25 01:50:50,642 [INFO] - DELETE /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,642 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,642 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,642 [INFO] - [cached since 122.3s ago] (4015, 1, 0)
2025-03-25 01:50:50,643 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:50:50,643 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,688 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:50:50,688 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,689 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:50:50,689 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,689 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:50:50,689 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,689 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:50:50,689 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:50:50,690 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:50:50,690 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:50:50,690 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - COMMIT
2025-03-25 01:50:50,699 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user2
2025-03-25 01:50:50,699 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:50:50,701 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,701 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,701 [INFO] - [cached since 122.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,701 [INFO] - ROLLBACK
2025-03-25 01:50:50,701 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,702 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,702 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:50:50,702 [INFO] - [cached since 122.3s ago] ()
2025-03-25 01:50:50,708 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-25 01:50:50,708 [INFO] - ROLLBACK
2025-03-25 01:50:50,709 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:51:19,454 [INFO] - BEGIN (implicit)
2025-03-25 01:51:19,455 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:51:19,455 [INFO] - [cached since 151.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:51:19,456 [INFO] - ROLLBACK
2025-03-25 01:51:19,456 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:51:19,457 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 227, in post
    username = check_admin_authorization("/api/admin/teacher", method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:51:19,459 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:51:19] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-25 01:51:19,460 [INFO] - BEGIN (implicit)
2025-03-25 01:51:19,461 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:51:19,461 [INFO] - [cached since 151.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:51:19,461 [INFO] - ROLLBACK
2025-03-25 01:51:19,461 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:51:19,461 [ERROR] - Exception on /api/admin/teachers [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 320, in get
    username = check_admin_authorization("/api/admin/teachers", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:51:19,461 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:51:19] "[35m[1mGET /api/admin/teachers HTTP/1.1[0m" 500 -
2025-03-25 01:54:58,038 [INFO] - BEGIN (implicit)
2025-03-25 01:54:58,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:54:58,039 [INFO] - [cached since 370s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:54:58,050 [INFO] - ROLLBACK
2025-03-25 01:54:58,050 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:54:58,050 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 227, in post
    username = check_admin_authorization("/api/admin/teacher", method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, description="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:54:58,053 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:54:58] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-25 01:54:58,055 [INFO] - BEGIN (implicit)
2025-03-25 01:54:58,056 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:54:58,056 [INFO] - [cached since 370s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:54:58,056 [INFO] - ROLLBACK
2025-03-25 01:54:58,056 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:54:58,056 [ERROR] - Exception on /api/admin/teachers [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 320, in get
    username = check_admin_authorization("/api/admin/teachers", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, description="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:54:58,056 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:54:58] "[35m[1mGET /api/admin/teachers HTTP/1.1[0m" 500 -
2025-03-25 01:56:56,382 [INFO] - BEGIN (implicit)
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("users")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("students")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 01:56:56,383 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 01:56:56,383 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 01:56:56,383 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - COMMIT
2025-03-25 01:56:56,392 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 01:56:56,392 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 01:56:58,312 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,313 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,313 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,340 [INFO] - ROLLBACK
2025-03-25 01:56:58,340 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,340 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,341 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,341 [INFO] - [generated in 0.00011s] ('test_student', 1, 0)
2025-03-25 01:56:58,341 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,341 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-25 01:56:58,416 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:56:58,416 [INFO] - [generated in 0.00016s] ('test_student', 'scrypt:32768:8:1$je8bsnxB48f0kl7n$34ada7d91a3ff3c69583599d16838db46212abee689b7546bdd45063e27244b809856826be5c874142d913434e4bb62831f0d1ff703385d9ec3ce9ae7c51d88b', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:56:58,448 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,448 [INFO] - [generated in 0.00013s] ('1', 1, 0)
2025-03-25 01:56:58,449 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:56:58,450 [INFO] - [generated in 0.00007s] ()
2025-03-25 01:56:58,451 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:56:58,451 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:56:58,451 [INFO] - COMMIT
2025-03-25 01:56:58,499 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,500 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:56:58,500 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:56:58,500 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:56:58,501 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:56:58,501 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:56:58,502 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,502 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-25 01:56:58,502 [INFO] - ROLLBACK
2025-03-25 01:56:58,502 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:56:58,504 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,504 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,504 [INFO] - [cached since 0.191s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,505 [INFO] - ROLLBACK
2025-03-25 01:56:58,505 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,505 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,508 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:56:58,508 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 01:56:58,526 [INFO] - ROLLBACK
2025-03-25 01:56:58,526 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:56:58,528 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,528 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,528 [INFO] - [cached since 0.2147s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,528 [INFO] - ROLLBACK
2025-03-25 01:56:58,528 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,529 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,530 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,530 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 01:56:58,531 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:56:58,531 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:56:58,532 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:56:58,532 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-25 01:56:58,532 [INFO] - COMMIT
2025-03-25 01:56:58,603 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:56:58,603 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,605 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:56:58,605 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:56:58,605 [INFO] - ROLLBACK
2025-03-25 01:56:58,605 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:56:58,607 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,607 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,607 [INFO] - [cached since 0.2937s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,607 [INFO] - ROLLBACK
2025-03-25 01:56:58,607 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,607 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,608 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,608 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 01:56:58,609 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:56:58,609 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:56:58,610 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:56:58,611 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:56:58,611 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:56:58,611 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:56:58,612 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:56:58,612 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:56:58,613 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:56:58,613 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:56:58,613 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:56:58,613 [INFO] - [generated in 0.00004s] (71,)
2025-03-25 01:56:58,613 [INFO] - COMMIT
2025-03-25 01:56:58,636 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:56:58,637 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:56:58,638 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,638 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,638 [INFO] - [cached since 0.3247s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,638 [INFO] - ROLLBACK
2025-03-25 01:56:58,638 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,638 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,639 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:56:58,639 [INFO] - [generated in 0.00007s] ()
2025-03-25 01:56:58,798 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:56:58,798 [INFO] - ROLLBACK
2025-03-25 01:56:58,799 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:57:08,583 [INFO] - BEGIN (implicit)
2025-03-25 01:57:08,584 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:08,584 [INFO] - [cached since 10.27s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:57:08,584 [INFO] - ROLLBACK
2025-03-25 01:57:08,585 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:57:08,585 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:08] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-25 01:57:08,587 [INFO] - BEGIN (implicit)
2025-03-25 01:57:08,587 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:08,587 [INFO] - [cached since 10.27s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:57:08,587 [INFO] - ROLLBACK
2025-03-25 01:57:08,587 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:57:08,587 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:08] "[31m[1mGET /api/admin/students HTTP/1.1[0m" 401 -
2025-03-25 01:57:21,686 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,687 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,687 [INFO] - [cached since 23.37s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,687 [INFO] - ROLLBACK
2025-03-25 01:57:21,687 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,688 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,688 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,688 [INFO] - [cached since 23.35s ago] ('test_student', 1, 0)
2025-03-25 01:57:21,688 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,688 [INFO] - [cached since 23.35s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:57:21,761 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:57:21,761 [INFO] - [cached since 23.35s ago] ('test_student', 'scrypt:32768:8:1$6cUonu9841VoxCSI$c6d2214cc399ba6d5e811aec12e1b3a54d36bf504e206faddd374c9a568137a0d6d3a40e5eec995c1ce8d1ac69ddf051fe44211a17dd56844b8b4cd70f5b1b9f', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:57:21,762 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,762 [INFO] - [cached since 23.31s ago] ('1', 1, 0)
2025-03-25 01:57:21,763 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:57:21,763 [INFO] - [cached since 23.31s ago] ()
2025-03-25 01:57:21,763 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:57:21,763 [INFO] - [cached since 23.31s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:57:21,763 [INFO] - COMMIT
2025-03-25 01:57:21,770 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:57:21,770 [INFO] - [cached since 23.27s ago] (71,)
2025-03-25 01:57:21,770 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:57:21,771 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:57:21,771 [INFO] - [cached since 23.27s ago] (71,)
2025-03-25 01:57:21,771 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,771 [INFO] - [cached since 23.27s ago] (1, 1, 0)
2025-03-25 01:57:21,771 [INFO] - ROLLBACK
2025-03-25 01:57:21,771 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:57:21,773 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,774 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,774 [INFO] - [cached since 23.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,774 [INFO] - ROLLBACK
2025-03-25 01:57:21,774 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,774 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,774 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:57:21,774 [INFO] - [cached since 23.27s ago] (3050, 1, 0)
2025-03-25 01:57:21,775 [INFO] - ROLLBACK
2025-03-25 01:57:21,775 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:57:21,776 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,777 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,777 [INFO] - [cached since 23.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,777 [INFO] - ROLLBACK
2025-03-25 01:57:21,777 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,777 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,777 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,777 [INFO] - [cached since 23.25s ago] (3050, 1, 0)
2025-03-25 01:57:21,778 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:57:21,778 [INFO] - [cached since 23.25s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:57:21,778 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:57:21,778 [INFO] - [cached since 23.25s ago] ('2005-05-16', 71)
2025-03-25 01:57:21,778 [INFO] - COMMIT
2025-03-25 01:57:21,782 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:57:21,783 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,783 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:57:21,783 [INFO] - [cached since 23.18s ago] (71,)
2025-03-25 01:57:21,783 [INFO] - ROLLBACK
2025-03-25 01:57:21,783 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:57:21,784 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,784 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,784 [INFO] - [cached since 23.47s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,784 [INFO] - ROLLBACK
2025-03-25 01:57:21,785 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,785 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,785 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,785 [INFO] - [cached since 23.18s ago] (3050, 1, 0)
2025-03-25 01:57:21,785 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:57:21,785 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,785 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:57:21,785 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.18s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.18s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - COMMIT
2025-03-25 01:57:21,791 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:57:21,791 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:57:21,792 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,792 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,792 [INFO] - [cached since 23.48s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,793 [INFO] - ROLLBACK
2025-03-25 01:57:21,793 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,793 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,793 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:57:21,793 [INFO] - [cached since 23.15s ago] ()
2025-03-25 01:57:21,804 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:57:21,804 [INFO] - ROLLBACK
2025-03-25 01:57:21,804 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 02:02:35,532 [INFO] - BEGIN (implicit)
2025-03-25 02:02:35,532 [INFO] - PRAGMA main.table_info("users")
2025-03-25 02:02:35,532 [INFO] - [raw sql] ()
2025-03-25 02:02:35,532 [INFO] - PRAGMA main.table_info("students")
2025-03-25 02:02:35,532 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - COMMIT
2025-03-25 02:02:35,544 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 02:02:35,544 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 02:02:39,035 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,037 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,037 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,121 [INFO] - ROLLBACK
2025-03-25 02:02:39,122 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,122 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,122 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,122 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-25 02:02:39,123 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,123 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-25 02:02:39,197 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 02:02:39,197 [INFO] - [generated in 0.00012s] ('test_student', 'scrypt:32768:8:1$wXTUPMiYiYwtXA66$ea4d514467567330bdcab6429fa53d8c6d72476cf7e5f4fbe5fc05d0c0d8c69fc888d44bc50465d34b658d23ec2af5fa0f6e6c071ef2ab5714105902b69ab377', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 02:02:39,226 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,226 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-25 02:02:39,259 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 02:02:39,259 [INFO] - [generated in 0.00008s] ()
2025-03-25 02:02:39,270 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 02:02:39,270 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 02:02:39,270 [INFO] - COMMIT
2025-03-25 02:02:39,301 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,302 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 02:02:39,302 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,302 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 02:02:39,302 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 02:02:39,302 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,303 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,303 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-25 02:02:39,303 [INFO] - ROLLBACK
2025-03-25 02:02:39,303 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 02:02:39,305 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,305 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,305 [INFO] - [cached since 0.2686s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,306 [INFO] - ROLLBACK
2025-03-25 02:02:39,306 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,306 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,309 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 02:02:39,309 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-25 02:02:39,337 [INFO] - ROLLBACK
2025-03-25 02:02:39,338 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:02:39,339 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,340 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,340 [INFO] - [cached since 0.3028s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,340 [INFO] - ROLLBACK
2025-03-25 02:02:39,340 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,340 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,341 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,341 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 02:02:39,342 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 02:02:39,343 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 02:02:39,343 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 02:02:39,343 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-25 02:02:39,343 [INFO] - COMMIT
2025-03-25 02:02:39,449 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 02:02:39,449 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,451 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 02:02:39,451 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 02:02:39,451 [INFO] - ROLLBACK
2025-03-25 02:02:39,451 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:02:39,453 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,453 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,453 [INFO] - [cached since 0.416s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,453 [INFO] - ROLLBACK
2025-03-25 02:02:39,453 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,453 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,454 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,454 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 02:02:39,455 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 02:02:39,455 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,456 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 02:02:39,456 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 02:02:39,456 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 02:02:39,456 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,457 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 02:02:39,457 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 02:02:39,457 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 02:02:39,457 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 02:02:39,458 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 02:02:39,458 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 02:02:39,458 [INFO] - COMMIT
2025-03-25 02:02:39,464 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 02:02:39,464 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:02:39,465 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,465 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,465 [INFO] - [cached since 0.4286s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,466 [INFO] - ROLLBACK
2025-03-25 02:02:39,466 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,466 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,467 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 02:02:39,467 [INFO] - [generated in 0.00006s] ()
2025-03-25 02:02:39,654 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 02:02:39,654 [INFO] - ROLLBACK
2025-03-25 02:02:39,654 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 02:02:44,316 [INFO] - BEGIN (implicit)
2025-03-25 02:02:44,316 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:44,317 [INFO] - [cached since 5.28s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 02:02:44,317 [INFO] - ROLLBACK
2025-03-25 02:02:44,317 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 02:02:44,317 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:44] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-25 02:02:44,318 [INFO] - BEGIN (implicit)
2025-03-25 02:02:44,318 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:44,319 [INFO] - [cached since 5.282s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 02:02:44,319 [INFO] - ROLLBACK
2025-03-25 02:02:44,319 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 02:02:44,319 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:44] "[31m[1mGET /api/admin/students HTTP/1.1[0m" 401 -
2025-03-25 02:03:12,405 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,406 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,406 [INFO] - [cached since 33.37s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,407 [INFO] - ROLLBACK
2025-03-25 02:03:12,407 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,407 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,407 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,407 [INFO] - [cached since 33.29s ago] ('test_student', 1, 0)
2025-03-25 02:03:12,408 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,408 [INFO] - [cached since 33.28s ago] ('john.doe@example.com', 1, 0)
2025-03-25 02:03:12,482 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 02:03:12,482 [INFO] - [cached since 33.29s ago] ('test_student', 'scrypt:32768:8:1$G5PjIIh9BuaTdGuJ$6ded34d31ca713f693005f4422ce427f78024ff1ad5322fdd7565add84637ab36f8236d54712c300bf2680db724f6375aedb5d3d5822bcd91c8f1b4680cd0d53', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 02:03:12,483 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,483 [INFO] - [cached since 33.26s ago] ('1', 1, 0)
2025-03-25 02:03:12,483 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 02:03:12,483 [INFO] - [cached since 33.22s ago] ()
2025-03-25 02:03:12,483 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 02:03:12,483 [INFO] - [cached since 33.21s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 02:03:12,483 [INFO] - COMMIT
2025-03-25 02:03:12,490 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,490 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 02:03:12,490 [INFO] - [cached since 33.19s ago] (71,)
2025-03-25 02:03:12,491 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 02:03:12,491 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 02:03:12,491 [INFO] - [cached since 33.19s ago] (71,)
2025-03-25 02:03:12,491 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,491 [INFO] - [cached since 33.19s ago] (1, 1, 0)
2025-03-25 02:03:12,491 [INFO] - ROLLBACK
2025-03-25 02:03:12,491 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 02:03:12,493 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,493 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,494 [INFO] - [cached since 33.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,494 [INFO] - ROLLBACK
2025-03-25 02:03:12,494 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,494 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,494 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 02:03:12,494 [INFO] - [cached since 33.19s ago] (3050, 1, 0)
2025-03-25 02:03:12,495 [INFO] - ROLLBACK
2025-03-25 02:03:12,495 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:03:12,496 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,497 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,497 [INFO] - [cached since 33.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,497 [INFO] - ROLLBACK
2025-03-25 02:03:12,497 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,497 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,497 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,497 [INFO] - [cached since 33.16s ago] (3050, 1, 0)
2025-03-25 02:03:12,498 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 02:03:12,498 [INFO] - [cached since 33.16s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 02:03:12,527 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 02:03:12,527 [INFO] - [cached since 33.18s ago] ('2005-05-16', 71)
2025-03-25 02:03:12,527 [INFO] - COMMIT
2025-03-25 02:03:12,541 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 02:03:12,542 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,542 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 02:03:12,542 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,543 [INFO] - ROLLBACK
2025-03-25 02:03:12,544 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:03:12,545 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,546 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,546 [INFO] - [cached since 33.51s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,546 [INFO] - ROLLBACK
2025-03-25 02:03:12,546 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,546 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,546 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,546 [INFO] - [cached since 33.09s ago] (3050, 1, 0)
2025-03-25 02:03:12,546 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 02:03:12,546 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,567 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 02:03:12,567 [INFO] - [cached since 33.11s ago] (71,)
2025-03-25 02:03:12,567 [INFO] - COMMIT
2025-03-25 02:03:12,575 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 02:03:12,575 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:03:12,577 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,577 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,577 [INFO] - [cached since 33.54s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,577 [INFO] - ROLLBACK
2025-03-25 02:03:12,577 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,577 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,577 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 02:03:12,577 [INFO] - [cached since 33.11s ago] ()
2025-03-25 02:03:12,648 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 02:03:12,648 [INFO] - ROLLBACK
2025-03-25 02:03:12,648 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 20:29:42,148 [INFO] - BEGIN (implicit)
2025-03-25 20:29:42,148 [INFO] - PRAGMA main.table_info("users")
2025-03-25 20:29:42,148 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("students")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - COMMIT
2025-03-25 20:29:42,176 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 20:29:42,176 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 20:29:43,748 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,750 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,750 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:43,766 [INFO] - ROLLBACK
2025-03-25 20:29:43,766 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:43,767 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,767 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,767 [INFO] - [generated in 0.00010s] ('test_student', 1, 0)
2025-03-25 20:29:43,768 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,768 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-25 20:29:43,841 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 20:29:43,842 [INFO] - [generated in 0.00019s] ('test_student', 'scrypt:32768:8:1$FsNyrxoPdbOECgVs$753c1340e70a88363973911130ea48353a100e5eaf9f7b7b9851f9e6040836f062ede887a3ae525e4f826cb1edc5ad4262f66a3fc32a059664a29cb207a4eb0a', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 20:29:43,845 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,845 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-25 20:29:43,847 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 20:29:43,847 [INFO] - [generated in 0.00006s] ()
2025-03-25 20:29:43,848 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 20:29:43,848 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 20:29:43,849 [INFO] - COMMIT
2025-03-25 20:29:43,855 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,856 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 20:29:43,856 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 20:29:43,856 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 20:29:43,856 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 20:29:43,856 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 20:29:43,857 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,857 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-25 20:29:43,857 [INFO] - ROLLBACK
2025-03-25 20:29:43,857 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:43] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 20:29:43,859 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,860 [INFO] - [cached since 0.1102s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:43,860 [INFO] - ROLLBACK
2025-03-25 20:29:43,860 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:43,860 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,863 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 20:29:43,863 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 20:29:43,864 [INFO] - ROLLBACK
2025-03-25 20:29:43,864 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:29:43,866 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,866 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,866 [INFO] - [cached since 0.1167s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:43,866 [INFO] - ROLLBACK
2025-03-25 20:29:43,866 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:43,867 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,868 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,868 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-25 20:29:43,869 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 20:29:43,869 [INFO] - [generated in 0.00013s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 20:29:43,985 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 20:29:43,985 [INFO] - [generated in 0.00014s] ('2005-05-16', 71)
2025-03-25 20:29:43,985 [INFO] - COMMIT
2025-03-25 20:29:44,023 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 20:29:44,023 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,025 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 20:29:44,025 [INFO] - [generated in 0.00021s] (71,)
2025-03-25 20:29:44,026 [INFO] - ROLLBACK
2025-03-25 20:29:44,026 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:44] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:29:44,028 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,028 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:44,028 [INFO] - [cached since 0.2783s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:44,028 [INFO] - ROLLBACK
2025-03-25 20:29:44,028 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:44,028 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,029 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:44,029 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 20:29:44,030 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 20:29:44,030 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 20:29:44,031 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 20:29:44,031 [INFO] - [generated in 0.00010s] (71,)
2025-03-25 20:29:44,031 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 20:29:44,031 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 20:29:44,032 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 20:29:44,032 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 20:29:44,033 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 20:29:44,033 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 20:29:44,049 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 20:29:44,049 [INFO] - [generated in 0.00014s] (71,)
2025-03-25 20:29:44,050 [INFO] - COMMIT
2025-03-25 20:29:44,057 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 20:29:44,058 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:44] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:29:44,059 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,060 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:44,060 [INFO] - [cached since 0.3101s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:44,060 [INFO] - ROLLBACK
2025-03-25 20:29:44,060 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:44,060 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,062 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 20:29:44,062 [INFO] - [generated in 0.00009s] ()
2025-03-25 20:29:44,358 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 20:29:44,359 [INFO] - ROLLBACK
2025-03-25 20:29:44,359 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:44] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 20:29:51,754 [INFO] - BEGIN (implicit)
2025-03-25 20:29:51,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:51,755 [INFO] - [cached since 8.005s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 20:29:51,755 [INFO] - ROLLBACK
2025-03-25 20:29:51,755 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 20:29:51,755 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:51] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-25 20:29:51,756 [INFO] - BEGIN (implicit)
2025-03-25 20:29:51,756 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:51,756 [INFO] - [cached since 8.007s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 20:29:51,757 [INFO] - ROLLBACK
2025-03-25 20:29:51,757 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 20:29:51,757 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:51] "[31m[1mGET /api/admin/students HTTP/1.1[0m" 401 -
2025-03-25 20:30:01,838 [INFO] - BEGIN (implicit)
2025-03-25 20:30:01,838 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,838 [INFO] - [cached since 18.09s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:01,839 [INFO] - ROLLBACK
2025-03-25 20:30:01,839 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:01,839 [INFO] - BEGIN (implicit)
2025-03-25 20:30:01,839 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,839 [INFO] - [cached since 18.07s ago] ('test_student', 1, 0)
2025-03-25 20:30:01,839 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,839 [INFO] - [cached since 18.07s ago] ('john.doe@example.com', 1, 0)
2025-03-25 20:30:01,912 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 20:30:01,912 [INFO] - [cached since 18.07s ago] ('test_student', 'scrypt:32768:8:1$QhqA27EKYlCFeCFP$c6d201e4e609a26ea25d9a6c1577ecadbf93006b284eec87aa8f2aeee572d33cc043cd3a97fec61ca10f660d3009f1bc42e5d275ff59525656dd50279ddcc093', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 20:30:01,922 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,922 [INFO] - [cached since 18.08s ago] ('1', 1, 0)
2025-03-25 20:30:01,922 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 20:30:01,922 [INFO] - [cached since 18.08s ago] ()
2025-03-25 20:30:01,923 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 20:30:01,923 [INFO] - [cached since 18.07s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 20:30:01,923 [INFO] - COMMIT
2025-03-25 20:30:02,030 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,030 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 20:30:02,030 [INFO] - [cached since 18.18s ago] (71,)
2025-03-25 20:30:02,031 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 20:30:02,031 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 20:30:02,031 [INFO] - [cached since 18.17s ago] (71,)
2025-03-25 20:30:02,031 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,031 [INFO] - [cached since 18.17s ago] (1, 1, 0)
2025-03-25 20:30:02,031 [INFO] - ROLLBACK
2025-03-25 20:30:02,031 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 20:30:02,034 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,034 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,034 [INFO] - [cached since 18.28s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,034 [INFO] - ROLLBACK
2025-03-25 20:30:02,034 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,034 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,034 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 20:30:02,034 [INFO] - [cached since 18.17s ago] (3050, 1, 0)
2025-03-25 20:30:02,035 [INFO] - ROLLBACK
2025-03-25 20:30:02,035 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:30:02,037 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,037 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,037 [INFO] - [cached since 18.29s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,037 [INFO] - ROLLBACK
2025-03-25 20:30:02,037 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,037 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,037 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,037 [INFO] - [cached since 18.17s ago] (3050, 1, 0)
2025-03-25 20:30:02,038 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 20:30:02,038 [INFO] - [cached since 18.17s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 20:30:02,038 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 20:30:02,038 [INFO] - [cached since 18.05s ago] ('2005-05-16', 71)
2025-03-25 20:30:02,038 [INFO] - COMMIT
2025-03-25 20:30:02,073 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 20:30:02,073 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,074 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 20:30:02,074 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,074 [INFO] - ROLLBACK
2025-03-25 20:30:02,074 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:30:02,076 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,076 [INFO] - [cached since 18.33s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,076 [INFO] - ROLLBACK
2025-03-25 20:30:02,076 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,076 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,076 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,076 [INFO] - [cached since 18.05s ago] (3050, 1, 0)
2025-03-25 20:30:02,077 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 20:30:02,077 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,077 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 20:30:02,077 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,077 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 20:30:02,077 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,078 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 20:30:02,078 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,078 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 20:30:02,078 [INFO] - [cached since 18.04s ago] (71,)
2025-03-25 20:30:02,078 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 20:30:02,078 [INFO] - [cached since 18.03s ago] (71,)
2025-03-25 20:30:02,079 [INFO] - COMMIT
2025-03-25 20:30:02,109 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 20:30:02,110 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:30:02,111 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,111 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,111 [INFO] - [cached since 18.36s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,112 [INFO] - ROLLBACK
2025-03-25 20:30:02,112 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,112 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,112 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 20:30:02,112 [INFO] - [cached since 18.05s ago] ()
2025-03-25 20:30:02,503 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 20:30:02,503 [INFO] - ROLLBACK
2025-03-25 20:30:02,503 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 20:30:42,802 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:42] "GET / HTTP/1.1" 200 -
2025-03-25 20:30:42,863 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 20:30:44,748 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:44] "GET /student/ HTTP/1.1" 200 -
2025-03-25 20:30:44,798 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:18,894 [INFO] - BEGIN (implicit)
2025-03-25 21:07:18,894 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:07:18,894 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:07:18,896 [INFO] - [raw sql] ()
2025-03-25 21:07:18,896 [INFO] - COMMIT
2025-03-25 21:07:18,939 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:07:18,939 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:07:28,128 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:28] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:28,163 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:29,089 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:29] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:29,158 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:30,837 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:30] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:30,875 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:35,570 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 21:07:35,571 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:35] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-25 21:07:37,049 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 21:07:37,050 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:37] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-25 21:07:53,774 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:53] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:53,803 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:55,883 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:55] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:07:55,933 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:08:04,510 [INFO] - BEGIN (implicit)
2025-03-25 21:08:04,512 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:08:04,512 [INFO] - [generated in 0.00018s] ('user2', 1, 0)
2025-03-25 21:08:04,629 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:04] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:08:04,636 [INFO] - BEGIN (implicit)
2025-03-25 21:08:04,636 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:08:04,636 [INFO] - [generated in 0.00010s] ('2',)
2025-03-25 21:08:04,638 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:04] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:08:04,712 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:08:13,315 [INFO] - BEGIN (implicit)
2025-03-25 21:08:13,316 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:08:13,317 [INFO] - [cached since 8.685s ago] ('2',)
2025-03-25 21:08:13,320 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:08:13,321 [INFO] - BEGIN (implicit)
2025-03-25 21:08:13,321 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:08:13,321 [INFO] - [cached since 8.814s ago] ('user2', 1, 0)
2025-03-25 21:08:13,324 [INFO] - ROLLBACK
2025-03-25 21:08:13,325 [INFO] - BEGIN (implicit)
2025-03-25 21:08:13,328 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:08:13,329 [INFO] - [generated in 0.00015s] ()
2025-03-25 21:08:13,538 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:08:13,538 [INFO] - ROLLBACK
2025-03-25 21:08:13,544 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:13] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:08:13,586 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:08:25,153 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:25] "[33mGET /admin/student/3049 HTTP/1.1[0m" 404 -
2025-03-25 21:19:46,187 [INFO] - BEGIN (implicit)
2025-03-25 21:19:46,187 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:19:46,187 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,190 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:19:46,190 [INFO] - [raw sql] ()
2025-03-25 21:19:46,190 [INFO] - COMMIT
2025-03-25 21:19:46,204 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:19:46,204 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:19:49,281 [INFO] - BEGIN (implicit)
2025-03-25 21:19:49,282 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:49,282 [INFO] - [generated in 0.00011s] ('2',)
2025-03-25 21:19:49,317 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:49,329 [INFO] - BEGIN (implicit)
2025-03-25 21:19:49,330 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:49,330 [INFO] - [generated in 0.00011s] ('user2', 1, 0)
2025-03-25 21:19:49,331 [INFO] - ROLLBACK
2025-03-25 21:19:49,331 [INFO] - BEGIN (implicit)
2025-03-25 21:19:49,333 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:49,333 [INFO] - [generated in 0.00008s] ()
2025-03-25 21:19:49,542 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:49,543 [INFO] - ROLLBACK
2025-03-25 21:19:49,546 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:49,561 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:49] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:50,367 [INFO] - BEGIN (implicit)
2025-03-25 21:19:50,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:50,368 [INFO] - [cached since 1.086s ago] ('2',)
2025-03-25 21:19:50,368 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:50,369 [INFO] - BEGIN (implicit)
2025-03-25 21:19:50,369 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:50,369 [INFO] - [cached since 1.04s ago] ('user2', 1, 0)
2025-03-25 21:19:50,370 [INFO] - ROLLBACK
2025-03-25 21:19:50,370 [INFO] - BEGIN (implicit)
2025-03-25 21:19:50,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:50,371 [INFO] - [cached since 1.038s ago] ()
2025-03-25 21:19:50,374 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:50,375 [INFO] - ROLLBACK
2025-03-25 21:19:50,375 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:50,377 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:50] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:51,075 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:51,076 [INFO] - [cached since 1.794s ago] ('2',)
2025-03-25 21:19:51,076 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:51,077 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,077 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:51,077 [INFO] - [cached since 1.747s ago] ('user2', 1, 0)
2025-03-25 21:19:51,077 [INFO] - ROLLBACK
2025-03-25 21:19:51,078 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,078 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:51,078 [INFO] - [cached since 1.745s ago] ()
2025-03-25 21:19:51,082 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:51,082 [INFO] - ROLLBACK
2025-03-25 21:19:51,082 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:51,084 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:51] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:51,416 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,416 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:51,416 [INFO] - [cached since 2.134s ago] ('2',)
2025-03-25 21:19:51,416 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:51,417 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,417 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:51,417 [INFO] - [cached since 2.087s ago] ('user2', 1, 0)
2025-03-25 21:19:51,417 [INFO] - ROLLBACK
2025-03-25 21:19:51,418 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,418 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:51,418 [INFO] - [cached since 2.085s ago] ()
2025-03-25 21:19:51,422 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:51,422 [INFO] - ROLLBACK
2025-03-25 21:19:51,423 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:51,424 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:51] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:55,236 [INFO] - BEGIN (implicit)
2025-03-25 21:19:55,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:55,237 [INFO] - [cached since 5.955s ago] ('2',)
2025-03-25 21:19:55,291 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:19:55,340 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:55] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:20:29,503 [INFO] - BEGIN (implicit)
2025-03-25 21:20:29,504 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:20:29,504 [INFO] - [cached since 40.22s ago] ('2',)
2025-03-25 21:20:29,505 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:20:29,506 [INFO] - BEGIN (implicit)
2025-03-25 21:20:29,506 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:20:29,506 [INFO] - [cached since 40.18s ago] ('user2', 1, 0)
2025-03-25 21:20:29,506 [INFO] - ROLLBACK
2025-03-25 21:20:29,507 [INFO] - BEGIN (implicit)
2025-03-25 21:20:29,507 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:20:29,507 [INFO] - [cached since 40.17s ago] ()
2025-03-25 21:20:29,519 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:20:29,520 [INFO] - ROLLBACK
2025-03-25 21:20:29,520 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:20:29,521 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:20:29] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:20:39,030 [INFO] - BEGIN (implicit)
2025-03-25 21:20:39,032 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:20:39,032 [INFO] - [cached since 49.75s ago] ('2',)
2025-03-25 21:20:39,033 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:20:39,034 [INFO] - BEGIN (implicit)
2025-03-25 21:20:39,037 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:20:39,037 [INFO] - [cached since 49.71s ago] ('user2', 1, 0)
2025-03-25 21:20:39,038 [INFO] - ROLLBACK
2025-03-25 21:20:39,039 [INFO] - BEGIN (implicit)
2025-03-25 21:20:39,040 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:20:39,040 [INFO] - [cached since 49.71s ago] ()
2025-03-25 21:20:39,052 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:20:39,052 [INFO] - ROLLBACK
2025-03-25 21:20:39,053 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:20:39,054 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:20:39] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:22:29,375 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:22:29] "[33mGET /logout HTTP/1.1[0m" 404 -
2025-03-25 21:22:32,096 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:22:32] "[33mGET /logout HTTP/1.1[0m" 404 -
2025-03-25 21:22:32,726 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:22:32] "[33mGET /logout HTTP/1.1[0m" 404 -
2025-03-25 21:25:41,908 [INFO] - BEGIN (implicit)
2025-03-25 21:25:41,910 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:41,910 [INFO] - [cached since 352.6s ago] ('2',)
2025-03-25 21:25:41,944 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:41,972 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:42,621 [INFO] - BEGIN (implicit)
2025-03-25 21:25:42,621 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:42,622 [INFO] - [cached since 353.4s ago] ('2',)
2025-03-25 21:25:42,624 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:42,652 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:42,842 [INFO] - BEGIN (implicit)
2025-03-25 21:25:42,843 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:42,843 [INFO] - [cached since 353.6s ago] ('2',)
2025-03-25 21:25:42,844 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:42,871 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:43,069 [INFO] - BEGIN (implicit)
2025-03-25 21:25:43,069 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:43,069 [INFO] - [cached since 353.8s ago] ('2',)
2025-03-25 21:25:43,075 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:43,104 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:43,264 [INFO] - BEGIN (implicit)
2025-03-25 21:25:43,264 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:43,265 [INFO] - [cached since 354s ago] ('2',)
2025-03-25 21:25:43,266 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:43,289 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:43,413 [INFO] - BEGIN (implicit)
2025-03-25 21:25:43,414 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:43,414 [INFO] - [cached since 354.1s ago] ('2',)
2025-03-25 21:25:43,414 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:43,440 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:15,184 [INFO] - BEGIN (implicit)
2025-03-25 21:26:15,192 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:26:15,192 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:26:15,195 [INFO] - [raw sql] ()
2025-03-25 21:26:15,195 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:26:15,195 [INFO] - [raw sql] ()
2025-03-25 21:26:15,195 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:26:15,195 [INFO] - [raw sql] ()
2025-03-25 21:26:15,195 [INFO] - COMMIT
2025-03-25 21:26:15,205 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:26:15,205 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:26:16,906 [INFO] - BEGIN (implicit)
2025-03-25 21:26:16,946 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:16,946 [INFO] - [generated in 0.00015s] ('2',)
2025-03-25 21:26:16,983 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:17,024 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:17,865 [INFO] - BEGIN (implicit)
2025-03-25 21:26:17,866 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:17,866 [INFO] - [cached since 0.9203s ago] ('2',)
2025-03-25 21:26:17,866 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:17] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:17,896 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:29,204 [INFO] - BEGIN (implicit)
2025-03-25 21:26:29,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:29,206 [INFO] - [cached since 12.26s ago] ('2',)
2025-03-25 21:26:29,211 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:29,247 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:29,677 [INFO] - BEGIN (implicit)
2025-03-25 21:26:29,677 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:29,677 [INFO] - [cached since 12.73s ago] ('2',)
2025-03-25 21:26:29,679 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:29,703 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:39,618 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:39] "GET / HTTP/1.1" 200 -
2025-03-25 21:26:41,201 [INFO] - BEGIN (implicit)
2025-03-25 21:26:41,201 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:41,201 [INFO] - [cached since 24.26s ago] ('2',)
2025-03-25 21:26:41,209 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:41] "GET /student/ HTTP/1.1" 200 -
2025-03-25 21:26:41,262 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:45,525 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:52,756 [INFO] - BEGIN (implicit)
2025-03-25 21:26:52,757 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:52,757 [INFO] - [cached since 35.81s ago] ('2',)
2025-03-25 21:26:52,762 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:52] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:52,807 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:53,805 [INFO] - BEGIN (implicit)
2025-03-25 21:26:53,806 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:53,806 [INFO] - [cached since 36.86s ago] ('2',)
2025-03-25 21:26:53,807 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:53] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:53,869 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:27:04,958 [INFO] - BEGIN (implicit)
2025-03-25 21:27:04,959 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:04,959 [INFO] - [cached since 48.01s ago] ('2',)
2025-03-25 21:27:04,964 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:04] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:27:04,992 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:04] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:27:06,037 [INFO] - BEGIN (implicit)
2025-03-25 21:27:06,038 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:06,038 [INFO] - [cached since 49.09s ago] ('2',)
2025-03-25 21:27:06,039 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:06] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:27:06,061 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:27:12,171 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:12,173 [INFO] - [cached since 55.23s ago] ('2',)
2025-03-25 21:27:12,175 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:27:12,176 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,183 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:27:12,183 [INFO] - [generated in 0.00037s] ('user2', 1, 0)
2025-03-25 21:27:12,188 [INFO] - ROLLBACK
2025-03-25 21:27:12,188 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,192 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:27:12,192 [INFO] - [generated in 0.00010s] ()
2025-03-25 21:27:12,429 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:27:12,429 [INFO] - ROLLBACK
2025-03-25 21:27:12,459 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:27:12,478 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:12] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:27:12,786 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,787 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:12,787 [INFO] - [cached since 55.84s ago] ('2',)
2025-03-25 21:27:12,787 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:27:12,788 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,788 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:27:12,788 [INFO] - [cached since 0.6056s ago] ('user2', 1, 0)
2025-03-25 21:27:12,788 [INFO] - ROLLBACK
2025-03-25 21:27:12,789 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,789 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:27:12,789 [INFO] - [cached since 0.5969s ago] ()
2025-03-25 21:27:12,794 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:27:12,794 [INFO] - ROLLBACK
2025-03-25 21:27:12,795 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:27:12,796 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:12] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:27:14,347 [INFO] - BEGIN (implicit)
2025-03-25 21:27:14,347 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:14,347 [INFO] - [cached since 57.4s ago] ('2',)
2025-03-25 21:27:14,350 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:27:14,350 [INFO] - BEGIN (implicit)
2025-03-25 21:27:14,351 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:27:14,351 [INFO] - [cached since 2.168s ago] ('user2', 1, 0)
2025-03-25 21:27:14,351 [INFO] - ROLLBACK
2025-03-25 21:27:14,352 [INFO] - BEGIN (implicit)
2025-03-25 21:27:14,352 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:27:14,352 [INFO] - [cached since 2.16s ago] ()
2025-03-25 21:27:14,357 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:27:14,357 [INFO] - ROLLBACK
2025-03-25 21:27:14,358 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:27:14,359 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:14] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:27:37,631 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:37] "[33mGET /admin/students/ HTTP/1.1[0m" 404 -
2025-03-25 21:27:53,521 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:53] "[33mGET /admin/students/ HTTP/1.1[0m" 404 -
2025-03-25 21:28:52,174 [INFO] - BEGIN (implicit)
2025-03-25 21:28:52,174 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:28:52,174 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,176 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:28:52,176 [INFO] - [raw sql] ()
2025-03-25 21:28:52,176 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:28:52,176 [INFO] - [raw sql] ()
2025-03-25 21:28:52,176 [INFO] - COMMIT
2025-03-25 21:28:52,188 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:28:52,188 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:28:54,810 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:28:54] "[33mGET /admin/students/ HTTP/1.1[0m" 404 -
2025-03-25 21:29:05,714 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,716 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:29:05,716 [INFO] - [generated in 0.00014s] ('2',)
2025-03-25 21:29:05,716 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:29:05,717 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,718 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:29:05,718 [INFO] - [generated in 0.00009s] ('user2', 1, 0)
2025-03-25 21:29:05,723 [INFO] - ROLLBACK
2025-03-25 21:29:05,724 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,725 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:29:05,725 [INFO] - [generated in 0.00008s] ()
2025-03-25 21:29:05,870 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:29:05,870 [INFO] - ROLLBACK
2025-03-25 21:29:05,891 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:29:05,907 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:29:05] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:29:05,960 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,960 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:29:05,960 [INFO] - [cached since 0.2444s ago] ('2',)
2025-03-25 21:29:05,960 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:29:05,961 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:29:05,961 [INFO] - [cached since 0.2427s ago] ('user2', 1, 0)
2025-03-25 21:29:05,961 [INFO] - ROLLBACK
2025-03-25 21:29:05,961 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,961 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:29:05,961 [INFO] - [cached since 0.2361s ago] ()
2025-03-25 21:29:05,963 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:29:05,963 [INFO] - ROLLBACK
2025-03-25 21:29:05,964 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:29:05,964 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:29:05] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:30:55,042 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:30:55] "[33mGET /admin/student HTTP/1.1[0m" 404 -
2025-03-25 21:30:59,234 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,235 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:30:59,235 [INFO] - [cached since 113.5s ago] ('2',)
2025-03-25 21:30:59,236 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:30:59,237 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:30:59,237 [INFO] - [cached since 113.5s ago] ('user2', 1, 0)
2025-03-25 21:30:59,238 [INFO] - ROLLBACK
2025-03-25 21:30:59,238 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,238 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:30:59,239 [INFO] - [cached since 113.5s ago] ()
2025-03-25 21:30:59,251 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:30:59,251 [INFO] - ROLLBACK
2025-03-25 21:30:59,252 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:30:59,253 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:30:59] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:30:59,685 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:30:59,686 [INFO] - [cached since 114s ago] ('2',)
2025-03-25 21:30:59,686 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:30:59,687 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,687 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:30:59,687 [INFO] - [cached since 114s ago] ('user2', 1, 0)
2025-03-25 21:30:59,687 [INFO] - ROLLBACK
2025-03-25 21:30:59,688 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,688 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:30:59,688 [INFO] - [cached since 114s ago] ()
2025-03-25 21:30:59,695 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:30:59,695 [INFO] - ROLLBACK
2025-03-25 21:30:59,696 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:30:59,697 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:30:59] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:31:16,912 [INFO] - BEGIN (implicit)
2025-03-25 21:31:16,913 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:31:16,913 [INFO] - [cached since 131.2s ago] ('2',)
2025-03-25 21:31:16,959 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:31:16,974 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:19,343 [INFO] - BEGIN (implicit)
2025-03-25 21:31:19,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:31:19,344 [INFO] - [cached since 133.6s ago] ('2',)
2025-03-25 21:31:19,345 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:19] "[32mGET /student/logout HTTP/1.1[0m" 302 -
2025-03-25 21:31:19,388 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:19] "GET /student/ HTTP/1.1" 200 -
2025-03-25 21:31:19,421 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:26,962 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:26] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:31:26,987 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:28,256 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:28] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:31:28,314 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:30,178 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:30] "GET /student/login HTTP/1.1" 200 -
2025-03-25 21:31:30,230 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:40,481 [INFO] - BEGIN (implicit)
2025-03-25 21:31:40,484 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:31:40,484 [INFO] - [generated in 0.00026s] ('user1', 1, 0)
2025-03-25 21:31:40,485 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:40] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:31:40,528 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:44,969 [INFO] - BEGIN (implicit)
2025-03-25 21:31:44,970 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:31:44,970 [INFO] - [cached since 4.486s ago] ('user1', 1, 0)
2025-03-25 21:31:44,971 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:44] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:31:45,001 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:50,997 [INFO] - BEGIN (implicit)
2025-03-25 21:31:50,999 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:31:50,999 [INFO] - [cached since 10.52s ago] ('user1', 1, 0)
2025-03-25 21:31:51,061 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:51] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:31:51,098 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:00,192 [INFO] - BEGIN (implicit)
2025-03-25 21:32:00,192 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:00,193 [INFO] - [cached since 19.71s ago] ('user1', 1, 0)
2025-03-25 21:32:00,194 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:00] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:00,224 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:04,243 [INFO] - BEGIN (implicit)
2025-03-25 21:32:04,244 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:04,244 [INFO] - [cached since 23.76s ago] ('user1', 1, 0)
2025-03-25 21:32:04,250 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:04] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:04,281 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:13,155 [INFO] - BEGIN (implicit)
2025-03-25 21:32:13,156 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:13,156 [INFO] - [cached since 32.67s ago] ('user2', 1, 0)
2025-03-25 21:32:13,157 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:13] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:13,186 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:28,916 [INFO] - BEGIN (implicit)
2025-03-25 21:32:28,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:28,918 [INFO] - [cached since 48.44s ago] ('user2', 1, 0)
2025-03-25 21:32:28,923 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:28] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:28,954 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:35,189 [INFO] - BEGIN (implicit)
2025-03-25 21:32:35,189 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:35,189 [INFO] - [cached since 54.71s ago] ('user2', 1, 0)
2025-03-25 21:32:35,191 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:35] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:35,220 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:39,552 [INFO] - BEGIN (implicit)
2025-03-25 21:32:39,553 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:39,554 [INFO] - [cached since 59.07s ago] ('user2', 1, 0)
2025-03-25 21:32:39,555 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:39] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:39,589 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:44,953 [INFO] - BEGIN (implicit)
2025-03-25 21:32:44,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:44,954 [INFO] - [cached since 64.47s ago] ('user2', 1, 0)
2025-03-25 21:32:44,955 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:44] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:44,985 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:56,053 [INFO] - BEGIN (implicit)
2025-03-25 21:32:56,054 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:56,054 [INFO] - [cached since 75.57s ago] ('user2', 1, 0)
2025-03-25 21:32:56,055 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:56] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:56,087 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:00,448 [INFO] - BEGIN (implicit)
2025-03-25 21:33:00,449 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:00,449 [INFO] - [cached since 79.97s ago] ('user2', 1, 0)
2025-03-25 21:33:00,450 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:00] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:00,480 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:05,399 [INFO] - BEGIN (implicit)
2025-03-25 21:33:05,400 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:05,400 [INFO] - [cached since 84.92s ago] ('user2', 1, 0)
2025-03-25 21:33:05,401 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:05] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:05,433 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:09,916 [INFO] - BEGIN (implicit)
2025-03-25 21:33:09,917 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:09,917 [INFO] - [cached since 89.44s ago] ('user2', 1, 0)
2025-03-25 21:33:09,922 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:09] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:09,951 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:14,846 [INFO] - BEGIN (implicit)
2025-03-25 21:33:14,847 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:14,847 [INFO] - [cached since 94.37s ago] ('user2', 1, 0)
2025-03-25 21:33:14,849 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:14] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:14,881 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:23,608 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:23] "GET / HTTP/1.1" 200 -
2025-03-25 21:33:26,340 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:26] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:33:26,398 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:30,676 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:30] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:33:30,712 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:44,170 [INFO] - BEGIN (implicit)
2025-03-25 21:33:44,172 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:44,172 [INFO] - [cached since 278.5s ago] ('user1', 1, 0)
2025-03-25 21:33:44,288 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:44] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:33:44,293 [INFO] - BEGIN (implicit)
2025-03-25 21:33:44,294 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:44,294 [INFO] - [cached since 278.6s ago] ('1',)
2025-03-25 21:33:44,294 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:44] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:33:44,360 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:52,747 [INFO] - BEGIN (implicit)
2025-03-25 21:33:52,749 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:52,749 [INFO] - [cached since 287s ago] ('1',)
2025-03-25 21:33:52,749 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:33:52,750 [INFO] - BEGIN (implicit)
2025-03-25 21:33:52,750 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:52,750 [INFO] - [cached since 287s ago] ('user1', 1, 0)
2025-03-25 21:33:52,753 [INFO] - ROLLBACK
2025-03-25 21:33:52,753 [INFO] - BEGIN (implicit)
2025-03-25 21:33:52,754 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:33:52,754 [INFO] - [cached since 287s ago] ()
2025-03-25 21:33:52,902 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:33:52,902 [INFO] - ROLLBACK
2025-03-25 21:33:52,902 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:33:52,904 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:52] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:33:54,688 [INFO] - BEGIN (implicit)
2025-03-25 21:33:54,688 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:54,688 [INFO] - [cached since 289s ago] ('1',)
2025-03-25 21:33:54,689 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:33:54,690 [INFO] - BEGIN (implicit)
2025-03-25 21:33:54,690 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:54,690 [INFO] - [cached since 289s ago] ('user1', 1, 0)
2025-03-25 21:33:54,691 [INFO] - ROLLBACK
2025-03-25 21:33:54,691 [INFO] - BEGIN (implicit)
2025-03-25 21:33:54,692 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:33:54,692 [INFO] - [cached since 289s ago] ()
2025-03-25 21:33:54,698 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:33:54,698 [INFO] - ROLLBACK
2025-03-25 21:33:54,700 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:33:54,701 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:54] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:33:58,567 [INFO] - BEGIN (implicit)
2025-03-25 21:33:58,567 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:58,567 [INFO] - [cached since 292.9s ago] ('1',)
2025-03-25 21:33:58,568 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:33:58,568 [INFO] - BEGIN (implicit)
2025-03-25 21:33:58,569 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:58,569 [INFO] - [cached since 292.9s ago] ('user1', 1, 0)
2025-03-25 21:33:58,569 [INFO] - ROLLBACK
2025-03-25 21:33:58,570 [INFO] - BEGIN (implicit)
2025-03-25 21:33:58,570 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:33:58,570 [INFO] - [cached since 292.9s ago] ()
2025-03-25 21:33:58,574 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:33:58,574 [INFO] - ROLLBACK
2025-03-25 21:33:58,575 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:33:58,576 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:58] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:35:09,337 [INFO] - BEGIN (implicit)
2025-03-25 21:35:09,340 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:35:09,340 [INFO] - [raw sql] ()
2025-03-25 21:35:09,357 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:35:09,357 [INFO] - [raw sql] ()
2025-03-25 21:35:09,357 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:35:09,357 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - COMMIT
2025-03-25 21:35:09,369 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:35:09,370 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:35:13,704 [INFO] - BEGIN (implicit)
2025-03-25 21:35:13,706 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:13,706 [INFO] - [generated in 0.00015s] ('1',)
2025-03-25 21:35:13,709 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:13] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:13,740 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:15,296 [INFO] - BEGIN (implicit)
2025-03-25 21:35:15,296 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:15,296 [INFO] - [cached since 1.591s ago] ('1',)
2025-03-25 21:35:15,300 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:15] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:15,357 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:15,954 [INFO] - BEGIN (implicit)
2025-03-25 21:35:15,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:15,954 [INFO] - [cached since 2.249s ago] ('1',)
2025-03-25 21:35:15,956 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:15] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:16,004 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:16,372 [INFO] - BEGIN (implicit)
2025-03-25 21:35:16,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:16,373 [INFO] - [cached since 2.667s ago] ('1',)
2025-03-25 21:35:16,374 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:16,430 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:16,688 [INFO] - BEGIN (implicit)
2025-03-25 21:35:16,689 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:16,689 [INFO] - [cached since 2.983s ago] ('1',)
2025-03-25 21:35:16,690 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:16,750 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:18,247 [INFO] - BEGIN (implicit)
2025-03-25 21:35:18,247 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:18,247 [INFO] - [cached since 4.542s ago] ('1',)
2025-03-25 21:35:18,249 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:18] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:35:18,252 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:18] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:18,310 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:20,564 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:20] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:35:20,606 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:32,550 [INFO] - BEGIN (implicit)
2025-03-25 21:35:32,552 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:35:32,552 [INFO] - [generated in 0.00025s] ('user2', 1, 0)
2025-03-25 21:35:32,629 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:32] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:35:32,635 [INFO] - BEGIN (implicit)
2025-03-25 21:35:32,636 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:32,636 [INFO] - [cached since 18.93s ago] ('2',)
2025-03-25 21:35:32,636 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:32,708 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:40,442 [INFO] - BEGIN (implicit)
2025-03-25 21:35:40,442 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:40,442 [INFO] - [cached since 26.74s ago] ('2',)
2025-03-25 21:35:40,442 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:35:40,443 [INFO] - BEGIN (implicit)
2025-03-25 21:35:40,443 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:35:40,443 [INFO] - [cached since 7.891s ago] ('user2', 1, 0)
2025-03-25 21:35:40,446 [INFO] - ROLLBACK
2025-03-25 21:35:40,447 [INFO] - BEGIN (implicit)
2025-03-25 21:35:40,451 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:35:40,451 [INFO] - [generated in 0.00017s] ()
2025-03-25 21:35:40,589 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:35:40,589 [INFO] - ROLLBACK
2025-03-25 21:35:40,609 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:35:40,626 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:42,220 [INFO] - BEGIN (implicit)
2025-03-25 21:35:42,221 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:42,221 [INFO] - [cached since 28.52s ago] ('2',)
2025-03-25 21:35:42,221 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:35:42,222 [INFO] - BEGIN (implicit)
2025-03-25 21:35:42,223 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:35:42,223 [INFO] - [cached since 9.671s ago] ('user2', 1, 0)
2025-03-25 21:35:42,223 [INFO] - ROLLBACK
2025-03-25 21:35:42,224 [INFO] - BEGIN (implicit)
2025-03-25 21:35:42,224 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:35:42,224 [INFO] - [cached since 1.773s ago] ()
2025-03-25 21:35:42,228 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:35:42,228 [INFO] - ROLLBACK
2025-03-25 21:35:42,234 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:35:42,273 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:36:48,631 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:36:48] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-25 21:42:44,454 [INFO] - BEGIN (implicit)
2025-03-25 21:42:44,476 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:44,476 [INFO] - [cached since 450.8s ago] ('2',)
2025-03-25 21:42:44,520 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:42:44,520 [INFO] - BEGIN (implicit)
2025-03-25 21:42:44,521 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:42:44,521 [INFO] - [cached since 431.9s ago] ('user2', 1, 0)
2025-03-25 21:42:44,540 [INFO] - ROLLBACK
2025-03-25 21:42:44,540 [INFO] - BEGIN (implicit)
2025-03-25 21:42:44,540 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:42:44,540 [INFO] - [cached since 424.1s ago] ()
2025-03-25 21:42:44,765 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:42:44,765 [INFO] - ROLLBACK
2025-03-25 21:42:44,780 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:44] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:42:44,812 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:44] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:42:46,510 [INFO] - BEGIN (implicit)
2025-03-25 21:42:46,511 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:46,511 [INFO] - [cached since 452.8s ago] ('2',)
2025-03-25 21:42:46,512 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:46] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:42:46,575 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:42:47,376 [INFO] - BEGIN (implicit)
2025-03-25 21:42:47,376 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:47,376 [INFO] - [cached since 453.7s ago] ('2',)
2025-03-25 21:42:47,377 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:47] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:42:47,438 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:42:50,284 [INFO] - BEGIN (implicit)
2025-03-25 21:42:50,285 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:50,285 [INFO] - [cached since 456.6s ago] ('2',)
2025-03-25 21:42:50,286 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:42:50,315 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:42:55,599 [INFO] - BEGIN (implicit)
2025-03-25 21:42:55,600 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:42:55,600 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - COMMIT
2025-03-25 21:42:55,616 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:42:55,616 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:42:59,373 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:59] "GET / HTTP/1.1" 200 -
2025-03-25 21:43:01,371 [INFO] - BEGIN (implicit)
2025-03-25 21:43:01,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:43:01,373 [INFO] - [generated in 0.00011s] ('2',)
2025-03-25 21:43:01,377 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:01] "GET /student/ HTTP/1.1" 200 -
2025-03-25 21:43:01,428 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:43:09,075 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:09] "[33mGET /student/admin HTTP/1.1[0m" 404 -
2025-03-25 21:43:16,910 [INFO] - BEGIN (implicit)
2025-03-25 21:43:16,910 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:43:16,910 [INFO] - [cached since 15.54s ago] ('2',)
2025-03-25 21:43:16,920 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:43:16,955 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:44:11,801 [INFO] - BEGIN (implicit)
2025-03-25 21:44:11,801 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:44:11,801 [INFO] - [cached since 70.43s ago] ('2',)
2025-03-25 21:44:11,818 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:44:11,818 [INFO] - BEGIN (implicit)
2025-03-25 21:44:11,820 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:44:11,820 [INFO] - [generated in 0.00013s] ('user2', 1, 0)
2025-03-25 21:44:11,821 [INFO] - ROLLBACK
2025-03-25 21:44:11,821 [INFO] - BEGIN (implicit)
2025-03-25 21:44:11,823 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:44:11,823 [INFO] - [generated in 0.00009s] ()
2025-03-25 21:44:12,011 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:44:12,011 [INFO] - ROLLBACK
2025-03-25 21:44:12,041 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:12] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:44:12,055 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:44:13,123 [INFO] - BEGIN (implicit)
2025-03-25 21:44:13,124 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:44:13,124 [INFO] - [cached since 71.75s ago] ('2',)
2025-03-25 21:44:13,125 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:44:13,125 [INFO] - BEGIN (implicit)
2025-03-25 21:44:13,126 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:44:13,126 [INFO] - [cached since 1.306s ago] ('user2', 1, 0)
2025-03-25 21:44:13,126 [INFO] - ROLLBACK
2025-03-25 21:44:13,127 [INFO] - BEGIN (implicit)
2025-03-25 21:44:13,127 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:44:13,127 [INFO] - [cached since 1.304s ago] ()
2025-03-25 21:44:13,130 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:44:13,130 [INFO] - ROLLBACK
2025-03-25 21:44:13,136 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:13] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:44:13,180 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:44:42,744 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:42] "[33mGET /admin/student/3003 HTTP/1.1[0m" 404 -
2025-03-25 21:45:02,790 [INFO] - BEGIN (implicit)
2025-03-25 21:45:02,793 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:02,793 [INFO] - [cached since 121.4s ago] ('2',)
2025-03-25 21:45:02,798 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:45:02,810 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:07,825 [INFO] - BEGIN (implicit)
2025-03-25 21:45:07,826 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:07,826 [INFO] - [cached since 126.5s ago] ('2',)
2025-03-25 21:45:07,826 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:45:07,827 [INFO] - BEGIN (implicit)
2025-03-25 21:45:07,827 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:45:07,828 [INFO] - [cached since 56.01s ago] ('user2', 1, 0)
2025-03-25 21:45:07,838 [INFO] - ROLLBACK
2025-03-25 21:45:07,839 [INFO] - BEGIN (implicit)
2025-03-25 21:45:07,840 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:45:07,840 [INFO] - [cached since 56.02s ago] ()
2025-03-25 21:45:07,853 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:45:07,853 [INFO] - ROLLBACK
2025-03-25 21:45:07,858 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:07] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:45:07,874 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:34,716 [INFO] - BEGIN (implicit)
2025-03-25 21:45:34,717 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:34,717 [INFO] - [cached since 153.3s ago] ('2',)
2025-03-25 21:45:34,718 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:34] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:45:34,721 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:34] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:45:34,784 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:34] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:36,810 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:36] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:45:36,848 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:56,750 [INFO] - BEGIN (implicit)
2025-03-25 21:45:56,752 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:45:56,752 [INFO] - [cached since 104.9s ago] ('user1', 1, 0)
2025-03-25 21:45:56,866 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:56] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:45:56,872 [INFO] - BEGIN (implicit)
2025-03-25 21:45:56,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:56,872 [INFO] - [cached since 175.5s ago] ('1',)
2025-03-25 21:45:56,873 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:45:56,941 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:46:06,916 [INFO] - BEGIN (implicit)
2025-03-25 21:46:06,917 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:46:06,917 [INFO] - [cached since 185.5s ago] ('1',)
2025-03-25 21:46:06,920 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:46:06,923 [INFO] - BEGIN (implicit)
2025-03-25 21:46:06,924 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:46:06,924 [INFO] - [cached since 115.1s ago] ('user1', 1, 0)
2025-03-25 21:46:06,926 [INFO] - ROLLBACK
2025-03-25 21:46:06,928 [INFO] - BEGIN (implicit)
2025-03-25 21:46:06,929 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:46:06,929 [INFO] - [cached since 115.1s ago] ()
2025-03-25 21:46:06,943 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:46:06,943 [INFO] - ROLLBACK
2025-03-25 21:46:06,948 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:46:06,965 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:46:08,895 [INFO] - BEGIN (implicit)
2025-03-25 21:46:08,895 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:46:08,895 [INFO] - [cached since 187.5s ago] ('1',)
2025-03-25 21:46:08,896 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:46:08,896 [INFO] - BEGIN (implicit)
2025-03-25 21:46:08,897 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:46:08,897 [INFO] - [cached since 117.1s ago] ('user1', 1, 0)
2025-03-25 21:46:08,897 [INFO] - ROLLBACK
2025-03-25 21:46:08,897 [INFO] - BEGIN (implicit)
2025-03-25 21:46:08,898 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:46:08,898 [INFO] - [cached since 117.1s ago] ()
2025-03-25 21:46:08,901 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:46:08,902 [INFO] - ROLLBACK
2025-03-25 21:46:08,908 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:08] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:46:08,942 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:40,202 [INFO] - BEGIN (implicit)
2025-03-25 21:49:40,239 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:40,239 [INFO] - [cached since 398.9s ago] ('1',)
2025-03-25 21:49:40,240 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:40,241 [INFO] - BEGIN (implicit)
2025-03-25 21:49:40,241 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:40,241 [INFO] - [cached since 328.4s ago] ('user1', 1, 0)
2025-03-25 21:49:40,242 [INFO] - ROLLBACK
2025-03-25 21:49:40,243 [INFO] - BEGIN (implicit)
2025-03-25 21:49:40,243 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:40,243 [INFO] - [cached since 328.4s ago] ()
2025-03-25 21:49:40,359 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:40,359 [INFO] - ROLLBACK
2025-03-25 21:49:40,364 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:40,424 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:40] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:49:41,105 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,105 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:41,105 [INFO] - [cached since 399.7s ago] ('1',)
2025-03-25 21:49:41,106 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:41,106 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,106 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:41,107 [INFO] - [cached since 329.3s ago] ('user1', 1, 0)
2025-03-25 21:49:41,107 [INFO] - ROLLBACK
2025-03-25 21:49:41,107 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,107 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:41,107 [INFO] - [cached since 329.3s ago] ()
2025-03-25 21:49:41,111 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:41,112 [INFO] - ROLLBACK
2025-03-25 21:49:41,118 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:41,135 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:41,647 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:41,647 [INFO] - [cached since 400.3s ago] ('1',)
2025-03-25 21:49:41,648 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:41,648 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,649 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:41,649 [INFO] - [cached since 329.8s ago] ('user1', 1, 0)
2025-03-25 21:49:41,649 [INFO] - ROLLBACK
2025-03-25 21:49:41,649 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,649 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:41,649 [INFO] - [cached since 329.8s ago] ()
2025-03-25 21:49:41,652 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:41,653 [INFO] - ROLLBACK
2025-03-25 21:49:41,660 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:41,686 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:41,944 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,944 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:41,944 [INFO] - [cached since 400.6s ago] ('1',)
2025-03-25 21:49:41,945 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:41,945 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,945 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:41,945 [INFO] - [cached since 330.1s ago] ('user1', 1, 0)
2025-03-25 21:49:41,946 [INFO] - ROLLBACK
2025-03-25 21:49:41,946 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,946 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:41,946 [INFO] - [cached since 330.1s ago] ()
2025-03-25 21:49:41,948 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:41,948 [INFO] - ROLLBACK
2025-03-25 21:49:41,952 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:41,977 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:42,152 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,153 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:42,153 [INFO] - [cached since 400.8s ago] ('1',)
2025-03-25 21:49:42,153 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:42,154 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,154 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:42,154 [INFO] - [cached since 330.3s ago] ('user1', 1, 0)
2025-03-25 21:49:42,154 [INFO] - ROLLBACK
2025-03-25 21:49:42,155 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,155 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:42,155 [INFO] - [cached since 330.3s ago] ()
2025-03-25 21:49:42,159 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:42,159 [INFO] - ROLLBACK
2025-03-25 21:49:42,166 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:42,197 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:42,335 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,335 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:42,336 [INFO] - [cached since 401s ago] ('1',)
2025-03-25 21:49:42,336 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:42,336 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,337 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:42,337 [INFO] - [cached since 330.5s ago] ('user1', 1, 0)
2025-03-25 21:49:42,337 [INFO] - ROLLBACK
2025-03-25 21:49:42,337 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,338 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:42,338 [INFO] - [cached since 330.5s ago] ()
2025-03-25 21:49:42,341 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:42,341 [INFO] - ROLLBACK
2025-03-25 21:49:42,347 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:42,380 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:49,796 [INFO] - BEGIN (implicit)
2025-03-25 21:49:49,796 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:49:49,796 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - COMMIT
2025-03-25 21:49:49,807 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:49:49,807 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:49:54,347 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:54] "GET / HTTP/1.1" 200 -
2025-03-25 21:49:57,512 [INFO] - BEGIN (implicit)
2025-03-25 21:49:57,513 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:57,513 [INFO] - [generated in 0.00012s] ('1',)
2025-03-25 21:49:57,523 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:57] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:49:57,536 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:58,513 [INFO] - BEGIN (implicit)
2025-03-25 21:49:58,514 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:58,514 [INFO] - [cached since 1.001s ago] ('1',)
2025-03-25 21:49:58,517 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:58] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:49:58,578 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:02,020 [INFO] - BEGIN (implicit)
2025-03-25 21:50:02,020 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:02,020 [INFO] - [cached since 4.507s ago] ('1',)
2025-03-25 21:50:02,021 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:50:02,024 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:50:02,083 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:02,535 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:50:02,568 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:10,808 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:10] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:50:10,839 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:18,753 [INFO] - BEGIN (implicit)
2025-03-25 21:50:18,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:50:18,755 [INFO] - [generated in 0.00027s] ('user1', 1, 0)
2025-03-25 21:50:18,835 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:18] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:50:18,841 [INFO] - BEGIN (implicit)
2025-03-25 21:50:18,841 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:18,841 [INFO] - [cached since 21.33s ago] ('1',)
2025-03-25 21:50:18,842 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:18] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:50:18,908 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:26,235 [INFO] - BEGIN (implicit)
2025-03-25 21:50:26,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:26,236 [INFO] - [cached since 28.72s ago] ('1',)
2025-03-25 21:50:26,236 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:50:26,237 [INFO] - BEGIN (implicit)
2025-03-25 21:50:26,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:50:26,238 [INFO] - [cached since 7.483s ago] ('user1', 1, 0)
2025-03-25 21:50:26,239 [INFO] - ROLLBACK
2025-03-25 21:50:26,240 [INFO] - BEGIN (implicit)
2025-03-25 21:50:26,281 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:50:26,282 [INFO] - [generated in 0.00030s] ()
2025-03-25 21:50:26,404 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:50:26,404 [INFO] - ROLLBACK
2025-03-25 21:50:26,429 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:26] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:50:26,450 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:28,250 [INFO] - BEGIN (implicit)
2025-03-25 21:50:28,251 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:28,251 [INFO] - [cached since 30.74s ago] ('1',)
2025-03-25 21:50:28,251 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:50:28,252 [INFO] - BEGIN (implicit)
2025-03-25 21:50:28,252 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:50:28,252 [INFO] - [cached since 9.497s ago] ('user1', 1, 0)
2025-03-25 21:50:28,255 [INFO] - ROLLBACK
2025-03-25 21:50:28,255 [INFO] - BEGIN (implicit)
2025-03-25 21:50:28,256 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:50:28,256 [INFO] - [cached since 1.974s ago] ()
2025-03-25 21:50:28,259 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:50:28,259 [INFO] - ROLLBACK
2025-03-25 21:50:28,265 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:28] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:50:28,298 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:54:20,389 [INFO] - BEGIN (implicit)
2025-03-25 21:54:20,390 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:54:20,390 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:54:20,403 [INFO] - [raw sql] ()
2025-03-25 21:54:20,403 [INFO] - COMMIT
2025-03-25 21:54:20,415 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:54:20,415 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:54:25,922 [INFO] - BEGIN (implicit)
2025-03-25 21:54:25,924 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:54:25,924 [INFO] - [generated in 0.00016s] ('1',)
2025-03-25 21:54:25,972 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:25] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:54:26,006 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:26] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:54:28,894 [INFO] - BEGIN (implicit)
2025-03-25 21:54:28,895 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:54:28,895 [INFO] - [cached since 2.971s ago] ('1',)
2025-03-25 21:54:28,900 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:28] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:54:28,906 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:28] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:54:28,966 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:54:30,425 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:30] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:54:30,463 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:46,522 [INFO] - BEGIN (implicit)
2025-03-25 21:57:46,522 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:57:46,522 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,526 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:57:46,526 [INFO] - [raw sql] ()
2025-03-25 21:57:46,526 [INFO] - COMMIT
2025-03-25 21:57:46,539 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:57:46,539 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:57:51,422 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:51] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:51,464 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:51] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:57:54,995 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:54] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:55,059 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,058 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:56,117 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,463 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:56,524 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,792 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:56,857 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,986 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:57,049 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:08,853 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:08] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:58:08,898 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:30,125 [INFO] - BEGIN (implicit)
2025-03-25 21:58:30,127 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:58:30,127 [INFO] - [generated in 0.00013s] ('user1', 1, 0)
2025-03-25 21:58:30,214 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:30] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:58:30,220 [INFO] - BEGIN (implicit)
2025-03-25 21:58:30,221 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:58:30,221 [INFO] - [generated in 0.00019s] ('1',)
2025-03-25 21:58:30,223 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:30] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:58:30,290 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:35,595 [INFO] - BEGIN (implicit)
2025-03-25 21:58:35,597 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:58:35,597 [INFO] - [cached since 5.376s ago] ('1',)
2025-03-25 21:58:35,600 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:58:35,604 [INFO] - BEGIN (implicit)
2025-03-25 21:58:35,606 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:58:35,606 [INFO] - [cached since 5.479s ago] ('user1', 1, 0)
2025-03-25 21:58:35,607 [INFO] - ROLLBACK
2025-03-25 21:58:35,608 [INFO] - BEGIN (implicit)
2025-03-25 21:58:35,611 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:58:35,611 [INFO] - [generated in 0.00009s] ()
2025-03-25 21:58:35,856 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:58:35,856 [INFO] - ROLLBACK
2025-03-25 21:58:35,879 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:35] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:58:35,902 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:37,250 [INFO] - BEGIN (implicit)
2025-03-25 21:58:37,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:58:37,250 [INFO] - [cached since 7.029s ago] ('1',)
2025-03-25 21:58:37,250 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:58:37,251 [INFO] - BEGIN (implicit)
2025-03-25 21:58:37,252 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:58:37,252 [INFO] - [cached since 7.125s ago] ('user1', 1, 0)
2025-03-25 21:58:37,254 [INFO] - ROLLBACK
2025-03-25 21:58:37,255 [INFO] - BEGIN (implicit)
2025-03-25 21:58:37,255 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:58:37,255 [INFO] - [cached since 1.645s ago] ()
2025-03-25 21:58:37,259 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:58:37,259 [INFO] - ROLLBACK
2025-03-25 21:58:37,264 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:37] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:58:37,298 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:42,678 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:42] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-25 21:59:23,733 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:59:23] "[33mGET /admin/student/3000 HTTP/1.1[0m" 404 -
2025-03-25 22:01:15,890 [INFO] - BEGIN (implicit)
2025-03-25 22:01:15,900 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:01:15,901 [INFO] - [cached since 165.7s ago] ('1',)
2025-03-25 22:01:15,904 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:01:15,905 [INFO] - BEGIN (implicit)
2025-03-25 22:01:15,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:01:15,905 [INFO] - [cached since 165.8s ago] ('user1', 1, 0)
2025-03-25 22:01:15,905 [INFO] - ROLLBACK
2025-03-25 22:01:15,906 [INFO] - BEGIN (implicit)
2025-03-25 22:01:15,906 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:01:15,906 [INFO] - [cached since 160.3s ago] ()
2025-03-25 22:01:16,124 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:01:16,124 [INFO] - ROLLBACK
2025-03-25 22:01:16,136 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:01:16] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 22:01:16,215 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:01:16] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 22:46:16,408 [INFO] - BEGIN (implicit)
2025-03-25 22:46:16,417 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:46:16,417 [INFO] - [raw sql] ()
2025-03-25 22:46:16,436 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:46:16,436 [INFO] - [raw sql] ()
2025-03-25 22:46:16,436 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - COMMIT
2025-03-25 22:46:16,447 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:46:16,447 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:46:22,037 [INFO] - BEGIN (implicit)
2025-03-25 22:46:22,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:22,039 [INFO] - [generated in 0.00014s] ('1',)
2025-03-25 22:46:22,043 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:22,049 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:22] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:46:23,728 [INFO] - BEGIN (implicit)
2025-03-25 22:46:23,730 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:23,730 [INFO] - [cached since 1.691s ago] ('1',)
2025-03-25 22:46:23,748 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:23,750 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:23] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:46:26,100 [INFO] - BEGIN (implicit)
2025-03-25 22:46:26,101 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:26,101 [INFO] - [cached since 4.063s ago] ('1',)
2025-03-25 22:46:26,103 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:26,106 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:26] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:46:26,455 [INFO] - BEGIN (implicit)
2025-03-25 22:46:26,455 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:26,455 [INFO] - [cached since 4.417s ago] ('1',)
2025-03-25 22:46:26,456 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:26,458 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:26] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:00,293 [INFO] - BEGIN (implicit)
2025-03-25 22:47:00,295 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:00,295 [INFO] - [cached since 38.26s ago] ('1',)
2025-03-25 22:47:00,327 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:00,329 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:00] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:00,930 [INFO] - BEGIN (implicit)
2025-03-25 22:47:00,930 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:00,931 [INFO] - [cached since 38.89s ago] ('1',)
2025-03-25 22:47:00,932 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:00,934 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:00] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:01,300 [INFO] - BEGIN (implicit)
2025-03-25 22:47:01,300 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:01,301 [INFO] - [cached since 39.26s ago] ('1',)
2025-03-25 22:47:01,301 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:01,304 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:01] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:01,587 [INFO] - BEGIN (implicit)
2025-03-25 22:47:01,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:01,588 [INFO] - [cached since 39.55s ago] ('1',)
2025-03-25 22:47:01,589 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:01,592 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:01] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:04,453 [INFO] - BEGIN (implicit)
2025-03-25 22:47:04,454 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:04,454 [INFO] - [cached since 42.42s ago] ('1',)
2025-03-25 22:47:04,456 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:04,458 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:04] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:04,600 [INFO] - BEGIN (implicit)
2025-03-25 22:47:04,600 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:04,600 [INFO] - [cached since 42.56s ago] ('1',)
2025-03-25 22:47:04,601 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:04,603 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:04] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:48:49,514 [INFO] - BEGIN (implicit)
2025-03-25 22:48:49,514 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:48:49,514 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - COMMIT
2025-03-25 22:48:49,537 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:48:49,537 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:48:52,352 [INFO] - BEGIN (implicit)
2025-03-25 22:48:52,389 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:48:52,389 [INFO] - [generated in 0.00015s] ('1',)
2025-03-25 22:48:52,392 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:48:52] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:48:52,423 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:48:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:49:02,719 [INFO] - BEGIN (implicit)
2025-03-25 22:49:02,720 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:02,720 [INFO] - [cached since 10.33s ago] ('1',)
2025-03-25 22:49:02,751 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:49:02,780 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:02] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 22:49:12,173 [INFO] - BEGIN (implicit)
2025-03-25 22:49:12,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:12,173 [INFO] - [cached since 19.78s ago] ('1',)
2025-03-25 22:49:12,178 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:12] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:49:12,236 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:49:20,114 [INFO] - BEGIN (implicit)
2025-03-25 22:49:20,115 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:20,115 [INFO] - [cached since 27.73s ago] ('1',)
2025-03-25 22:49:20,119 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:20,121 [INFO] - BEGIN (implicit)
2025-03-25 22:49:20,124 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:20,124 [INFO] - [generated in 0.00027s] ('user1', 1, 0)
2025-03-25 22:49:20,128 [INFO] - ROLLBACK
2025-03-25 22:49:20,129 [INFO] - BEGIN (implicit)
2025-03-25 22:49:20,132 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:20,132 [INFO] - [generated in 0.00013s] ()
2025-03-25 22:49:20,379 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:20,379 [INFO] - ROLLBACK
2025-03-25 22:49:20,403 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:20,423 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:20] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:21,421 [INFO] - BEGIN (implicit)
2025-03-25 22:49:21,421 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:21,421 [INFO] - [cached since 29.03s ago] ('1',)
2025-03-25 22:49:21,422 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:21,423 [INFO] - BEGIN (implicit)
2025-03-25 22:49:21,423 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:21,423 [INFO] - [cached since 1.3s ago] ('user1', 1, 0)
2025-03-25 22:49:21,423 [INFO] - ROLLBACK
2025-03-25 22:49:21,424 [INFO] - BEGIN (implicit)
2025-03-25 22:49:21,424 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:21,424 [INFO] - [cached since 1.292s ago] ()
2025-03-25 22:49:21,428 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:21,428 [INFO] - ROLLBACK
2025-03-25 22:49:21,429 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:21,431 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:21] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:50,342 [INFO] - BEGIN (implicit)
2025-03-25 22:49:50,342 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:49:50,342 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - COMMIT
2025-03-25 22:49:50,364 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:49:50,364 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:49:51,712 [INFO] - BEGIN (implicit)
2025-03-25 22:49:51,713 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:51,713 [INFO] - [generated in 0.00010s] ('1',)
2025-03-25 22:49:51,714 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:51,714 [INFO] - BEGIN (implicit)
2025-03-25 22:49:51,715 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:51,715 [INFO] - [generated in 0.00011s] ('user1', 1, 0)
2025-03-25 22:49:51,752 [INFO] - ROLLBACK
2025-03-25 22:49:51,752 [INFO] - BEGIN (implicit)
2025-03-25 22:49:51,754 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:51,754 [INFO] - [generated in 0.00009s] ()
2025-03-25 22:49:51,861 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:51,861 [INFO] - ROLLBACK
2025-03-25 22:49:51,864 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:51,868 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:51] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:52,689 [INFO] - BEGIN (implicit)
2025-03-25 22:49:52,689 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:52,689 [INFO] - [cached since 0.9762s ago] ('1',)
2025-03-25 22:49:52,691 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:52,694 [INFO] - BEGIN (implicit)
2025-03-25 22:49:52,694 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:52,694 [INFO] - [cached since 0.9795s ago] ('user1', 1, 0)
2025-03-25 22:49:52,695 [INFO] - ROLLBACK
2025-03-25 22:49:52,696 [INFO] - BEGIN (implicit)
2025-03-25 22:49:52,696 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:52,696 [INFO] - [cached since 0.942s ago] ()
2025-03-25 22:49:52,701 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:52,701 [INFO] - ROLLBACK
2025-03-25 22:49:52,702 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:52,703 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:52] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:55,873 [INFO] - BEGIN (implicit)
2025-03-25 22:49:55,873 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:55,873 [INFO] - [cached since 4.16s ago] ('1',)
2025-03-25 22:49:55,934 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:49:55,978 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:49:59,254 [INFO] - BEGIN (implicit)
2025-03-25 22:49:59,255 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:59,255 [INFO] - [cached since 7.542s ago] ('1',)
2025-03-25 22:49:59,256 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:59,256 [INFO] - BEGIN (implicit)
2025-03-25 22:49:59,256 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:59,257 [INFO] - [cached since 7.542s ago] ('user1', 1, 0)
2025-03-25 22:49:59,257 [INFO] - ROLLBACK
2025-03-25 22:49:59,258 [INFO] - BEGIN (implicit)
2025-03-25 22:49:59,258 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:59,258 [INFO] - [cached since 7.504s ago] ()
2025-03-25 22:49:59,271 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:59,271 [INFO] - ROLLBACK
2025-03-25 22:49:59,271 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:59,272 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:59] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:00,379 [INFO] - BEGIN (implicit)
2025-03-25 22:50:00,379 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:00,379 [INFO] - [cached since 8.666s ago] ('1',)
2025-03-25 22:50:00,380 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:00,381 [INFO] - BEGIN (implicit)
2025-03-25 22:50:00,381 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:00,381 [INFO] - [cached since 8.666s ago] ('user1', 1, 0)
2025-03-25 22:50:00,381 [INFO] - ROLLBACK
2025-03-25 22:50:00,382 [INFO] - BEGIN (implicit)
2025-03-25 22:50:00,382 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:00,382 [INFO] - [cached since 8.628s ago] ()
2025-03-25 22:50:00,386 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:00,386 [INFO] - ROLLBACK
2025-03-25 22:50:00,387 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:00,388 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:00] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:25,916 [INFO] - BEGIN (implicit)
2025-03-25 22:50:25,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:25,918 [INFO] - [cached since 34.21s ago] ('1',)
2025-03-25 22:50:25,920 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:25,921 [INFO] - BEGIN (implicit)
2025-03-25 22:50:25,921 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:25,921 [INFO] - [cached since 34.21s ago] ('user1', 1, 0)
2025-03-25 22:50:25,921 [INFO] - ROLLBACK
2025-03-25 22:50:25,921 [INFO] - BEGIN (implicit)
2025-03-25 22:50:25,921 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:25,922 [INFO] - [cached since 34.17s ago] ()
2025-03-25 22:50:25,934 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:25,934 [INFO] - ROLLBACK
2025-03-25 22:50:25,934 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:25,936 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:25] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:27,427 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,427 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:27,428 [INFO] - [cached since 35.71s ago] ('1',)
2025-03-25 22:50:27,428 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:27,429 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,429 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:27,429 [INFO] - [cached since 35.71s ago] ('user1', 1, 0)
2025-03-25 22:50:27,430 [INFO] - ROLLBACK
2025-03-25 22:50:27,430 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,430 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:27,430 [INFO] - [cached since 35.68s ago] ()
2025-03-25 22:50:27,434 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:27,434 [INFO] - ROLLBACK
2025-03-25 22:50:27,435 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:27,436 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:27] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:27,724 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,725 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:27,725 [INFO] - [cached since 36.01s ago] ('1',)
2025-03-25 22:50:27,725 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:27,726 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,726 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:27,726 [INFO] - [cached since 36.01s ago] ('user1', 1, 0)
2025-03-25 22:50:27,726 [INFO] - ROLLBACK
2025-03-25 22:50:27,727 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,727 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:27,727 [INFO] - [cached since 35.97s ago] ()
2025-03-25 22:50:27,731 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:27,731 [INFO] - ROLLBACK
2025-03-25 22:50:27,732 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:27,733 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:27] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:27,964 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,964 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:27,964 [INFO] - [cached since 36.25s ago] ('1',)
2025-03-25 22:50:27,964 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:27,964 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,965 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:27,965 [INFO] - [cached since 36.25s ago] ('user1', 1, 0)
2025-03-25 22:50:27,965 [INFO] - ROLLBACK
2025-03-25 22:50:27,965 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,965 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:27,965 [INFO] - [cached since 36.21s ago] ()
2025-03-25 22:50:27,967 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:27,967 [INFO] - ROLLBACK
2025-03-25 22:50:27,967 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:27,968 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:27] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:28,159 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,159 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:28,159 [INFO] - [cached since 36.45s ago] ('1',)
2025-03-25 22:50:28,160 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:28,160 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,161 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:28,161 [INFO] - [cached since 36.45s ago] ('user1', 1, 0)
2025-03-25 22:50:28,161 [INFO] - ROLLBACK
2025-03-25 22:50:28,161 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,162 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:28,162 [INFO] - [cached since 36.41s ago] ()
2025-03-25 22:50:28,166 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:28,166 [INFO] - ROLLBACK
2025-03-25 22:50:28,166 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:28,168 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:28] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:28,368 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:28,368 [INFO] - [cached since 36.66s ago] ('1',)
2025-03-25 22:50:28,369 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:28,370 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,370 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:28,370 [INFO] - [cached since 36.66s ago] ('user1', 1, 0)
2025-03-25 22:50:28,371 [INFO] - ROLLBACK
2025-03-25 22:50:28,371 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:28,371 [INFO] - [cached since 36.62s ago] ()
2025-03-25 22:50:28,375 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:28,375 [INFO] - ROLLBACK
2025-03-25 22:50:28,376 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:28,378 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:28] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:31,797 [INFO] - BEGIN (implicit)
2025-03-25 22:50:31,797 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:31,797 [INFO] - [cached since 40.08s ago] ('1',)
2025-03-25 22:50:31,797 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:31,798 [INFO] - BEGIN (implicit)
2025-03-25 22:50:31,798 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:31,798 [INFO] - [cached since 40.08s ago] ('user1', 1, 0)
2025-03-25 22:50:31,799 [INFO] - ROLLBACK
2025-03-25 22:50:31,799 [INFO] - BEGIN (implicit)
2025-03-25 22:50:31,799 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:31,800 [INFO] - [cached since 40.05s ago] ()
2025-03-25 22:50:31,804 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:31,804 [INFO] - ROLLBACK
2025-03-25 22:50:31,804 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:31,806 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:31] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:33,098 [INFO] - BEGIN (implicit)
2025-03-25 22:50:33,099 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:33,099 [INFO] - [cached since 41.39s ago] ('1',)
2025-03-25 22:50:33,100 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:33,100 [INFO] - BEGIN (implicit)
2025-03-25 22:50:33,100 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:33,101 [INFO] - [cached since 41.39s ago] ('user1', 1, 0)
2025-03-25 22:50:33,101 [INFO] - ROLLBACK
2025-03-25 22:50:33,101 [INFO] - BEGIN (implicit)
2025-03-25 22:50:33,102 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:33,102 [INFO] - [cached since 41.35s ago] ()
2025-03-25 22:50:33,105 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:33,106 [INFO] - ROLLBACK
2025-03-25 22:50:33,106 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:33,108 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:33] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:45,647 [INFO] - BEGIN (implicit)
2025-03-25 22:50:45,647 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:50:45,647 [INFO] - [raw sql] ()
2025-03-25 22:50:45,648 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:50:45,648 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - COMMIT
2025-03-25 22:50:45,658 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:50:45,658 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:50:46,763 [INFO] - BEGIN (implicit)
2025-03-25 22:50:46,764 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:46,765 [INFO] - [generated in 0.00012s] ('1',)
2025-03-25 22:50:46,765 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:46,765 [INFO] - BEGIN (implicit)
2025-03-25 22:50:46,766 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:46,766 [INFO] - [generated in 0.00010s] ('user1', 1, 0)
2025-03-25 22:50:46,768 [INFO] - ROLLBACK
2025-03-25 22:50:46,769 [INFO] - BEGIN (implicit)
2025-03-25 22:50:46,770 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:46,770 [INFO] - [generated in 0.00008s] ()
2025-03-25 22:50:46,784 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:46,784 [INFO] - ROLLBACK
2025-03-25 22:50:46,827 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:46] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 22:50:46,868 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:57:13,851 [INFO] - BEGIN (implicit)
2025-03-25 22:57:13,862 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:57:13,862 [INFO] - [cached since 387.1s ago] ('1',)
2025-03-25 22:57:13,885 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:57:13,886 [INFO] - BEGIN (implicit)
2025-03-25 22:57:13,886 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:57:13,886 [INFO] - [cached since 387.1s ago] ('user1', 1, 0)
2025-03-25 22:57:13,915 [INFO] - ROLLBACK
2025-03-25 22:57:13,915 [INFO] - BEGIN (implicit)
2025-03-25 22:57:13,916 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:57:13,916 [INFO] - [cached since 387.1s ago] ()
2025-03-25 22:57:14,142 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:57:14,142 [INFO] - ROLLBACK
2025-03-25 22:57:14,153 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:14] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 22:57:14,212 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:14] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 22:57:22,947 [INFO] - BEGIN (implicit)
2025-03-25 22:57:22,947 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:57:22,947 [INFO] - [cached since 396.2s ago] ('1',)
2025-03-25 22:57:22,948 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:22] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:57:23,004 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:23] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:59:37,875 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:59:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:19,563 [INFO] - BEGIN (implicit)
2025-03-25 23:01:19,564 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:19,565 [INFO] - [cached since 632.8s ago] ('1',)
2025-03-25 23:01:19,567 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:19] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:01:19,626 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:41,058 [INFO] - BEGIN (implicit)
2025-03-25 23:01:41,058 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:41,058 [INFO] - [cached since 654.3s ago] ('1',)
2025-03-25 23:01:41,112 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:01:41,154 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:48,578 [INFO] - BEGIN (implicit)
2025-03-25 23:01:48,578 [INFO] - PRAGMA main.table_info("users")
2025-03-25 23:01:48,578 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("students")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - COMMIT
2025-03-25 23:01:48,607 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 23:01:48,607 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 23:01:50,931 [INFO] - BEGIN (implicit)
2025-03-25 23:01:50,932 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:50,932 [INFO] - [generated in 0.00011s] ('1',)
2025-03-25 23:01:50,946 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:01:50,987 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:54,976 [INFO] - BEGIN (implicit)
2025-03-25 23:01:54,976 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:54,976 [INFO] - [cached since 4.045s ago] ('1',)
2025-03-25 23:01:54,977 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:01:54,978 [INFO] - BEGIN (implicit)
2025-03-25 23:01:54,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:01:54,981 [INFO] - [generated in 0.00020s] ('user1', 1, 0)
2025-03-25 23:01:54,984 [INFO] - ROLLBACK
2025-03-25 23:01:54,985 [INFO] - BEGIN (implicit)
2025-03-25 23:01:54,989 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:01:54,989 [INFO] - [generated in 0.00015s] ()
2025-03-25 23:01:55,185 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:01:55,185 [INFO] - ROLLBACK
2025-03-25 23:01:55,202 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:55] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:01:55,249 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:00,449 [INFO] - BEGIN (implicit)
2025-03-25 23:02:00,450 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:00,450 [INFO] - [cached since 9.519s ago] ('1',)
2025-03-25 23:02:00,451 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:00,451 [INFO] - BEGIN (implicit)
2025-03-25 23:02:00,451 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:00,451 [INFO] - [cached since 5.471s ago] ('user1', 1, 0)
2025-03-25 23:02:00,452 [INFO] - ROLLBACK
2025-03-25 23:02:00,452 [INFO] - BEGIN (implicit)
2025-03-25 23:02:00,452 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:00,453 [INFO] - [cached since 5.464s ago] ()
2025-03-25 23:02:00,456 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:00,456 [INFO] - ROLLBACK
2025-03-25 23:02:00,463 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:00] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:00,497 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:01,230 [INFO] - BEGIN (implicit)
2025-03-25 23:02:01,230 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:01,230 [INFO] - [cached since 10.3s ago] ('1',)
2025-03-25 23:02:01,231 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:01,231 [INFO] - BEGIN (implicit)
2025-03-25 23:02:01,232 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:01,232 [INFO] - [cached since 6.252s ago] ('user1', 1, 0)
2025-03-25 23:02:01,232 [INFO] - ROLLBACK
2025-03-25 23:02:01,233 [INFO] - BEGIN (implicit)
2025-03-25 23:02:01,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:01,233 [INFO] - [cached since 6.245s ago] ()
2025-03-25 23:02:01,246 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:01,246 [INFO] - ROLLBACK
2025-03-25 23:02:01,251 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:01] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:01,280 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:02,671 [INFO] - BEGIN (implicit)
2025-03-25 23:02:02,672 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:02,672 [INFO] - [cached since 11.74s ago] ('1',)
2025-03-25 23:02:02,673 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:02,673 [INFO] - BEGIN (implicit)
2025-03-25 23:02:02,673 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:02,673 [INFO] - [cached since 7.694s ago] ('user1', 1, 0)
2025-03-25 23:02:02,674 [INFO] - ROLLBACK
2025-03-25 23:02:02,674 [INFO] - BEGIN (implicit)
2025-03-25 23:02:02,675 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:02,675 [INFO] - [cached since 7.687s ago] ()
2025-03-25 23:02:02,680 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:02,680 [INFO] - ROLLBACK
2025-03-25 23:02:02,686 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:02,719 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:04,738 [INFO] - BEGIN (implicit)
2025-03-25 23:02:04,739 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:04,739 [INFO] - [cached since 13.81s ago] ('1',)
2025-03-25 23:02:04,740 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:04,741 [INFO] - BEGIN (implicit)
2025-03-25 23:02:04,741 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:04,741 [INFO] - [cached since 9.761s ago] ('user1', 1, 0)
2025-03-25 23:02:04,741 [INFO] - ROLLBACK
2025-03-25 23:02:04,742 [INFO] - BEGIN (implicit)
2025-03-25 23:02:04,742 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:04,742 [INFO] - [cached since 9.754s ago] ()
2025-03-25 23:02:04,746 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:04,747 [INFO] - ROLLBACK
2025-03-25 23:02:04,753 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:04] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:04,800 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:06,044 [INFO] - BEGIN (implicit)
2025-03-25 23:02:06,044 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:06,044 [INFO] - [cached since 15.11s ago] ('1',)
2025-03-25 23:02:06,045 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:06,045 [INFO] - BEGIN (implicit)
2025-03-25 23:02:06,045 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:06,046 [INFO] - [cached since 11.07s ago] ('user1', 1, 0)
2025-03-25 23:02:06,046 [INFO] - ROLLBACK
2025-03-25 23:02:06,046 [INFO] - BEGIN (implicit)
2025-03-25 23:02:06,047 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:06,047 [INFO] - [cached since 11.06s ago] ()
2025-03-25 23:02:06,051 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:06,051 [INFO] - ROLLBACK
2025-03-25 23:02:06,057 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:06,100 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:07,410 [INFO] - BEGIN (implicit)
2025-03-25 23:02:07,410 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:07,410 [INFO] - [cached since 16.48s ago] ('1',)
2025-03-25 23:02:07,411 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:07] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 23:02:07,415 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:07] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:07,482 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:12,199 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:12] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:12,265 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:13,278 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:13] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:13,336 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:19,160 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:19] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 23:02:19,201 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:32,679 [INFO] - BEGIN (implicit)
2025-03-25 23:02:32,680 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:32,681 [INFO] - [cached since 37.7s ago] ('user1', 1, 0)
2025-03-25 23:02:32,759 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:32] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 23:02:32,768 [INFO] - BEGIN (implicit)
2025-03-25 23:02:32,768 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:32,768 [INFO] - [cached since 41.84s ago] ('1',)
2025-03-25 23:02:32,771 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:32,833 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:36,136 [INFO] - BEGIN (implicit)
2025-03-25 23:02:36,137 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:36,137 [INFO] - [cached since 45.21s ago] ('1',)
2025-03-25 23:02:36,138 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:36,138 [INFO] - BEGIN (implicit)
2025-03-25 23:02:36,139 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:36,139 [INFO] - [cached since 41.16s ago] ('user1', 1, 0)
2025-03-25 23:02:36,142 [INFO] - ROLLBACK
2025-03-25 23:02:36,142 [INFO] - BEGIN (implicit)
2025-03-25 23:02:36,142 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:36,142 [INFO] - [cached since 41.16s ago] ()
2025-03-25 23:02:36,158 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:36,158 [INFO] - ROLLBACK
2025-03-25 23:02:36,162 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:36] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:36,213 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:38,569 [INFO] - BEGIN (implicit)
2025-03-25 23:02:38,570 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:38,570 [INFO] - [cached since 47.64s ago] ('1',)
2025-03-25 23:02:38,571 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:38] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:38,636 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:42,183 [INFO] - BEGIN (implicit)
2025-03-25 23:02:42,183 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:42,184 [INFO] - [cached since 51.25s ago] ('1',)
2025-03-25 23:02:42,185 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:42,245 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:45,061 [INFO] - BEGIN (implicit)
2025-03-25 23:02:45,061 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:45,062 [INFO] - [cached since 54.13s ago] ('1',)
2025-03-25 23:02:45,062 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:45,062 [INFO] - BEGIN (implicit)
2025-03-25 23:02:45,063 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:45,063 [INFO] - [cached since 50.08s ago] ('user1', 1, 0)
2025-03-25 23:02:45,065 [INFO] - ROLLBACK
2025-03-25 23:02:45,066 [INFO] - BEGIN (implicit)
2025-03-25 23:02:45,066 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:45,066 [INFO] - [cached since 50.08s ago] ()
2025-03-25 23:02:45,079 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:45,079 [INFO] - ROLLBACK
2025-03-25 23:02:45,083 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:45] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:45,132 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:27,393 [INFO] - BEGIN (implicit)
2025-03-25 23:03:27,395 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:03:27,395 [INFO] - [cached since 96.46s ago] ('1',)
2025-03-25 23:03:27,396 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:27] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 23:03:27,399 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:27] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:03:27,467 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:29,105 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:29] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 23:03:29,145 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:56,634 [INFO] - BEGIN (implicit)
2025-03-25 23:03:56,636 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:03:56,636 [INFO] - [cached since 121.7s ago] ('user1', 1, 0)
2025-03-25 23:03:56,739 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:56] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 23:03:56,745 [INFO] - BEGIN (implicit)
2025-03-25 23:03:56,745 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:03:56,745 [INFO] - [cached since 125.8s ago] ('1',)
2025-03-25 23:03:56,745 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:03:56,818 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:59,870 [INFO] - BEGIN (implicit)
2025-03-25 23:03:59,870 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:03:59,870 [INFO] - [cached since 128.9s ago] ('1',)
2025-03-25 23:03:59,870 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:03:59,871 [INFO] - BEGIN (implicit)
2025-03-25 23:03:59,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:03:59,871 [INFO] - [cached since 124.9s ago] ('user1', 1, 0)
2025-03-25 23:03:59,871 [INFO] - ROLLBACK
2025-03-25 23:03:59,872 [INFO] - BEGIN (implicit)
2025-03-25 23:03:59,872 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:03:59,872 [INFO] - [cached since 124.9s ago] ()
2025-03-25 23:03:59,885 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:03:59,885 [INFO] - ROLLBACK
2025-03-25 23:03:59,889 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:59] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:03:59,924 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:11:53,935 [INFO] - BEGIN (implicit)
2025-03-25 23:11:53,948 [INFO] - PRAGMA main.table_info("users")
2025-03-25 23:11:53,948 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("students")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 23:11:53,967 [INFO] - [raw sql] ()
2025-03-25 23:11:53,967 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 23:11:53,967 [INFO] - [raw sql] ()
2025-03-25 23:11:53,967 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 23:11:53,967 [INFO] - [raw sql] ()
2025-03-25 23:11:53,967 [INFO] - COMMIT
2025-03-25 23:11:53,976 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 23:11:53,976 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 23:11:57,632 [INFO] - BEGIN (implicit)
2025-03-25 23:11:57,633 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:11:57,633 [INFO] - [generated in 0.00014s] ('1',)
2025-03-25 23:11:57,634 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:11:57,634 [INFO] - BEGIN (implicit)
2025-03-25 23:11:57,635 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:11:57,635 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-25 23:11:57,638 [INFO] - ROLLBACK
2025-03-25 23:11:57,638 [INFO] - BEGIN (implicit)
2025-03-25 23:11:57,640 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:11:57,640 [INFO] - [generated in 0.00008s] ()
2025-03-25 23:11:57,776 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:11:57,776 [INFO] - ROLLBACK
2025-03-25 23:11:57,807 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:11:57] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:11:57,864 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:11:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:13:45,824 [INFO] - BEGIN (implicit)
2025-03-25 23:13:45,824 [INFO] - PRAGMA main.table_info("users")
2025-03-25 23:13:45,825 [INFO] - [raw sql] ()
2025-03-25 23:13:45,825 [INFO] - PRAGMA main.table_info("students")
2025-03-25 23:13:45,825 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - COMMIT
2025-03-25 23:13:45,835 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 23:13:45,835 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 23:13:48,018 [INFO] - BEGIN (implicit)
2025-03-25 23:13:48,019 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:13:48,019 [INFO] - [generated in 0.00011s] ('1',)
2025-03-25 23:13:48,020 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:13:48,020 [INFO] - BEGIN (implicit)
2025-03-25 23:13:48,021 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:13:48,021 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-25 23:13:48,024 [INFO] - ROLLBACK
2025-03-25 23:13:48,024 [INFO] - BEGIN (implicit)
2025-03-25 23:13:48,025 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:13:48,026 [INFO] - [generated in 0.00010s] ()
2025-03-25 23:13:48,133 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:13:48,133 [INFO] - ROLLBACK
2025-03-25 23:13:48,142 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:13:48] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:13:48,181 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:13:48] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:13:54,720 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:13:54] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-25 23:15:05,537 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:15:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:16:47,549 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:16:47] "[33mGET /admin/student/3000 HTTP/1.1[0m" 404 -
