2025-03-22 22:34:11,902 [INFO] - BEGIN (implicit)
2025-03-22 22:34:11,902 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:34:11,902 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,923 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:34:11,923 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:34:11,924 [INFO] - [raw sql] ()
2025-03-22 22:34:11,924 [INFO] - COMMIT
2025-03-22 22:34:11,955 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:34:11,955 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:34:46,825 [INFO] - BEGIN (implicit)
2025-03-22 22:34:46,838 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:34:46,838 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,856 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:34:46,856 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:34:46,857 [INFO] - [raw sql] ()
2025-03-22 22:34:46,857 [INFO] - COMMIT
2025-03-22 22:34:46,899 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:34:46,899 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:35:40,834 [INFO] - BEGIN (implicit)
2025-03-22 22:35:40,835 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:35:40,835 [INFO] - [raw sql] ()
2025-03-22 22:35:40,855 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:35:40,855 [INFO] - [raw sql] ()
2025-03-22 22:35:40,855 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:35:40,855 [INFO] - [raw sql] ()
2025-03-22 22:35:40,855 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:35:40,856 [INFO] - [raw sql] ()
2025-03-22 22:35:40,856 [INFO] - COMMIT
2025-03-22 22:35:40,899 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:35:40,899 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:36:05,031 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:05] "GET / HTTP/1.1" 200 -
2025-03-22 22:36:07,587 [INFO] - BEGIN (implicit)
2025-03-22 22:36:07,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:07,589 [INFO] - [generated in 0.00014s] ('1',)
2025-03-22 22:36:07,624 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:07] "GET /student/ HTTP/1.1" 200 -
2025-03-22 22:36:07,678 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:36:17,823 [INFO] - BEGIN (implicit)
2025-03-22 22:36:17,824 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:17,824 [INFO] - [cached since 10.24s ago] ('1',)
2025-03-22 22:36:17,832 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:17] "GET /admin/ HTTP/1.1" 200 -
2025-03-22 22:36:17,843 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:36:19,271 [INFO] - BEGIN (implicit)
2025-03-22 22:36:19,271 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:19,271 [INFO] - [cached since 11.68s ago] ('1',)
2025-03-22 22:36:19,273 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:19] "GET /admin/ HTTP/1.1" 200 -
2025-03-22 22:36:19,337 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:36:53,038 [INFO] - BEGIN (implicit)
2025-03-22 22:36:53,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:36:53,041 [INFO] - [cached since 45.45s ago] ('1',)
2025-03-22 22:36:53,043 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey (via session)
2025-03-22 22:36:53,045 [INFO] - BEGIN (implicit)
2025-03-22 22:36:53,047 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-22 22:36:53,047 [INFO] - [generated in 0.00019s] ('Hanavey', 1, 0)
2025-03-22 22:36:53,079 [INFO] - GET /api/admin/student/1 - Access denied for user Hanavey
2025-03-22 22:36:53,079 [INFO] - ROLLBACK
2025-03-22 22:36:53,080 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:36:53] "[31m[1mGET /api/admin/student/1 HTTP/1.1[0m" 403 -
2025-03-22 22:47:52,563 [INFO] - BEGIN (implicit)
2025-03-22 22:47:52,596 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:47:52,597 [INFO] - [generated in 0.00104s] ('your_api_key_here', 1, 0)
2025-03-22 22:47:52,644 [INFO] - ROLLBACK
2025-03-22 22:47:52,645 [INFO] - GET /api/admin/student/1 - Invalid or missing API key, IP: 127.0.0.1
2025-03-22 22:47:52,679 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:47:52] "[31m[1mGET /api/admin/student/1 HTTP/1.1[0m" 401 -
2025-03-22 22:48:20,327 [INFO] - BEGIN (implicit)
2025-03-22 22:48:20,328 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:48:20,328 [INFO] - [cached since 27.73s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:48:20,348 [INFO] - ROLLBACK
2025-03-22 22:48:20,349 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:48:20,349 [INFO] - BEGIN (implicit)
2025-03-22 22:48:20,349 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:48:20,349 [INFO] - [cached since 27.75s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:48:20,350 [INFO] - BEGIN (implicit)
2025-03-22 22:48:20,355 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:48:20,355 [INFO] - [generated in 0.00015s] (1, 1, 0)
2025-03-22 22:48:20,465 [INFO] - ROLLBACK
2025-03-22 22:48:20,465 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:48:20,567 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:48:20] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:49:27,403 [INFO] - BEGIN (implicit)
2025-03-22 22:49:27,404 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:49:27,404 [INFO] - [cached since 94.81s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:49:27,415 [INFO] - ROLLBACK
2025-03-22 22:49:27,415 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:49:27,415 [INFO] - BEGIN (implicit)
2025-03-22 22:49:27,416 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:49:27,416 [INFO] - [cached since 94.82s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:49:27,416 [INFO] - BEGIN (implicit)
2025-03-22 22:49:27,416 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:49:27,416 [INFO] - [cached since 67.06s ago] (1, 1, 0)
2025-03-22 22:49:27,420 [INFO] - ROLLBACK
2025-03-22 22:49:27,420 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:49:27,422 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:49:27] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:51:01,884 [INFO] - BEGIN (implicit)
2025-03-22 22:51:01,884 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:51:01,884 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:51:01,900 [INFO] - [raw sql] ()
2025-03-22 22:51:01,900 [INFO] - COMMIT
2025-03-22 22:51:01,948 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:51:01,948 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:51:04,913 [INFO] - BEGIN (implicit)
2025-03-22 22:51:04,915 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:04,915 [INFO] - [generated in 0.00012s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:04,933 [INFO] - ROLLBACK
2025-03-22 22:51:04,933 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:51:04,933 [INFO] - BEGIN (implicit)
2025-03-22 22:51:04,933 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:04,933 [INFO] - [cached since 0.01876s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:04,934 [INFO] - BEGIN (implicit)
2025-03-22 22:51:04,937 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:51:04,937 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-22 22:51:05,061 [INFO] - ROLLBACK
2025-03-22 22:51:05,061 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:51:05,123 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:51:05] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:51:29,356 [INFO] - BEGIN (implicit)
2025-03-22 22:51:29,359 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:29,360 [INFO] - [cached since 24.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:29,362 [INFO] - ROLLBACK
2025-03-22 22:51:29,362 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:51:29,362 [INFO] - BEGIN (implicit)
2025-03-22 22:51:29,362 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:29,362 [INFO] - [cached since 24.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:29,363 [INFO] - BEGIN (implicit)
2025-03-22 22:51:29,363 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:51:29,363 [INFO] - [cached since 24.43s ago] (1, 1, 0)
2025-03-22 22:51:29,367 [INFO] - ROLLBACK
2025-03-22 22:51:29,367 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:51:29,368 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:51:29] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:51:33,051 [INFO] - BEGIN (implicit)
2025-03-22 22:51:33,051 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:33,051 [INFO] - [cached since 28.14s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:33,051 [INFO] - ROLLBACK
2025-03-22 22:51:33,051 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:51:33,052 [INFO] - BEGIN (implicit)
2025-03-22 22:51:33,052 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:51:33,052 [INFO] - [cached since 28.14s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:51:33,052 [INFO] - BEGIN (implicit)
2025-03-22 22:51:33,052 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:51:33,052 [INFO] - [cached since 28.12s ago] (1, 1, 0)
2025-03-22 22:51:33,053 [INFO] - ROLLBACK
2025-03-22 22:51:33,053 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:51:33,054 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:51:33] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:53:56,151 [INFO] - BEGIN (implicit)
2025-03-22 22:53:56,166 [INFO] - PRAGMA main.table_info("users")
2025-03-22 22:53:56,166 [INFO] - [raw sql] ()
2025-03-22 22:53:56,199 [INFO] - PRAGMA main.table_info("students")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 22:53:56,200 [INFO] - [raw sql] ()
2025-03-22 22:53:56,200 [INFO] - COMMIT
2025-03-22 22:53:56,248 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 22:53:56,248 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 22:53:57,737 [INFO] - BEGIN (implicit)
2025-03-22 22:53:57,738 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:53:57,738 [INFO] - [generated in 0.00011s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:53:57,755 [INFO] - ROLLBACK
2025-03-22 22:53:57,755 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:53:57,755 [INFO] - BEGIN (implicit)
2025-03-22 22:53:57,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:53:57,755 [INFO] - [cached since 0.01732s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:53:57,756 [INFO] - BEGIN (implicit)
2025-03-22 22:53:57,759 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:53:57,759 [INFO] - [generated in 0.00011s] (1, 1, 0)
2025-03-22 22:53:57,883 [INFO] - ROLLBACK
2025-03-22 22:53:57,883 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .first())
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:53:57,922 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:53:57] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:54:04,152 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:54:04] "GET / HTTP/1.1" 200 -
2025-03-22 22:54:06,228 [INFO] - BEGIN (implicit)
2025-03-22 22:54:06,229 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-22 22:54:06,229 [INFO] - [generated in 0.00016s] ('1',)
2025-03-22 22:54:06,232 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:54:06] "GET /student/ HTTP/1.1" 200 -
2025-03-22 22:54:06,285 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:54:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-22 22:55:17,547 [INFO] - BEGIN (implicit)
2025-03-22 22:55:17,548 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:55:17,548 [INFO] - [cached since 79.81s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:55:17,555 [INFO] - ROLLBACK
2025-03-22 22:55:17,555 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:55:17,555 [INFO] - BEGIN (implicit)
2025-03-22 22:55:17,555 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:55:17,556 [INFO] - [cached since 79.82s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:55:17,559 [INFO] - BEGIN (implicit)
2025-03-22 22:55:17,559 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:55:17,559 [INFO] - [cached since 79.8s ago] (1, 1, 0)
2025-03-22 22:55:17,654 [INFO] - ROLLBACK
2025-03-22 22:55:17,656 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 74, in get
    .filter(Student.user_id == student_id)
     ^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "lib/sqlalchemy/cyextension/processors.pyx", line 51, in sqlalchemy.cyextension.processors.str_to_date
TypeError: fromisoformat: argument must be str
2025-03-22 22:55:17,659 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:55:17] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 22:58:49,341 [INFO] - BEGIN (implicit)
2025-03-22 22:58:49,342 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:58:49,342 [INFO] - [cached since 291.6s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:58:49,344 [INFO] - ROLLBACK
2025-03-22 22:58:49,344 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 22:58:49,344 [INFO] - BEGIN (implicit)
2025-03-22 22:58:49,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 22:58:49,344 [INFO] - [cached since 291.6s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 22:58:49,345 [INFO] - BEGIN (implicit)
2025-03-22 22:58:49,346 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 22:58:49,346 [INFO] - [cached since 291.6s ago] (1, 1, 0)
2025-03-22 22:58:49,350 [INFO] - ROLLBACK
2025-03-22 22:58:49,350 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 94, in get
    'class': {
               
AttributeError: 'NoneType' object has no attribute 'class_id'
2025-03-22 22:58:49,351 [INFO] - 127.0.0.1 - - [22/Mar/2025 22:58:49] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-22 23:02:29,643 [INFO] - BEGIN (implicit)
2025-03-22 23:02:29,663 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:02:29,663 [INFO] - [cached since 511.8s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:02:29,691 [INFO] - ROLLBACK
2025-03-22 23:02:29,691 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:02:29,691 [INFO] - BEGIN (implicit)
2025-03-22 23:02:29,691 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:02:29,691 [INFO] - [cached since 511.9s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:02:29,692 [INFO] - BEGIN (implicit)
2025-03-22 23:02:29,692 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:02:29,692 [INFO] - [cached since 511.8s ago] (1, 1, 0)
2025-03-22 23:02:29,784 [INFO] - ROLLBACK
2025-03-22 23:02:29,785 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:02:29] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:03:18,511 [INFO] - BEGIN (implicit)
2025-03-22 23:03:18,512 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:18,512 [INFO] - [cached since 560.7s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:18,513 [INFO] - ROLLBACK
2025-03-22 23:03:18,513 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:03:18,513 [INFO] - BEGIN (implicit)
2025-03-22 23:03:18,513 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:18,513 [INFO] - [cached since 560.7s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:18,515 [INFO] - BEGIN (implicit)
2025-03-22 23:03:18,515 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:03:18,515 [INFO] - [cached since 560.7s ago] (1, 1, 0)
2025-03-22 23:03:18,519 [INFO] - ROLLBACK
2025-03-22 23:03:18,519 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:03:18] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:03:29,253 [INFO] - BEGIN (implicit)
2025-03-22 23:03:29,253 [INFO] - PRAGMA main.table_info("users")
2025-03-22 23:03:29,253 [INFO] - [raw sql] ()
2025-03-22 23:03:29,257 [INFO] - PRAGMA main.table_info("students")
2025-03-22 23:03:29,257 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 23:03:29,258 [INFO] - [raw sql] ()
2025-03-22 23:03:29,258 [INFO] - COMMIT
2025-03-22 23:03:29,284 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 23:03:29,296 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 23:03:31,212 [INFO] - BEGIN (implicit)
2025-03-22 23:03:31,213 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:31,213 [INFO] - [generated in 0.00011s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:31,213 [INFO] - ROLLBACK
2025-03-22 23:03:31,213 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:03:31,214 [INFO] - BEGIN (implicit)
2025-03-22 23:03:31,214 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:03:31,214 [INFO] - [cached since 0.0007502s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:03:31,214 [INFO] - BEGIN (implicit)
2025-03-22 23:03:31,217 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:03:31,217 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-22 23:03:31,308 [INFO] - ROLLBACK
2025-03-22 23:03:31,308 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:03:31] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:06:00,494 [INFO] - BEGIN (implicit)
2025-03-22 23:06:00,495 [INFO] - PRAGMA main.table_info("users")
2025-03-22 23:06:00,495 [INFO] - [raw sql] ()
2025-03-22 23:06:00,504 [INFO] - PRAGMA main.table_info("students")
2025-03-22 23:06:00,504 [INFO] - [raw sql] ()
2025-03-22 23:06:00,504 [INFO] - PRAGMA main.table_info("schedule")
2025-03-22 23:06:00,504 [INFO] - [raw sql] ()
2025-03-22 23:06:00,504 [INFO] - PRAGMA main.table_info("grades")
2025-03-22 23:06:00,504 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("admins")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("attendance")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("classes")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("homework")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("subjects")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("teachers")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-22 23:06:00,505 [INFO] - [raw sql] ()
2025-03-22 23:06:00,505 [INFO] - COMMIT
2025-03-22 23:06:00,530 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-22 23:06:00,530 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-22 23:06:03,525 [INFO] - BEGIN (implicit)
2025-03-22 23:06:03,527 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:06:03,527 [INFO] - [generated in 0.00010s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:06:03,527 [INFO] - ROLLBACK
2025-03-22 23:06:03,527 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:06:03,527 [INFO] - BEGIN (implicit)
2025-03-22 23:06:03,527 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:06:03,527 [INFO] - [cached since 0.0007427s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:06:03,528 [INFO] - BEGIN (implicit)
2025-03-22 23:06:03,531 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:06:03,531 [INFO] - [generated in 0.00013s] (1, 1, 0)
2025-03-22 23:06:03,621 [INFO] - ROLLBACK
2025-03-22 23:06:03,622 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:06:03] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-22 23:17:37,487 [INFO] - BEGIN (implicit)
2025-03-22 23:17:37,495 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:17:37,495 [INFO] - [cached since 693.9s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:17:37,497 [INFO] - ROLLBACK
2025-03-22 23:17:37,497 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: Hanavey1 (via session)
2025-03-22 23:17:37,498 [INFO] - BEGIN (implicit)
2025-03-22 23:17:37,498 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-22 23:17:37,498 [INFO] - [cached since 694s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-22 23:17:37,500 [INFO] - BEGIN (implicit)
2025-03-22 23:17:37,500 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-22 23:17:37,501 [INFO] - [cached since 693.9s ago] (1, 1, 0)
2025-03-22 23:17:37,507 [INFO] - ROLLBACK
2025-03-22 23:17:37,508 [INFO] - 127.0.0.1 - - [22/Mar/2025 23:17:37] "GET /api/admin/student/1 HTTP/1.1" 200 -
2025-03-23 00:23:32,977 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:32] "GET / HTTP/1.1" 200 -
2025-03-23 00:23:41,452 [INFO] - BEGIN (implicit)
2025-03-23 00:23:41,459 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:23:41,459 [INFO] - [generated in 0.00053s] ('1',)
2025-03-23 00:23:41,513 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:23:41,537 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:23:50,812 [INFO] - BEGIN (implicit)
2025-03-23 00:23:50,813 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:23:50,813 [INFO] - [cached since 9.354s ago] ('1',)
2025-03-23 00:23:50,816 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:23:50,841 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:23:51,911 [INFO] - BEGIN (implicit)
2025-03-23 00:23:51,911 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:23:51,911 [INFO] - [cached since 10.45s ago] ('1',)
2025-03-23 00:23:51,913 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:51] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-23 00:23:51,916 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:51] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:23:51,975 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:23:53,206 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:53] "GET /admin/login HTTP/1.1" 200 -
2025-03-23 00:23:53,255 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:23:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:24:02,294 [INFO] - BEGIN (implicit)
2025-03-23 00:24:02,299 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:24:02,300 [INFO] - [generated in 0.00036s] ('Hanavey1', 1, 0)
2025-03-23 00:24:02,302 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:24:02] "POST /admin/login HTTP/1.1" 200 -
2025-03-23 00:24:02,338 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:24:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:00,945 [INFO] - BEGIN (implicit)
2025-03-23 00:25:00,948 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:00,948 [INFO] - [cached since 58.65s ago] ('Hanavey1', 1, 0)
2025-03-23 00:25:01,078 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:01] "POST /admin/login HTTP/1.1" 200 -
2025-03-23 00:25:01,111 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:11,797 [INFO] - BEGIN (implicit)
2025-03-23 00:25:11,799 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:11,799 [INFO] - [cached since 69.5s ago] ('admin1', 1, 0)
2025-03-23 00:25:11,803 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:11] "POST /admin/login HTTP/1.1" 200 -
2025-03-23 00:25:11,834 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:16,998 [INFO] - BEGIN (implicit)
2025-03-23 00:25:16,999 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:16,999 [INFO] - [cached since 74.7s ago] ('admin1', 1, 0)
2025-03-23 00:25:17,082 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:17] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-23 00:25:17,090 [INFO] - BEGIN (implicit)
2025-03-23 00:25:17,090 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:25:17,090 [INFO] - [cached since 95.63s ago] ('14',)
2025-03-23 00:25:17,093 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:17] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:25:17,154 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:20,145 [INFO] - BEGIN (implicit)
2025-03-23 00:25:20,146 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:25:20,146 [INFO] - [cached since 98.69s ago] ('14',)
2025-03-23 00:25:20,148 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:20] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-23 00:25:20,151 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:20] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:25:20,211 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:21,299 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:21] "GET /admin/login HTTP/1.1" 200 -
2025-03-23 00:25:21,339 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 00:25:49,477 [INFO] - BEGIN (implicit)
2025-03-23 00:25:49,479 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 00:25:49,479 [INFO] - [cached since 107.2s ago] ('admin2', 1, 0)
2025-03-23 00:25:49,560 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:49] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-23 00:25:49,568 [INFO] - BEGIN (implicit)
2025-03-23 00:25:49,568 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 00:25:49,568 [INFO] - [cached since 128.1s ago] ('15',)
2025-03-23 00:25:49,570 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:49] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 00:25:49,638 [INFO] - 127.0.0.1 - - [23/Mar/2025 00:25:49] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:00:47,008 [INFO] - BEGIN (implicit)
2025-03-23 17:00:47,012 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:00:47,012 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,018 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:00:47,018 [INFO] - [raw sql] ()
2025-03-23 17:00:47,019 [INFO] - COMMIT
2025-03-23 17:00:47,046 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-23 17:00:47,046 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-23 17:00:50,688 [INFO] - BEGIN (implicit)
2025-03-23 17:00:50,690 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:00:50,690 [INFO] - [generated in 0.00015s] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:00:50,719 [INFO] - ROLLBACK
2025-03-23 17:00:50,719 [INFO] - GET /api/admin/student/1 - Invalid or missing API key, IP: 127.0.0.1
2025-03-23 17:00:50,719 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:00:50] "[31m[1mGET /api/admin/student/1 HTTP/1.1[0m" 401 -
2025-03-23 17:01:35,919 [INFO] - BEGIN (implicit)
2025-03-23 17:01:35,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:35,920 [INFO] - [cached since 45.23s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:35,921 [INFO] - ROLLBACK
2025-03-23 17:01:35,921 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:01:35,921 [INFO] - BEGIN (implicit)
2025-03-23 17:01:35,921 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:35,921 [INFO] - [cached since 45.23s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:35,922 [INFO] - BEGIN (implicit)
2025-03-23 17:01:35,925 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:01:35,925 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-23 17:01:35,944 [INFO] - GET /api/admin/student/1 - Not found for user admin2
2025-03-23 17:01:35,944 [ERROR] - GET /api/admin/student/1 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-23 17:01:35,944 [INFO] - ROLLBACK
2025-03-23 17:01:35,944 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 83, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 129, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-23 17:01:35,987 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:01:35] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-23 17:01:42,135 [INFO] - BEGIN (implicit)
2025-03-23 17:01:42,136 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:42,136 [INFO] - [cached since 51.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:42,136 [INFO] - ROLLBACK
2025-03-23 17:01:42,136 [INFO] - GET /api/admin/student/1 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:01:42,137 [INFO] - BEGIN (implicit)
2025-03-23 17:01:42,137 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:42,137 [INFO] - [cached since 51.45s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:42,139 [INFO] - BEGIN (implicit)
2025-03-23 17:01:42,139 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:01:42,139 [INFO] - [cached since 6.214s ago] (1, 1, 0)
2025-03-23 17:01:42,141 [INFO] - GET /api/admin/student/1 - Not found for user admin2
2025-03-23 17:01:42,142 [ERROR] - GET /api/admin/student/1 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-23 17:01:42,142 [INFO] - ROLLBACK
2025-03-23 17:01:42,142 [ERROR] - Exception on /api/admin/student/1 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 83, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 129, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-23 17:01:42,142 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:01:42] "[35m[1mGET /api/admin/student/1 HTTP/1.1[0m" 500 -
2025-03-23 17:01:48,449 [INFO] - BEGIN (implicit)
2025-03-23 17:01:48,450 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:48,450 [INFO] - [cached since 57.76s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:48,450 [INFO] - ROLLBACK
2025-03-23 17:01:48,450 [INFO] - GET /api/admin/student/4 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:01:48,450 [INFO] - BEGIN (implicit)
2025-03-23 17:01:48,450 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:01:48,450 [INFO] - [cached since 57.76s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:01:48,451 [INFO] - BEGIN (implicit)
2025-03-23 17:01:48,451 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:01:48,451 [INFO] - [cached since 12.53s ago] (4, 1, 0)
2025-03-23 17:01:48,452 [INFO] - GET /api/admin/student/4 - Not found for user admin2
2025-03-23 17:01:48,452 [ERROR] - GET /api/admin/student/4 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-23 17:01:48,452 [INFO] - ROLLBACK
2025-03-23 17:01:48,452 [ERROR] - Exception on /api/admin/student/4 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 83, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 129, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-23 17:01:48,453 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:01:48] "[35m[1mGET /api/admin/student/4 HTTP/1.1[0m" 500 -
2025-03-23 17:02:08,530 [INFO] - BEGIN (implicit)
2025-03-23 17:02:08,531 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:02:08,531 [INFO] - [cached since 77.84s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:02:08,532 [INFO] - ROLLBACK
2025-03-23 17:02:08,533 [INFO] - GET /api/admin/student/16 - IP: 127.0.0.1, User: admin2 (via session)
2025-03-23 17:02:08,533 [INFO] - BEGIN (implicit)
2025-03-23 17:02:08,533 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-23 17:02:08,533 [INFO] - [cached since 77.84s ago] ('50aa2abd-20ad-4ae1-920d-5cd60730b8a0', 1, 0)
2025-03-23 17:02:08,533 [INFO] - BEGIN (implicit)
2025-03-23 17:02:08,534 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-23 17:02:08,534 [INFO] - [cached since 32.61s ago] (16, 1, 0)
2025-03-23 17:02:08,536 [INFO] - ROLLBACK
2025-03-23 17:02:08,536 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:02:08] "GET /api/admin/student/16 HTTP/1.1" 200 -
2025-03-23 17:05:32,507 [INFO] - BEGIN (implicit)
2025-03-23 17:05:32,507 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:05:32,508 [INFO] - [raw sql] ()
2025-03-23 17:05:32,508 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:05:32,508 [INFO] - [raw sql] ()
2025-03-23 17:05:32,508 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:05:32,509 [INFO] - [raw sql] ()
2025-03-23 17:05:32,509 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:05:32,509 [INFO] - [raw sql] ()
2025-03-23 17:05:32,509 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:05:32,510 [INFO] - [raw sql] ()
2025-03-23 17:05:32,510 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:05:32,510 [INFO] - [raw sql] ()
2025-03-23 17:05:32,510 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:05:32,510 [INFO] - [raw sql] ()
2025-03-23 17:05:32,510 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:05:32,511 [INFO] - [raw sql] ()
2025-03-23 17:05:32,511 [INFO] - COMMIT
2025-03-23 17:05:45,107 [INFO] - BEGIN (implicit)
2025-03-23 17:05:45,107 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:05:45,107 [INFO] - [raw sql] ()
2025-03-23 17:05:45,107 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:05:45,108 [INFO] - [raw sql] ()
2025-03-23 17:05:45,108 [INFO] - COMMIT
2025-03-23 17:07:09,564 [INFO] - BEGIN (implicit)
2025-03-23 17:07:09,576 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:07:09,576 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:07:09,587 [INFO] - [raw sql] ()
2025-03-23 17:07:09,587 [INFO] - COMMIT
2025-03-23 17:07:09,613 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-23 17:07:17,897 [INFO] - BEGIN (implicit)
2025-03-23 17:07:17,897 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:07:17,897 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,909 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:07:17,909 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,910 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:07:17,910 [INFO] - [raw sql] ()
2025-03-23 17:07:17,911 [INFO] - COMMIT
2025-03-23 17:08:57,618 [INFO] - BEGIN (implicit)
2025-03-23 17:08:57,633 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:08:57,633 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("users")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("students")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("schedule")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("grades")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("admins")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("attendance")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,634 [INFO] - PRAGMA temp.table_info("classes")
2025-03-23 17:08:57,634 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("homework")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("subjects")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("teachers")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("teacher_positions")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - PRAGMA temp.table_info("teacher_position_assignments")
2025-03-23 17:08:57,635 [INFO] - [raw sql] ()
2025-03-23 17:08:57,635 [INFO] - 
CREATE TABLE users (
	user_id INTEGER NOT NULL, 
	username VARCHAR NOT NULL, 
	password_hash VARCHAR NOT NULL, 
	first_name VARCHAR NOT NULL, 
	last_name VARCHAR NOT NULL, 
	email VARCHAR, 
	phone_number VARCHAR, 
	profile_picture VARCHAR NOT NULL, 
	api_key VARCHAR, 
	PRIMARY KEY (user_id), 
	UNIQUE (username), 
	UNIQUE (email), 
	UNIQUE (api_key)
)


2025-03-23 17:08:57,635 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,653 [INFO] - 
CREATE TABLE subjects (
	subject_id INTEGER NOT NULL, 
	subject_name VARCHAR NOT NULL, 
	PRIMARY KEY (subject_id), 
	UNIQUE (subject_name)
)


2025-03-23 17:08:57,653 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,669 [INFO] - 
CREATE TABLE teacher_positions (
	position_id INTEGER NOT NULL, 
	position_name VARCHAR NOT NULL, 
	PRIMARY KEY (position_id), 
	UNIQUE (position_name)
)


2025-03-23 17:08:57,669 [INFO] - [no key 0.00006s] ()
2025-03-23 17:08:57,673 [INFO] - 
CREATE TABLE admins (
	user_id INTEGER NOT NULL, 
	admin_id INTEGER NOT NULL, 
	PRIMARY KEY (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id), 
	UNIQUE (admin_id)
)


2025-03-23 17:08:57,673 [INFO] - [no key 0.00007s] ()
2025-03-23 17:08:57,677 [INFO] - 
CREATE TABLE teachers (
	user_id INTEGER NOT NULL, 
	teacher_id INTEGER NOT NULL, 
	PRIMARY KEY (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id), 
	UNIQUE (teacher_id)
)


2025-03-23 17:08:57,677 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,680 [INFO] - 
CREATE TABLE classes (
	class_id INTEGER NOT NULL, 
	class_name VARCHAR NOT NULL, 
	teacher_id INTEGER, 
	PRIMARY KEY (class_id), 
	UNIQUE (class_name), 
	FOREIGN KEY(teacher_id) REFERENCES teachers (teacher_id)
)


2025-03-23 17:08:57,680 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,684 [INFO] - 
CREATE TABLE students (
	user_id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	class_id INTEGER NOT NULL, 
	birth_date DATE, 
	address VARCHAR, 
	PRIMARY KEY (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id), 
	UNIQUE (student_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id)
)


2025-03-23 17:08:57,684 [INFO] - [no key 0.00006s] ()
2025-03-23 17:08:57,686 [INFO] - 
CREATE TABLE schedule (
	schedule_id INTEGER NOT NULL, 
	class_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	teacher_id INTEGER NOT NULL, 
	day_of_week VARCHAR NOT NULL, 
	start_time VARCHAR NOT NULL, 
	end_time VARCHAR NOT NULL, 
	PRIMARY KEY (schedule_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id), 
	FOREIGN KEY(teacher_id) REFERENCES teachers (teacher_id)
)


2025-03-23 17:08:57,687 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,689 [INFO] - 
CREATE TABLE homework (
	homework_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	class_id INTEGER NOT NULL, 
	task VARCHAR NOT NULL, 
	due_date DATE NOT NULL, 
	PRIMARY KEY (homework_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id)
)


2025-03-23 17:08:57,689 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,691 [INFO] - 
CREATE TABLE teacher_position_assignments (
	teacher_id INTEGER NOT NULL, 
	position_id INTEGER NOT NULL, 
	class_id INTEGER, 
	subject_id INTEGER, 
	PRIMARY KEY (teacher_id, position_id), 
	FOREIGN KEY(teacher_id) REFERENCES teachers (teacher_id), 
	FOREIGN KEY(position_id) REFERENCES teacher_positions (position_id), 
	FOREIGN KEY(class_id) REFERENCES classes (class_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id)
)


2025-03-23 17:08:57,691 [INFO] - [no key 0.00004s] ()
2025-03-23 17:08:57,695 [INFO] - 
CREATE TABLE grades (
	grade_id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	grade INTEGER NOT NULL, 
	date DATE NOT NULL, 
	PRIMARY KEY (grade_id), 
	FOREIGN KEY(student_id) REFERENCES students (user_id), 
	FOREIGN KEY(subject_id) REFERENCES subjects (subject_id)
)


2025-03-23 17:08:57,695 [INFO] - [no key 0.00007s] ()
2025-03-23 17:08:57,697 [INFO] - 
CREATE TABLE attendance (
	attendance_id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	date DATE NOT NULL, 
	status VARCHAR NOT NULL, 
	PRIMARY KEY (attendance_id), 
	FOREIGN KEY(student_id) REFERENCES students (user_id)
)


2025-03-23 17:08:57,697 [INFO] - [no key 0.00005s] ()
2025-03-23 17:08:57,699 [INFO] - COMMIT
2025-03-23 17:09:07,987 [INFO] - BEGIN (implicit)
2025-03-23 17:09:07,987 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:09:07,987 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:09:07,988 [INFO] - [raw sql] ()
2025-03-23 17:09:07,988 [INFO] - COMMIT
2025-03-23 17:11:22,358 [INFO] - BEGIN (implicit)
2025-03-23 17:11:22,363 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:11:22,363 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:11:22,406 [INFO] - [raw sql] ()
2025-03-23 17:11:22,406 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:11:22,407 [INFO] - [raw sql] ()
2025-03-23 17:11:22,407 [INFO] - COMMIT
2025-03-23 17:12:25,420 [INFO] - BEGIN (implicit)
2025-03-23 17:12:25,432 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:12:25,432 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:12:25,498 [INFO] - [raw sql] ()
2025-03-23 17:12:25,498 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:12:25,499 [INFO] - [raw sql] ()
2025-03-23 17:12:25,499 [INFO] - COMMIT
2025-03-23 17:12:28,520 [INFO] - BEGIN (implicit)
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,520 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:12:28,520 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:12:28,521 [INFO] - [raw sql] ()
2025-03-23 17:12:28,521 [INFO] - COMMIT
2025-03-23 17:12:28,526 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-23 17:54:37,213 [INFO] - BEGIN (implicit)
2025-03-23 17:54:37,229 [INFO] - PRAGMA main.table_info("users")
2025-03-23 17:54:37,229 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("students")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,295 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 17:54:37,295 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 17:54:37,296 [INFO] - [raw sql] ()
2025-03-23 17:54:37,296 [INFO] - COMMIT
2025-03-23 17:54:37,327 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-23 17:54:37,327 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-23 17:54:57,899 [INFO] - BEGIN (implicit)
2025-03-23 17:54:57,901 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:54:57,901 [INFO] - [generated in 0.00017s] ('15',)
2025-03-23 17:54:57,906 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:57] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 17:54:57,964 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:54:58,074 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-23 17:54:59,555 [INFO] - BEGIN (implicit)
2025-03-23 17:54:59,556 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:54:59,556 [INFO] - [cached since 1.655s ago] ('15',)
2025-03-23 17:54:59,560 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:59] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-23 17:54:59,564 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:59] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 17:54:59,627 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:54:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:02,720 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-23 17:55:02,751 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:04,603 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:04] "GET / HTTP/1.1" 200 -
2025-03-23 17:55:06,292 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:06] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:06,329 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:07,829 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:07] "GET /student/login HTTP/1.1" 200 -
2025-03-23 17:55:07,877 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:26,744 [INFO] - BEGIN (implicit)
2025-03-23 17:55:26,749 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-23 17:55:26,749 [INFO] - [generated in 0.00048s] ('user15', 1, 0)
2025-03-23 17:55:26,829 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:26] "[32mPOST /student/login HTTP/1.1[0m" 302 -
2025-03-23 17:55:26,834 [INFO] - BEGIN (implicit)
2025-03-23 17:55:26,834 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:26,834 [INFO] - [cached since 28.93s ago] ('15',)
2025-03-23 17:55:26,840 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:26] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:26,899 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:44,095 [INFO] - BEGIN (implicit)
2025-03-23 17:55:44,097 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:44,097 [INFO] - [cached since 46.2s ago] ('15',)
2025-03-23 17:55:44,102 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:44] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:44,154 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:44,974 [INFO] - BEGIN (implicit)
2025-03-23 17:55:44,975 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:44,975 [INFO] - [cached since 47.07s ago] ('15',)
2025-03-23 17:55:44,976 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:44] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,034 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:45,321 [INFO] - BEGIN (implicit)
2025-03-23 17:55:45,322 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:45,322 [INFO] - [cached since 47.42s ago] ('15',)
2025-03-23 17:55:45,322 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,375 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:45,634 [INFO] - BEGIN (implicit)
2025-03-23 17:55:45,635 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:45,635 [INFO] - [cached since 47.73s ago] ('15',)
2025-03-23 17:55:45,636 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,684 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:45,934 [INFO] - BEGIN (implicit)
2025-03-23 17:55:45,935 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:45,935 [INFO] - [cached since 48.03s ago] ('15',)
2025-03-23 17:55:45,936 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:45,994 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:46,206 [INFO] - BEGIN (implicit)
2025-03-23 17:55:46,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:46,206 [INFO] - [cached since 48.31s ago] ('15',)
2025-03-23 17:55:46,207 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:46] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:46,262 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:59,303 [INFO] - BEGIN (implicit)
2025-03-23 17:55:59,303 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:59,303 [INFO] - [cached since 61.4s ago] ('15',)
2025-03-23 17:55:59,305 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:59,361 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:55:59,919 [INFO] - BEGIN (implicit)
2025-03-23 17:55:59,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:55:59,920 [INFO] - [cached since 62.02s ago] ('15',)
2025-03-23 17:55:59,925 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:55:59,977 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:55:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:00,263 [INFO] - BEGIN (implicit)
2025-03-23 17:56:00,263 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:00,263 [INFO] - [cached since 62.36s ago] ('15',)
2025-03-23 17:56:00,264 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:00,323 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:00,544 [INFO] - BEGIN (implicit)
2025-03-23 17:56:00,545 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:00,545 [INFO] - [cached since 62.64s ago] ('15',)
2025-03-23 17:56:00,546 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:00,603 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:00,800 [INFO] - BEGIN (implicit)
2025-03-23 17:56:00,800 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:00,800 [INFO] - [cached since 62.9s ago] ('15',)
2025-03-23 17:56:00,801 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:00,860 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,055 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,055 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,055 [INFO] - [cached since 63.15s ago] ('15',)
2025-03-23 17:56:01,056 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,111 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,309 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,309 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,310 [INFO] - [cached since 63.41s ago] ('15',)
2025-03-23 17:56:01,310 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,369 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,565 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,566 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,566 [INFO] - [cached since 63.67s ago] ('15',)
2025-03-23 17:56:01,567 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,625 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:01,807 [INFO] - BEGIN (implicit)
2025-03-23 17:56:01,808 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:01,808 [INFO] - [cached since 63.91s ago] ('15',)
2025-03-23 17:56:01,809 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:01,865 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,017 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,017 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,017 [INFO] - [cached since 64.12s ago] ('15',)
2025-03-23 17:56:02,019 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,076 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,226 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,227 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,227 [INFO] - [cached since 64.33s ago] ('15',)
2025-03-23 17:56:02,228 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,290 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,419 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,420 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,420 [INFO] - [cached since 64.52s ago] ('15',)
2025-03-23 17:56:02,421 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,481 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,629 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,629 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,629 [INFO] - [cached since 64.73s ago] ('15',)
2025-03-23 17:56:02,630 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:02,692 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:02,961 [INFO] - BEGIN (implicit)
2025-03-23 17:56:02,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:02,961 [INFO] - [cached since 65.06s ago] ('15',)
2025-03-23 17:56:02,962 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:02] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,019 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,141 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,142 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,142 [INFO] - [cached since 65.24s ago] ('15',)
2025-03-23 17:56:03,143 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,207 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,305 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,305 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,305 [INFO] - [cached since 65.4s ago] ('15',)
2025-03-23 17:56:03,306 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,362 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,485 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,485 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,485 [INFO] - [cached since 65.58s ago] ('15',)
2025-03-23 17:56:03,486 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,546 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,652 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,652 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,652 [INFO] - [cached since 65.75s ago] ('15',)
2025-03-23 17:56:03,653 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,712 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:03,830 [INFO] - BEGIN (implicit)
2025-03-23 17:56:03,831 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:03,831 [INFO] - [cached since 65.93s ago] ('15',)
2025-03-23 17:56:03,832 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:03,894 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,027 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,027 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,027 [INFO] - [cached since 66.13s ago] ('15',)
2025-03-23 17:56:04,028 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,083 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,403 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,404 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,404 [INFO] - [cached since 66.5s ago] ('15',)
2025-03-23 17:56:04,404 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,462 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,550 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,550 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,550 [INFO] - [cached since 66.65s ago] ('15',)
2025-03-23 17:56:04,551 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,611 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,715 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,716 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,716 [INFO] - [cached since 66.82s ago] ('15',)
2025-03-23 17:56:04,717 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,779 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:04,864 [INFO] - BEGIN (implicit)
2025-03-23 17:56:04,865 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:04,865 [INFO] - [cached since 66.96s ago] ('15',)
2025-03-23 17:56:04,866 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:04,923 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 17:56:05,045 [INFO] - BEGIN (implicit)
2025-03-23 17:56:05,046 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-23 17:56:05,046 [INFO] - [cached since 67.15s ago] ('15',)
2025-03-23 17:56:05,047 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:05] "GET /student/ HTTP/1.1" 200 -
2025-03-23 17:56:05,087 [INFO] - 127.0.0.1 - - [23/Mar/2025 17:56:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-23 20:58:25,206 [INFO] - BEGIN (implicit)
2025-03-23 20:58:25,210 [INFO] - PRAGMA main.table_info("users")
2025-03-23 20:58:25,210 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("students")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("schedule")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("grades")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("admins")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("attendance")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("classes")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("homework")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,240 [INFO] - PRAGMA main.table_info("subjects")
2025-03-23 20:58:25,240 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - PRAGMA main.table_info("teachers")
2025-03-23 20:58:25,241 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-23 20:58:25,241 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-23 20:58:25,241 [INFO] - [raw sql] ()
2025-03-23 20:58:25,241 [INFO] - COMMIT
2025-03-23 20:58:25,272 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-23 20:58:25,272 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-23 20:58:58,194 [INFO] - 127.0.0.1 - - [23/Mar/2025 20:58:58] "[33mGET /api/admin/student/3012 HTTP/1.1[0m" 404 -
2025-03-23 20:59:00,430 [INFO] - 127.0.0.1 - - [23/Mar/2025 20:59:00] "[33mGET /api/admin/student/3012 HTTP/1.1[0m" 404 -
2025-03-23 20:59:00,998 [INFO] - 127.0.0.1 - - [23/Mar/2025 20:59:00] "[33mGET /api/admin/student/3012 HTTP/1.1[0m" 404 -
2025-03-24 15:54:03,799 [INFO] - BEGIN (implicit)
2025-03-24 15:54:03,812 [INFO] - PRAGMA main.table_info("users")
2025-03-24 15:54:03,812 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("students")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,824 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 15:54:03,824 [INFO] - [raw sql] ()
2025-03-24 15:54:03,825 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 15:54:03,825 [INFO] - [raw sql] ()
2025-03-24 15:54:03,825 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 15:54:03,825 [INFO] - [raw sql] ()
2025-03-24 15:54:03,825 [INFO] - COMMIT
2025-03-24 15:54:03,845 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 15:54:03,845 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 15:55:48,156 [INFO] - BEGIN (implicit)
2025-03-24 15:55:48,158 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 15:55:48,158 [INFO] - [generated in 0.00016s] ('your_api_key_here', 1, 0)
2025-03-24 15:55:48,178 [INFO] - ROLLBACK
2025-03-24 15:55:48,178 [ERROR] - PATCH /api/admin/student/3000 - Invalid or missing API key, IP: 127.0.0.1
2025-03-24 15:55:48,179 [INFO] - 127.0.0.1 - - [24/Mar/2025 15:55:48] "[31m[1mPATCH /api/admin/students/3000 HTTP/1.1[0m" 401 -
2025-03-24 15:58:03,965 [INFO] - BEGIN (implicit)
2025-03-24 15:58:03,966 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 15:58:03,966 [INFO] - [cached since 135.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 15:58:03,968 [INFO] - ROLLBACK
2025-03-24 15:58:03,968 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 15:58:03,968 [INFO] - BEGIN (implicit)
2025-03-24 15:58:03,968 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 15:58:03,968 [INFO] - [cached since 135.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 15:58:03,968 [INFO] - ROLLBACK
2025-03-24 15:58:03,969 [INFO] - BEGIN (implicit)
2025-03-24 15:58:03,971 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 15:58:03,972 [INFO] - [generated in 0.00011s] (3000, 1, 0)
2025-03-24 15:58:04,034 [INFO] - UPDATE users SET first_name=?, last_name=? WHERE users.user_id = ?
2025-03-24 15:58:04,034 [INFO] - [generated in 0.00011s] ('Иван', 'Иванов', 6)
2025-03-24 15:58:04,057 [INFO] - ROLLBACK
2025-03-24 15:58:04,058 [ERROR] - PATCH /api/admin/student/3000 - Error: (builtins.TypeError) SQLite Date type only accepts Python date objects as input.
[SQL: UPDATE students SET birth_date=? WHERE students.user_id = ?]
[parameters: [{'birth_date': '2005-05-15', 'students_user_id': 6}]]
2025-03-24 15:58:04,058 [ERROR] - Exception on /api/admin/students/3000 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1454, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/sqlite/base.py", line 1142, in process
    raise TypeError(
TypeError: SQLite Date type only accepts Python date objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 208, in patch
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1825, in _execute_context
    self._handle_dbapi_exception(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1454, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/sqlite/base.py", line 1142, in process
    raise TypeError(
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite Date type only accepts Python date objects as input.
[SQL: UPDATE students SET birth_date=? WHERE students.user_id = ?]
[parameters: [{'birth_date': '2005-05-15', 'students_user_id': 6}]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 221, in patch
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 15:58:04,371 [INFO] - 127.0.0.1 - - [24/Mar/2025 15:58:04] "[35m[1mPATCH /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 16:00:15,166 [INFO] - BEGIN (implicit)
2025-03-24 16:00:15,166 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:00:15,166 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:00:15,189 [INFO] - [raw sql] ()
2025-03-24 16:00:15,189 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:00:15,190 [INFO] - [raw sql] ()
2025-03-24 16:00:15,190 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:00:15,190 [INFO] - [raw sql] ()
2025-03-24 16:00:15,190 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:00:15,190 [INFO] - [raw sql] ()
2025-03-24 16:00:15,190 [INFO] - COMMIT
2025-03-24 16:00:15,235 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 16:00:15,235 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 16:00:17,208 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,209 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:00:17,209 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:00:17,290 [INFO] - ROLLBACK
2025-03-24 16:00:17,290 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:00:17,290 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,290 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:00:17,290 [INFO] - [cached since 0.08083s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:00:17,290 [INFO] - ROLLBACK
2025-03-24 16:00:17,291 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,292 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 16:00:17,292 [INFO] - [generated in 0.00009s] (3000, 1, 0)
2025-03-24 16:00:17,351 [INFO] - UPDATE users SET first_name=?, last_name=? WHERE users.user_id = ?
2025-03-24 16:00:17,351 [INFO] - [generated in 0.00010s] ('Иван', 'Иванов', 6)
2025-03-24 16:00:17,352 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 16:00:17,352 [INFO] - [generated in 0.00007s] ('2005-05-15', 6)
2025-03-24 16:00:17,352 [INFO] - COMMIT
2025-03-24 16:00:17,403 [INFO] - PATCH /api/admin/student/3000 - Updated by user user2
2025-03-24 16:00:17,403 [INFO] - BEGIN (implicit)
2025-03-24 16:00:17,405 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 16:00:17,405 [INFO] - [generated in 0.00009s] (6,)
2025-03-24 16:00:17,405 [INFO] - ROLLBACK
2025-03-24 16:00:17,406 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:00:17] "PATCH /api/admin/students/3000 HTTP/1.1" 200 -
2025-03-24 16:01:20,801 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,803 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:01:20,803 [INFO] - [cached since 63.59s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:01:20,804 [INFO] - ROLLBACK
2025-03-24 16:01:20,804 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:01:20,804 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,804 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:01:20,804 [INFO] - [cached since 63.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:01:20,804 [INFO] - ROLLBACK
2025-03-24 16:01:20,804 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,805 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 16:01:20,805 [INFO] - [cached since 63.51s ago] (3000, 1, 0)
2025-03-24 16:01:20,806 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 16:01:20,806 [INFO] - [cached since 63.46s ago] ('2010-05-15', 6)
2025-03-24 16:01:20,807 [INFO] - COMMIT
2025-03-24 16:01:20,810 [INFO] - PATCH /api/admin/student/3000 - Updated by user user2
2025-03-24 16:01:20,810 [INFO] - BEGIN (implicit)
2025-03-24 16:01:20,810 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 16:01:20,810 [INFO] - [cached since 63.41s ago] (6,)
2025-03-24 16:01:20,810 [INFO] - ROLLBACK
2025-03-24 16:01:20,811 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:01:20] "PATCH /api/admin/students/3000 HTTP/1.1" 200 -
2025-03-24 16:25:45,154 [INFO] - BEGIN (implicit)
2025-03-24 16:25:45,154 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:25:45,154 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,155 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:25:45,155 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:25:45,156 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:25:45,156 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:25:45,156 [INFO] - [raw sql] ()
2025-03-24 16:25:45,156 [INFO] - COMMIT
2025-03-24 16:25:45,173 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 16:25:45,173 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 16:25:47,413 [INFO] - BEGIN (implicit)
2025-03-24 16:25:47,414 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:25:47,414 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:25:47,439 [INFO] - ROLLBACK
2025-03-24 16:25:47,439 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:25:47,439 [INFO] - BEGIN (implicit)
2025-03-24 16:25:47,440 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:25:47,440 [INFO] - [cached since 0.02547s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:25:47,440 [INFO] - ROLLBACK
2025-03-24 16:25:47,440 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:25:47,440 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:25:47,458 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:25:47] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:26:06,173 [INFO] - BEGIN (implicit)
2025-03-24 16:26:06,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:26:06,173 [INFO] - [cached since 18.76s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:26:06,174 [INFO] - ROLLBACK
2025-03-24 16:26:06,174 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:26:06,174 [INFO] - BEGIN (implicit)
2025-03-24 16:26:06,174 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:26:06,174 [INFO] - [cached since 18.76s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:26:06,174 [INFO] - ROLLBACK
2025-03-24 16:26:06,174 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:26:06,175 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:26:06,175 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:26:06] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:30:47,471 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:30:47] "GET /student/ HTTP/1.1" 200 -
2025-03-24 16:30:47,583 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:30:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-24 16:35:00,978 [INFO] - BEGIN (implicit)
2025-03-24 16:35:00,987 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:35:00,988 [INFO] - [cached since 553.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:35:01,041 [INFO] - ROLLBACK
2025-03-24 16:35:01,041 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:35:01,041 [INFO] - BEGIN (implicit)
2025-03-24 16:35:01,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:35:01,042 [INFO] - [cached since 553.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:35:01,042 [INFO] - ROLLBACK
2025-03-24 16:35:01,042 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:35:01,043 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    db_sess.close()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:35:01,044 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:35:01] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:37:32,867 [INFO] - BEGIN (implicit)
2025-03-24 16:37:32,878 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:32,878 [INFO] - [cached since 705.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:32,896 [INFO] - ROLLBACK
2025-03-24 16:37:32,896 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:37:32,897 [INFO] - BEGIN (implicit)
2025-03-24 16:37:32,897 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:32,897 [INFO] - [cached since 705.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:32,897 [INFO] - ROLLBACK
2025-03-24 16:37:32,897 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 16:37:32,904 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 248, in post
    args = one_student_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    db_sess.close()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:37:32,908 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:37:32] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:37:40,941 [INFO] - BEGIN (implicit)
2025-03-24 16:37:40,941 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:37:40,941 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:37:40,965 [INFO] - [raw sql] ()
2025-03-24 16:37:40,965 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:37:40,966 [INFO] - [raw sql] ()
2025-03-24 16:37:40,966 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:37:40,966 [INFO] - [raw sql] ()
2025-03-24 16:37:40,966 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:37:40,966 [INFO] - [raw sql] ()
2025-03-24 16:37:40,966 [INFO] - COMMIT
2025-03-24 16:37:40,985 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 16:37:40,985 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 16:37:43,059 [INFO] - BEGIN (implicit)
2025-03-24 16:37:43,060 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,060 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:43,129 [INFO] - ROLLBACK
2025-03-24 16:37:43,129 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 16:37:43,129 [INFO] - BEGIN (implicit)
2025-03-24 16:37:43,129 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,129 [INFO] - [cached since 0.06915s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 16:37:43,129 [INFO] - ROLLBACK
2025-03-24 16:37:43,129 [INFO] - BEGIN (implicit)
2025-03-24 16:37:43,130 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,130 [INFO] - [generated in 0.00007s] ('user71', 1, 0)
2025-03-24 16:37:43,130 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 16:37:43,130 [INFO] - [generated in 0.00006s] ('ivanov_23@example.com', 1, 0)
2025-03-24 16:37:43,207 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 16:37:43,207 [INFO] - [generated in 0.00014s] ('user71', 'scrypt:32768:8:1$wxHP4VvXkrix3jAx$479fded689ae0d00dd51b8bf7d112fd00858b0462a3bcc579b1d719c64b47149e8d7214199c20cfc9ddc9cd357806da97c83e793426ec7888772a744d3e56d7e', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 16:37:43,222 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 16:37:43,222 [INFO] - [generated in 0.00010s] (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 16:37:43,222 [INFO] - ROLLBACK
2025-03-24 16:37:43,223 [ERROR] - POST /api/admin/students - Error: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-24 16:37:43,223 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: students.student_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 292, in post
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1850, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1990, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 312, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 16:37:43,321 [INFO] - 127.0.0.1 - - [24/Mar/2025 16:37:43] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 16:43:34,211 [INFO] - BEGIN (implicit)
2025-03-24 16:43:34,212 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:43:34,212 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,243 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:43:34,243 [INFO] - [raw sql] ()
2025-03-24 16:43:34,244 [INFO] - COMMIT
2025-03-24 16:43:36,387 [INFO] - BEGIN (implicit)
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,387 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:43:36,387 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:43:36,388 [INFO] - [raw sql] ()
2025-03-24 16:43:36,388 [INFO] - COMMIT
2025-03-24 16:43:36,391 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-24 16:43:59,964 [INFO] - BEGIN (implicit)
2025-03-24 16:43:59,964 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:43:59,964 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,969 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:43:59,969 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:43:59,970 [INFO] - [raw sql] ()
2025-03-24 16:43:59,970 [INFO] - COMMIT
2025-03-24 16:44:14,062 [INFO] - BEGIN (implicit)
2025-03-24 16:44:14,062 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:44:14,062 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,063 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:44:14,063 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:44:14,064 [INFO] - [raw sql] ()
2025-03-24 16:44:14,064 [INFO] - COMMIT
2025-03-24 16:44:14,067 [ERROR] - Error: Directory migrations already exists and is not empty
2025-03-24 16:48:30,681 [INFO] - BEGIN (implicit)
2025-03-24 16:48:30,688 [INFO] - PRAGMA main.table_info("users")
2025-03-24 16:48:30,688 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("students")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,705 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 16:48:30,705 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 16:48:30,706 [INFO] - [raw sql] ()
2025-03-24 16:48:30,706 [INFO] - COMMIT
2025-03-24 17:01:07,428 [INFO] - BEGIN (implicit)
2025-03-24 17:01:07,449 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,450 [INFO] - [cached since 1404s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:07,480 [INFO] - ROLLBACK
2025-03-24 17:01:07,480 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:07,480 [INFO] - BEGIN (implicit)
2025-03-24 17:01:07,480 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,480 [INFO] - [cached since 1404s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:07,480 [INFO] - ROLLBACK
2025-03-24 17:01:07,481 [INFO] - BEGIN (implicit)
2025-03-24 17:01:07,481 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,481 [INFO] - [cached since 1404s ago] ('user71', 1, 0)
2025-03-24 17:01:07,481 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:07,481 [INFO] - [cached since 1404s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:01:07,557 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:01:07,557 [INFO] - [cached since 1404s ago] ('user71', 'scrypt:32768:8:1$sjsBiBPDEcHuHdWF$27f82d6357e9ad9e15a28c675faddf5065be560ad3511e7ff3f1c0c286eb2d1c8fa47546dcc270cedf30eb191759e1c0726420726593e43f8a37008c00f7c89d', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:01:07,561 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:01:07,561 [INFO] - [cached since 1404s ago] (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:01:07,562 [INFO] - ROLLBACK
2025-03-24 17:01:07,563 [ERROR] - POST /api/admin/students - Error: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-24 17:01:07,577 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: students.student_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 292, in post
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1422, in execute
    return meth(
           ^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1850, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1990, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: students.student_id
[SQL: INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)]
[parameters: (71, None, '1', '2010-05-15', 'ул. Ленина, д. 10')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 312, in post
    db_sess.rollback()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:01:07,579 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:07] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:01:15,198 [INFO] - BEGIN (implicit)
2025-03-24 17:01:15,198 [INFO] - PRAGMA main.table_info("users")
2025-03-24 17:01:15,198 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("students")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,215 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 17:01:15,215 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 17:01:15,216 [INFO] - [raw sql] ()
2025-03-24 17:01:15,216 [INFO] - COMMIT
2025-03-24 17:01:15,235 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 17:01:15,235 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 17:01:17,608 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,609 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,609 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:17,679 [INFO] - ROLLBACK
2025-03-24 17:01:17,679 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:17,679 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,679 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,679 [INFO] - [cached since 0.07023s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:17,679 [INFO] - ROLLBACK
2025-03-24 17:01:17,680 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,680 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,680 [INFO] - [generated in 0.00008s] ('user71', 1, 0)
2025-03-24 17:01:17,681 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:17,681 [INFO] - [generated in 0.00006s] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:01:17,765 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:01:17,765 [INFO] - [generated in 0.00016s] ('user71', 'scrypt:32768:8:1$xwFdyubmNH82xQ8N$ec358a69d5db3ba15237415cd5b4ced08b38aec69e944077cbfda7fca5a39d8dd86883a09c557c8985eb931506df42945cbd48f27f1a141ef8a08ac3932152d2', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:01:17,794 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:01:17,795 [INFO] - [generated in 0.00009s] ()
2025-03-24 17:01:17,802 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:01:17,802 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:01:17,838 [INFO] - COMMIT
2025-03-24 17:01:17,852 [INFO] - BEGIN (implicit)
2025-03-24 17:01:17,853 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:01:17,853 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 17:01:17,853 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:01:17,854 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:01:17,854 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 17:01:17,854 [INFO] - ROLLBACK
2025-03-24 17:01:17,854 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:01:17,875 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:17] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:01:25,919 [INFO] - BEGIN (implicit)
2025-03-24 17:01:25,919 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:25,919 [INFO] - [cached since 8.31s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:25,919 [INFO] - ROLLBACK
2025-03-24 17:01:25,919 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:25,919 [INFO] - BEGIN (implicit)
2025-03-24 17:01:25,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:25,920 [INFO] - [cached since 8.311s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:25,920 [INFO] - ROLLBACK
2025-03-24 17:01:25,920 [INFO] - BEGIN (implicit)
2025-03-24 17:01:25,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:25,920 [INFO] - [cached since 8.24s ago] ('user71', 1, 0)
2025-03-24 17:01:25,920 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:01:25,920 [INFO] - ROLLBACK
2025-03-24 17:01:25,920 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:01:25,920 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:01:25,986 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:25] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:01:34,355 [INFO] - BEGIN (implicit)
2025-03-24 17:01:34,356 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:34,356 [INFO] - [cached since 16.75s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:34,357 [INFO] - ROLLBACK
2025-03-24 17:01:34,357 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:01:34,357 [INFO] - BEGIN (implicit)
2025-03-24 17:01:34,357 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:34,357 [INFO] - [cached since 16.75s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:01:34,357 [INFO] - ROLLBACK
2025-03-24 17:01:34,358 [INFO] - BEGIN (implicit)
2025-03-24 17:01:34,358 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:01:34,358 [INFO] - [cached since 16.68s ago] ('user71', 1, 0)
2025-03-24 17:01:34,358 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:01:34,358 [INFO] - ROLLBACK
2025-03-24 17:01:34,358 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:01:34,358 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:01:34,359 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:01:34] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:09:11,047 [INFO] - BEGIN (implicit)
2025-03-24 17:09:11,048 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:09:11,048 [INFO] - [cached since 473.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:09:11,060 [INFO] - ROLLBACK
2025-03-24 17:09:11,060 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:09:11,060 [INFO] - BEGIN (implicit)
2025-03-24 17:09:11,061 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:09:11,061 [INFO] - [cached since 473.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:09:11,061 [INFO] - ROLLBACK
2025-03-24 17:09:11,061 [INFO] - BEGIN (implicit)
2025-03-24 17:09:11,061 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:09:11,061 [INFO] - [cached since 473.4s ago] ('user71', 1, 0)
2025-03-24 17:09:11,061 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:09:11,062 [INFO] - ROLLBACK
2025-03-24 17:09:11,062 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:09:11,062 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:09:11,063 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:09:11] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:10:57,737 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,738 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,738 [INFO] - [cached since 580.1s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:10:57,769 [INFO] - ROLLBACK
2025-03-24 17:10:57,769 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:10:57,769 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,769 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,769 [INFO] - [cached since 580.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:10:57,770 [INFO] - ROLLBACK
2025-03-24 17:10:57,770 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,770 [INFO] - [cached since 580.1s ago] ('user71', 1, 0)
2025-03-24 17:10:57,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:10:57,770 [INFO] - [cached since 580.1s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:10:57,842 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:10:57,843 [INFO] - [cached since 580.1s ago] ('user71', 'scrypt:32768:8:1$TD5LHrKphn3k1a4b$ff08d10915aa7bda23ef3e142ea4adb4c9b9b07dc60c355c073f00eb6387ed6bd7dbcd3aecdffa9448ac75b596b6adaa2403e07604c736d8676fe76035548014', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:10:57,849 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:10:57,849 [INFO] - [cached since 580.1s ago] ()
2025-03-24 17:10:57,850 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:10:57,850 [INFO] - [cached since 580.1s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:10:57,851 [INFO] - COMMIT
2025-03-24 17:10:57,859 [INFO] - BEGIN (implicit)
2025-03-24 17:10:57,859 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:10:57,859 [INFO] - [cached since 580s ago] (71,)
2025-03-24 17:10:57,860 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:10:57,860 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:10:57,860 [INFO] - [cached since 580s ago] (71,)
2025-03-24 17:10:57,860 [INFO] - ROLLBACK
2025-03-24 17:10:57,860 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:10:57,861 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:10:57] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:11:01,788 [INFO] - BEGIN (implicit)
2025-03-24 17:11:01,788 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:11:01,788 [INFO] - [cached since 584.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:11:01,789 [INFO] - ROLLBACK
2025-03-24 17:11:01,789 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:11:01,790 [INFO] - BEGIN (implicit)
2025-03-24 17:11:01,790 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:11:01,790 [INFO] - [cached since 584.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:11:01,790 [INFO] - ROLLBACK
2025-03-24 17:11:01,790 [INFO] - BEGIN (implicit)
2025-03-24 17:11:01,790 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:11:01,790 [INFO] - [cached since 584.1s ago] ('user71', 1, 0)
2025-03-24 17:11:01,790 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 17:11:01,790 [INFO] - ROLLBACK
2025-03-24 17:11:01,790 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 17:11:01,791 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 254, in post
    abort(400, message=f"Пользователь с именем {args['username']} уже существует.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 314, in post
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:11:01,791 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:11:01] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:12:44,583 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,584 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,584 [INFO] - [cached since 687s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:12:44,614 [INFO] - ROLLBACK
2025-03-24 17:12:44,614 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:12:44,615 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,615 [INFO] - [cached since 687s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:12:44,615 [INFO] - ROLLBACK
2025-03-24 17:12:44,615 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,615 [INFO] - [cached since 686.9s ago] ('user71', 1, 0)
2025-03-24 17:12:44,616 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:12:44,616 [INFO] - [cached since 686.9s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:12:44,691 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:12:44,691 [INFO] - [cached since 686.9s ago] ('user71', 'scrypt:32768:8:1$VvSTFwe0dsCOJ4ke$fa04aec28887123e3530c9272b7e048656766105d387cd96aec122eca0da5e7e19e1ae6f9145011d45835e18d30d57ebcb55f344c60830e094d86b916bdd987d', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:12:44,692 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:12:44,692 [INFO] - [cached since 686.9s ago] ()
2025-03-24 17:12:44,692 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:12:44,692 [INFO] - [cached since 686.9s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:12:44,693 [INFO] - COMMIT
2025-03-24 17:12:44,698 [INFO] - BEGIN (implicit)
2025-03-24 17:12:44,698 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:12:44,698 [INFO] - [cached since 686.9s ago] (71,)
2025-03-24 17:12:44,699 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:12:44,699 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:12:44,699 [INFO] - [cached since 686.9s ago] (71,)
2025-03-24 17:12:44,699 [INFO] - ROLLBACK
2025-03-24 17:12:44,699 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:12:44,700 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:12:44] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:14:47,218 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,220 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,220 [INFO] - [cached since 809.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:14:47,249 [INFO] - ROLLBACK
2025-03-24 17:14:47,249 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:14:47,249 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,249 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,249 [INFO] - [cached since 809.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:14:47,249 [INFO] - ROLLBACK
2025-03-24 17:14:47,250 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,250 [INFO] - [cached since 809.6s ago] ('user71', 1, 0)
2025-03-24 17:14:47,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:14:47,250 [INFO] - [cached since 809.6s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:14:47,324 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:14:47,324 [INFO] - [cached since 809.6s ago] ('user71', 'scrypt:32768:8:1$ZTdyMqPFI9OljWOH$0457ffa4d9a06ce221e8508b889511fa2b06be70396ecbaa80bd34429a15ec1982ebe60c758401bba2353022dba47804060437b30859bae9f7684e0fb86f32d9', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:14:47,336 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:14:47,336 [INFO] - [cached since 809.5s ago] ()
2025-03-24 17:14:47,338 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:14:47,338 [INFO] - [cached since 809.5s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:14:47,338 [INFO] - COMMIT
2025-03-24 17:14:47,345 [INFO] - BEGIN (implicit)
2025-03-24 17:14:47,345 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:14:47,345 [INFO] - [cached since 809.5s ago] (71,)
2025-03-24 17:14:47,345 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:14:47,345 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:14:47,345 [INFO] - [cached since 809.5s ago] (71,)
2025-03-24 17:14:47,345 [INFO] - ROLLBACK
2025-03-24 17:14:47,346 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:14:47,346 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:14:47] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:17:46,872 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,873 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,873 [INFO] - [cached since 989.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:17:46,874 [INFO] - ROLLBACK
2025-03-24 17:17:46,874 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:17:46,874 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,875 [INFO] - [cached since 989.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:17:46,875 [INFO] - ROLLBACK
2025-03-24 17:17:46,875 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,875 [INFO] - [cached since 989.2s ago] ('user71', 1, 0)
2025-03-24 17:17:46,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:17:46,875 [INFO] - [cached since 989.2s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:17:46,948 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:17:46,948 [INFO] - [cached since 989.2s ago] ('user71', 'scrypt:32768:8:1$014VseO6oct56pcT$044dfa3699a759e368105fbbc48f5083ae9d679184744e8963d8c3474e9192c05f4bd13867174bac9cf369a25fb405e6f52c34a2b8988765bb34117139128af2', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:17:46,949 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:17:46,949 [INFO] - [cached since 989.2s ago] ()
2025-03-24 17:17:46,949 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:17:46,949 [INFO] - [cached since 989.2s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:17:46,950 [INFO] - COMMIT
2025-03-24 17:17:46,955 [INFO] - BEGIN (implicit)
2025-03-24 17:17:46,955 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:17:46,955 [INFO] - [cached since 989.1s ago] (71,)
2025-03-24 17:17:46,955 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:17:46,955 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:17:46,955 [INFO] - [cached since 989.1s ago] (71,)
2025-03-24 17:17:46,955 [INFO] - ROLLBACK
2025-03-24 17:17:46,956 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:17:46,956 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:17:46] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:19:24,530 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,531 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,531 [INFO] - [cached since 1087s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:19:24,587 [INFO] - ROLLBACK
2025-03-24 17:19:24,587 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:19:24,587 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,587 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,587 [INFO] - [cached since 1087s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:19:24,588 [INFO] - ROLLBACK
2025-03-24 17:19:24,588 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,588 [INFO] - [cached since 1087s ago] ('user71', 1, 0)
2025-03-24 17:19:24,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 17:19:24,588 [INFO] - [cached since 1087s ago] ('ivanov_23@example.com', 1, 0)
2025-03-24 17:19:24,662 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 17:19:24,662 [INFO] - [cached since 1087s ago] ('user71', 'scrypt:32768:8:1$122dfmiFIwBHbCeb$5cdd175e36cfe9030c23aa755b3aec0934af0e462d8d778b7714503a60ab728cfea5f9aca9f4162a947724890ea09d980d164219f6f93f4085c9cb3de01ca942', 'Иван', 'Иванов', 'ivanov_23@example.com', '+79991234567', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 17:19:24,670 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 17:19:24,670 [INFO] - [cached since 1087s ago] ()
2025-03-24 17:19:24,670 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 17:19:24,670 [INFO] - [cached since 1087s ago] (71, 3050, '1', '2010-05-15', 'ул. Ленина, д. 10')
2025-03-24 17:19:24,705 [INFO] - COMMIT
2025-03-24 17:19:24,710 [INFO] - BEGIN (implicit)
2025-03-24 17:19:24,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 17:19:24,711 [INFO] - [cached since 1087s ago] (71,)
2025-03-24 17:19:24,711 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 17:19:24,711 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 17:19:24,711 [INFO] - [cached since 1087s ago] (71,)
2025-03-24 17:19:24,711 [INFO] - ROLLBACK
2025-03-24 17:19:24,711 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:19:24,712 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:19:24] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 17:25:07,428 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:25:07] "[33mGET /api/admin/student/1 HTTP/1.1[0m" 404 -
2025-03-24 17:25:36,476 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:25:36] "[33mGET /api/admin/student/3000 HTTP/1.1[0m" 404 -
2025-03-24 17:28:16,518 [INFO] - BEGIN (implicit)
2025-03-24 17:28:16,547 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:16,547 [INFO] - [cached since 1619s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:16,622 [INFO] - ROLLBACK
2025-03-24 17:28:16,622 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:28:16,622 [INFO] - BEGIN (implicit)
2025-03-24 17:28:16,622 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:16,622 [INFO] - [cached since 1619s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:16,623 [INFO] - ROLLBACK
2025-03-24 17:28:16,623 [INFO] - BEGIN (implicit)
2025-03-24 17:28:16,627 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:28:16,628 [INFO] - [generated in 0.00013s] (3000, 1, 0)
2025-03-24 17:28:16,703 [INFO] - ROLLBACK
2025-03-24 17:28:16,703 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:28:16,704 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:28:16] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:28:42,678 [INFO] - BEGIN (implicit)
2025-03-24 17:28:42,680 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:42,680 [INFO] - [cached since 1645s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:42,682 [INFO] - ROLLBACK
2025-03-24 17:28:42,682 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:28:42,682 [INFO] - BEGIN (implicit)
2025-03-24 17:28:42,682 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:28:42,682 [INFO] - [cached since 1645s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:28:42,682 [INFO] - ROLLBACK
2025-03-24 17:28:42,683 [INFO] - BEGIN (implicit)
2025-03-24 17:28:42,683 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:28:42,683 [INFO] - [cached since 26.06s ago] (3000, 1, 0)
2025-03-24 17:28:42,685 [INFO] - ROLLBACK
2025-03-24 17:28:42,685 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:28:42,686 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:28:42] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:40:00,289 [INFO] - BEGIN (implicit)
2025-03-24 17:40:00,299 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:00,299 [INFO] - [cached since 2323s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:00,341 [INFO] - ROLLBACK
2025-03-24 17:40:00,341 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:40:00,341 [INFO] - BEGIN (implicit)
2025-03-24 17:40:00,342 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:00,342 [INFO] - [cached since 2323s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:00,342 [INFO] - ROLLBACK
2025-03-24 17:40:00,342 [INFO] - BEGIN (implicit)
2025-03-24 17:40:00,342 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:40:00,342 [INFO] - [cached since 703.7s ago] (3000, 1, 0)
2025-03-24 17:40:00,375 [INFO] - ROLLBACK
2025-03-24 17:40:00,375 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:40:00,377 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:40:00] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:40:15,916 [INFO] - BEGIN (implicit)
2025-03-24 17:40:15,916 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:15,916 [INFO] - [cached since 2338s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:15,918 [INFO] - ROLLBACK
2025-03-24 17:40:15,918 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:40:15,918 [INFO] - BEGIN (implicit)
2025-03-24 17:40:15,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:40:15,918 [INFO] - [cached since 2338s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:40:15,918 [INFO] - ROLLBACK
2025-03-24 17:40:15,918 [INFO] - BEGIN (implicit)
2025-03-24 17:40:15,918 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:40:15,918 [INFO] - [cached since 719.3s ago] (3000, 1, 0)
2025-03-24 17:40:15,920 [INFO] - ROLLBACK
2025-03-24 17:40:15,921 [ERROR] - Exception on /api/admin/students/3000 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 17:40:15,921 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:40:15] "[35m[1mGET /api/admin/students/3000 HTTP/1.1[0m" 500 -
2025-03-24 17:42:51,058 [INFO] - BEGIN (implicit)
2025-03-24 17:42:51,058 [INFO] - PRAGMA main.table_info("users")
2025-03-24 17:42:51,058 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("students")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,068 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 17:42:51,068 [INFO] - [raw sql] ()
2025-03-24 17:42:51,069 [INFO] - COMMIT
2025-03-24 17:42:51,088 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 17:42:51,088 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 17:42:53,996 [INFO] - BEGIN (implicit)
2025-03-24 17:42:53,998 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:42:53,998 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:42:54,065 [INFO] - ROLLBACK
2025-03-24 17:42:54,065 [INFO] - GET /api/admin/student/3000 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:42:54,065 [INFO] - BEGIN (implicit)
2025-03-24 17:42:54,065 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:42:54,066 [INFO] - [cached since 0.06796s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:42:54,066 [INFO] - ROLLBACK
2025-03-24 17:42:54,066 [INFO] - BEGIN (implicit)
2025-03-24 17:42:54,070 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:42:54,070 [INFO] - [generated in 0.00011s] (3000, 1, 0)
2025-03-24 17:42:54,124 [INFO] - ROLLBACK
2025-03-24 17:42:54,124 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:42:54] "GET /api/admin/students/3000 HTTP/1.1" 200 -
2025-03-24 17:43:16,500 [INFO] - BEGIN (implicit)
2025-03-24 17:43:16,501 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:16,501 [INFO] - [cached since 22.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:16,513 [INFO] - ROLLBACK
2025-03-24 17:43:16,513 [INFO] - GET /api/admin/student/3001 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:43:16,513 [INFO] - BEGIN (implicit)
2025-03-24 17:43:16,513 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:16,513 [INFO] - [cached since 22.52s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:16,513 [INFO] - ROLLBACK
2025-03-24 17:43:16,514 [INFO] - BEGIN (implicit)
2025-03-24 17:43:16,514 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:43:16,514 [INFO] - [cached since 22.44s ago] (3001, 1, 0)
2025-03-24 17:43:16,536 [INFO] - ROLLBACK
2025-03-24 17:43:16,536 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:43:16] "GET /api/admin/students/3001 HTTP/1.1" 200 -
2025-03-24 17:43:42,855 [INFO] - BEGIN (implicit)
2025-03-24 17:43:42,855 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:42,855 [INFO] - [cached since 48.86s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:42,859 [INFO] - ROLLBACK
2025-03-24 17:43:42,859 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:43:42,860 [INFO] - BEGIN (implicit)
2025-03-24 17:43:42,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:43:42,860 [INFO] - [cached since 48.86s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:43:42,860 [INFO] - ROLLBACK
2025-03-24 17:43:42,861 [INFO] - BEGIN (implicit)
2025-03-24 17:43:42,861 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:43:42,861 [INFO] - [cached since 48.79s ago] (3081, 1, 0)
2025-03-24 17:43:42,861 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:43:42,861 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:43:42,861 [INFO] - ROLLBACK
2025-03-24 17:43:42,861 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 119, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 166, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:43:42,940 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:43:42] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 17:54:24,869 [INFO] - BEGIN (implicit)
2025-03-24 17:54:24,890 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:54:24,890 [INFO] - [cached since 690.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:54:24,940 [INFO] - ROLLBACK
2025-03-24 17:54:24,940 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:54:24,940 [INFO] - BEGIN (implicit)
2025-03-24 17:54:24,940 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:54:24,940 [INFO] - [cached since 690.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:54:24,941 [INFO] - ROLLBACK
2025-03-24 17:54:24,941 [INFO] - BEGIN (implicit)
2025-03-24 17:54:24,941 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:54:24,941 [INFO] - [cached since 690.9s ago] (3081, 1, 0)
2025-03-24 17:54:24,942 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:54:24,942 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:54:24,942 [INFO] - ROLLBACK
2025-03-24 17:54:24,962 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 119, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 166, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:54:24,964 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:54:24] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 17:58:22,476 [INFO] - BEGIN (implicit)
2025-03-24 17:58:22,486 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:22,486 [INFO] - [cached since 928.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:22,528 [INFO] - ROLLBACK
2025-03-24 17:58:22,529 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:58:22,529 [INFO] - BEGIN (implicit)
2025-03-24 17:58:22,529 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:22,529 [INFO] - [cached since 928.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:22,529 [INFO] - ROLLBACK
2025-03-24 17:58:22,529 [INFO] - BEGIN (implicit)
2025-03-24 17:58:22,530 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:58:22,530 [INFO] - [cached since 928.4s ago] (3081, 1, 0)
2025-03-24 17:58:22,530 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:58:22,530 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:58:22,530 [INFO] - ROLLBACK
2025-03-24 17:58:22,536 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 119, in get
    logging.error(f"GET /api/admin/student/{student_id} - Not found for user {username}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 166, in get
    logging.error(f"GET /api/admin/student/{student_id} - Error: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:58:22,539 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:58:22] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 17:58:29,609 [INFO] - BEGIN (implicit)
2025-03-24 17:58:29,609 [INFO] - PRAGMA main.table_info("users")
2025-03-24 17:58:29,609 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("students")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,619 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 17:58:29,619 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 17:58:29,620 [INFO] - [raw sql] ()
2025-03-24 17:58:29,620 [INFO] - COMMIT
2025-03-24 17:58:29,639 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 17:58:29,639 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 17:58:31,635 [INFO] - BEGIN (implicit)
2025-03-24 17:58:31,637 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:31,637 [INFO] - [generated in 0.00023s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:31,705 [INFO] - ROLLBACK
2025-03-24 17:58:31,705 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 17:58:31,705 [INFO] - BEGIN (implicit)
2025-03-24 17:58:31,706 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 17:58:31,706 [INFO] - [cached since 0.06878s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 17:58:31,706 [INFO] - ROLLBACK
2025-03-24 17:58:31,706 [INFO] - BEGIN (implicit)
2025-03-24 17:58:31,709 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 17:58:31,709 [INFO] - [generated in 0.00012s] (3081, 1, 0)
2025-03-24 17:58:31,716 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 17:58:31,716 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 17:58:31,716 [INFO] - ROLLBACK
2025-03-24 17:58:31,716 [ERROR] - Exception on /api/admin/students/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 120, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 167, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 17:58:31,724 [INFO] - 127.0.0.1 - - [24/Mar/2025 17:58:31] "[35m[1mGET /api/admin/students/3081 HTTP/1.1[0m" 500 -
2025-03-24 18:01:57,091 [INFO] - BEGIN (implicit)
2025-03-24 18:01:57,092 [INFO] - PRAGMA main.table_info("users")
2025-03-24 18:01:57,092 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("students")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 18:01:57,101 [INFO] - [raw sql] ()
2025-03-24 18:01:57,101 [INFO] - COMMIT
2025-03-24 18:01:57,121 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 18:01:57,121 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 18:01:58,744 [INFO] - BEGIN (implicit)
2025-03-24 18:01:58,745 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:01:58,745 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:01:58,820 [INFO] - ROLLBACK
2025-03-24 18:01:58,820 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:01:58,820 [INFO] - BEGIN (implicit)
2025-03-24 18:01:58,820 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:01:58,820 [INFO] - [cached since 0.07515s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:01:58,821 [INFO] - ROLLBACK
2025-03-24 18:01:58,821 [INFO] - BEGIN (implicit)
2025-03-24 18:01:58,824 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:01:58,824 [INFO] - [generated in 0.00011s] (3081, 1, 0)
2025-03-24 18:01:58,830 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:01:58,830 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 18:01:58,830 [INFO] - ROLLBACK
2025-03-24 18:01:58,831 [ERROR] - Exception on /api/admin/student/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 120, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 167, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 18:01:58,850 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:01:58] "[35m[1mGET /api/admin/student/3081 HTTP/1.1[0m" 500 -
2025-03-24 18:19:08,932 [INFO] - BEGIN (implicit)
2025-03-24 18:19:08,953 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:19:08,953 [INFO] - [cached since 1030s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:19:09,002 [INFO] - ROLLBACK
2025-03-24 18:19:09,003 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:19:09,003 [INFO] - BEGIN (implicit)
2025-03-24 18:19:09,003 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:19:09,003 [INFO] - [cached since 1030s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:19:09,003 [INFO] - ROLLBACK
2025-03-24 18:19:09,003 [INFO] - BEGIN (implicit)
2025-03-24 18:19:09,004 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:19:09,004 [INFO] - [cached since 1030s ago] (3081, 1, 0)
2025-03-24 18:19:09,004 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:19:09,004 [ERROR] - GET /api/admin/student/3081 - Error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-03-24 18:19:09,004 [INFO] - ROLLBACK
2025-03-24 18:19:09,014 [ERROR] - Exception on /api/admin/student/3081 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 120, in get
    abort(404, message=f'Ученик {student_id} не найден.')
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 167, in get
    abort(500, message=f"Внутренняя ошибка сервера: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 18:19:09,015 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:19:09] "[35m[1mGET /api/admin/student/3081 HTTP/1.1[0m" 500 -
2025-03-24 18:49:40,568 [INFO] - BEGIN (implicit)
2025-03-24 18:49:40,568 [INFO] - PRAGMA main.table_info("users")
2025-03-24 18:49:40,568 [INFO] - [raw sql] ()
2025-03-24 18:49:40,597 [INFO] - PRAGMA main.table_info("students")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 18:49:40,598 [INFO] - [raw sql] ()
2025-03-24 18:49:40,598 [INFO] - COMMIT
2025-03-24 18:49:40,620 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 18:49:40,620 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 18:49:42,085 [INFO] - BEGIN (implicit)
2025-03-24 18:49:42,086 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:49:42,086 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:49:42,164 [INFO] - ROLLBACK
2025-03-24 18:49:42,164 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:49:42,164 [INFO] - BEGIN (implicit)
2025-03-24 18:49:42,164 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:49:42,164 [INFO] - [cached since 0.07832s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:49:42,165 [INFO] - ROLLBACK
2025-03-24 18:49:42,165 [INFO] - BEGIN (implicit)
2025-03-24 18:49:42,168 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:49:42,168 [INFO] - [generated in 0.00011s] (3081, 1, 0)
2025-03-24 18:49:42,174 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:49:42,174 [INFO] - ROLLBACK
2025-03-24 18:49:42,175 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:49:42] "[33mGET /api/admin/student/3081 HTTP/1.1[0m" 404 -
2025-03-24 18:51:18,089 [INFO] - BEGIN (implicit)
2025-03-24 18:51:18,090 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:51:18,090 [INFO] - [cached since 96s ago] ('ijkygjhg', 1, 0)
2025-03-24 18:51:18,091 [INFO] - ROLLBACK
2025-03-24 18:51:18,091 [ERROR] - GET /api/admin/student/3081 - Invalid or missing API key, IP: 127.0.0.1
2025-03-24 18:51:18,091 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:51:18] "[31m[1mGET /api/admin/student/3081 HTTP/1.1[0m" 401 -
2025-03-24 18:51:24,117 [INFO] - BEGIN (implicit)
2025-03-24 18:51:24,118 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:51:24,118 [INFO] - [cached since 102s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:51:24,121 [INFO] - ROLLBACK
2025-03-24 18:51:24,122 [INFO] - GET /api/admin/student/3081 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:51:24,122 [INFO] - BEGIN (implicit)
2025-03-24 18:51:24,122 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:51:24,122 [INFO] - [cached since 102s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:51:24,122 [INFO] - ROLLBACK
2025-03-24 18:51:24,122 [INFO] - BEGIN (implicit)
2025-03-24 18:51:24,122 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 18:51:24,122 [INFO] - [cached since 102s ago] (3081, 1, 0)
2025-03-24 18:51:24,123 [ERROR] - GET /api/admin/student/3081 - Not found for user user2
2025-03-24 18:51:24,123 [INFO] - ROLLBACK
2025-03-24 18:51:24,123 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:51:24] "[33mGET /api/admin/student/3081 HTTP/1.1[0m" 404 -
2025-03-24 18:52:53,232 [INFO] - BEGIN (implicit)
2025-03-24 18:52:53,233 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:52:53,233 [INFO] - [cached since 191.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:52:53,234 [INFO] - ROLLBACK
2025-03-24 18:52:53,234 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:52:53,234 [INFO] - BEGIN (implicit)
2025-03-24 18:52:53,234 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:52:53,234 [INFO] - [cached since 191.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:52:53,234 [INFO] - ROLLBACK
2025-03-24 18:52:53,235 [INFO] - BEGIN (implicit)
2025-03-24 18:52:53,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 18:52:53,236 [INFO] - [generated in 0.00011s] ('user71', 1, 0)
2025-03-24 18:52:53,236 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 18:52:53,236 [INFO] - ROLLBACK
2025-03-24 18:52:53,236 [ERROR] - POST /api/admin/students - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-24 18:52:53,236 [ERROR] - Exception on /api/admin/students [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 251, in post
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_api.py", line 311, in post
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-24 18:52:53,324 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:52:53] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 500 -
2025-03-24 18:55:16,296 [INFO] - BEGIN (implicit)
2025-03-24 18:55:16,296 [INFO] - PRAGMA main.table_info("users")
2025-03-24 18:55:16,296 [INFO] - [raw sql] ()
2025-03-24 18:55:16,329 [INFO] - PRAGMA main.table_info("students")
2025-03-24 18:55:16,329 [INFO] - [raw sql] ()
2025-03-24 18:55:16,329 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 18:55:16,329 [INFO] - [raw sql] ()
2025-03-24 18:55:16,329 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 18:55:16,329 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 18:55:16,330 [INFO] - [raw sql] ()
2025-03-24 18:55:16,330 [INFO] - COMMIT
2025-03-24 18:55:16,349 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 18:55:16,349 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 18:55:18,745 [INFO] - BEGIN (implicit)
2025-03-24 18:55:18,747 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:18,747 [INFO] - [generated in 0.00013s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:18,815 [INFO] - ROLLBACK
2025-03-24 18:55:18,815 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:55:18,816 [INFO] - BEGIN (implicit)
2025-03-24 18:55:18,816 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:18,816 [INFO] - [cached since 0.06905s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:18,816 [INFO] - ROLLBACK
2025-03-24 18:55:18,816 [INFO] - BEGIN (implicit)
2025-03-24 18:55:18,817 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:18,817 [INFO] - [generated in 0.00007s] ('user71', 1, 0)
2025-03-24 18:55:18,817 [ERROR] - POST /api/admin/students - Username user71 already exists
2025-03-24 18:55:18,817 [INFO] - ROLLBACK
2025-03-24 18:55:18,818 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:55:18] "[31m[1mPOST /api/admin/students HTTP/1.1[0m" 400 -
2025-03-24 18:55:44,031 [INFO] - BEGIN (implicit)
2025-03-24 18:55:44,032 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,033 [INFO] - [cached since 25.29s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:44,038 [INFO] - ROLLBACK
2025-03-24 18:55:44,038 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 18:55:44,039 [INFO] - BEGIN (implicit)
2025-03-24 18:55:44,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,039 [INFO] - [cached since 25.29s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 18:55:44,039 [INFO] - ROLLBACK
2025-03-24 18:55:44,039 [INFO] - BEGIN (implicit)
2025-03-24 18:55:44,040 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,040 [INFO] - [cached since 25.22s ago] ('user72', 1, 0)
2025-03-24 18:55:44,040 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 18:55:44,041 [INFO] - [generated in 0.00010s] ('ivanov_23@example.com', 1, 0)
2025-03-24 18:55:44,041 [ERROR] - POST /api/admin/students - Email ivanov_23@example.com already exists
2025-03-24 18:55:44,041 [INFO] - ROLLBACK
2025-03-24 18:55:44,041 [INFO] - 127.0.0.1 - - [24/Mar/2025 18:55:44] "[31m[1mPOST /api/admin/students HTTP/1.1[0m" 400 -
2025-03-24 19:23:39,068 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,087 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,087 [INFO] - [cached since 1700s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,130 [INFO] - ROLLBACK
2025-03-24 19:23:39,130 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:23:39,131 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,131 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,131 [INFO] - [cached since 1700s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,131 [INFO] - ROLLBACK
2025-03-24 19:23:39,131 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,132 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,132 [INFO] - [cached since 1700s ago] ('test_student', 1, 0)
2025-03-24 19:23:39,132 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,132 [INFO] - [cached since 1675s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:23:39,203 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:23:39,203 [INFO] - [generated in 0.00019s] ('test_student', 'scrypt:32768:8:1$2pquQV8Er8R44Y6n$d79a1f5b7805662148e5dcb79e5b5cd85db3253d18265b07070c09bffb7d82c690a5102a4763951640a62a05c8c0e0850aaa568ce21986e31cca84f1f42b996c', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:23:39,209 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,209 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-24 19:23:39,241 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:23:39,241 [INFO] - [generated in 0.00009s] ()
2025-03-24 19:23:39,257 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:23:39,257 [INFO] - [generated in 0.00011s] (72, 3051, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:23:39,257 [INFO] - COMMIT
2025-03-24 19:23:39,335 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,336 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:23:39,336 [INFO] - [generated in 0.00009s] (72,)
2025-03-24 19:23:39,336 [INFO] - POST /api/admin/students - Created student with user_id 72 by user2
2025-03-24 19:23:39,337 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:23:39,337 [INFO] - [generated in 0.00006s] (72,)
2025-03-24 19:23:39,341 [INFO] - ROLLBACK
2025-03-24 19:23:39,342 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:23:39,344 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,344 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,344 [INFO] - ROLLBACK
2025-03-24 19:23:39,344 [INFO] - GET /api/admin/student/3051 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:23:39,344 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,344 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,344 [INFO] - ROLLBACK
2025-03-24 19:23:39,345 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,347 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:23:39,347 [INFO] - [generated in 0.00008s] (3051, 1, 0)
2025-03-24 19:23:39,493 [INFO] - ROLLBACK
2025-03-24 19:23:39,494 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "GET /api/admin/student/3051 HTTP/1.1" 200 -
2025-03-24 19:23:39,496 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,496 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,496 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,496 [INFO] - ROLLBACK
2025-03-24 19:23:39,496 [INFO] - PATCH /api/admin/student/3051 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:23:39,496 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,496 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,496 [INFO] - [cached since 1701s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:23:39,497 [INFO] - ROLLBACK
2025-03-24 19:23:39,497 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,498 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:23:39,498 [INFO] - [generated in 0.00010s] (3051, 1, 0)
2025-03-24 19:23:39,499 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:23:39,499 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe1@example.com', 72)
2025-03-24 19:23:39,500 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:23:39,500 [INFO] - [generated in 0.00006s] ('2005-05-16', 72)
2025-03-24 19:23:39,500 [INFO] - COMMIT
2025-03-24 19:23:39,504 [INFO] - PATCH /api/admin/student/3051 - Updated by user user2
2025-03-24 19:23:39,505 [INFO] - BEGIN (implicit)
2025-03-24 19:23:39,506 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:23:39,506 [INFO] - [generated in 0.00008s] (72,)
2025-03-24 19:23:39,507 [INFO] - ROLLBACK
2025-03-24 19:23:39,507 [ERROR] - Exception on /api/admin/student/3051 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:23:39,525 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "[35m[1mPATCH /api/admin/student/3051 HTTP/1.1[0m" 500 -
2025-03-24 19:23:39,538 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:23:39] "[31m[1mDELETE /api/admin/student/3051 HTTP/1.1[0m" 405 -
2025-03-24 19:25:38,601 [INFO] - BEGIN (implicit)
2025-03-24 19:25:38,601 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:25:38,601 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,602 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:25:38,602 [INFO] - [raw sql] ()
2025-03-24 19:25:38,603 [INFO] - COMMIT
2025-03-24 19:25:38,621 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:25:38,621 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:26:19,667 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,669 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,669 [INFO] - [generated in 0.00022s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,711 [INFO] - ROLLBACK
2025-03-24 19:26:19,711 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,711 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,711 [INFO] - [cached since 0.04238s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,711 [INFO] - ROLLBACK
2025-03-24 19:26:19,712 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,712 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,712 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-24 19:26:19,713 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,713 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-24 19:26:19,787 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:26:19,788 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$JBXyVs4H1x6cVBjI$2bd75525398373aeaa0e5da112c28ed29824c13cff4b0fd93ed1cf4a7f378b5eb33c5690bb5674d240101284a73258816a8ad3a63829285ce67ae27eca850e58', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:26:19,790 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,790 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-24 19:26:19,792 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:26:19,792 [INFO] - [generated in 0.00006s] ()
2025-03-24 19:26:19,793 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:26:19,793 [INFO] - [generated in 0.00006s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:26:19,793 [INFO] - COMMIT
2025-03-24 19:26:19,798 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,798 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:26:19,798 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,798 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:26:19,799 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:26:19,799 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,799 [INFO] - ROLLBACK
2025-03-24 19:26:19,799 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:26:19,801 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,801 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,801 [INFO] - [cached since 0.1327s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,802 [INFO] - ROLLBACK
2025-03-24 19:26:19,802 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,802 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,802 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,802 [INFO] - [cached since 0.1331s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,802 [INFO] - ROLLBACK
2025-03-24 19:26:19,802 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,805 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:26:19,805 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 19:26:19,951 [INFO] - ROLLBACK
2025-03-24 19:26:19,952 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:26:19,954 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,954 [INFO] - [cached since 0.2852s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,954 [INFO] - ROLLBACK
2025-03-24 19:26:19,954 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,954 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,954 [INFO] - [cached since 0.2856s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,954 [INFO] - ROLLBACK
2025-03-24 19:26:19,955 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,956 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,956 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 19:26:19,957 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:26:19,957 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe1@example.com', 71)
2025-03-24 19:26:19,958 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:26:19,958 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 19:26:19,958 [INFO] - COMMIT
2025-03-24 19:26:19,962 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:26:19,962 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,963 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:26:19,963 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:26:19,963 [INFO] - ROLLBACK
2025-03-24 19:26:19,963 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:26:19,983 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:26:19,984 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,984 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,984 [INFO] - [cached since 0.3157s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,985 [INFO] - ROLLBACK
2025-03-24 19:26:19,985 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:26:19,985 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,985 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,985 [INFO] - [cached since 0.3161s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:26:19,985 [INFO] - ROLLBACK
2025-03-24 19:26:19,985 [INFO] - BEGIN (implicit)
2025-03-24 19:26:19,987 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:26:19,987 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:26:19,987 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:26:19,987 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,988 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:26:19,988 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,988 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:26:19,988 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,989 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:26:19,989 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,990 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:26:19,990 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:26:19,990 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:26:19,990 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 19:26:19,990 [INFO] - COMMIT
2025-03-24 19:26:19,995 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:26:19,995 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:26:19,996 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:26:19] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:27:43,779 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,781 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,781 [INFO] - [cached since 84.11s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,782 [INFO] - ROLLBACK
2025-03-24 19:27:43,782 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,782 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,782 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,782 [INFO] - [cached since 84.11s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,782 [INFO] - ROLLBACK
2025-03-24 19:27:43,783 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,783 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,783 [INFO] - [cached since 84.07s ago] ('test_student', 1, 0)
2025-03-24 19:27:43,783 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,783 [INFO] - [cached since 84.07s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:27:43,853 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:27:43,853 [INFO] - [cached since 84.07s ago] ('test_student', 'scrypt:32768:8:1$k1hFlJb0Bp7gQabT$ceae01b9a95af9d72f039450431c9c55f2d7c4ebde956d9d0e40a320a54af06a652255461418a25b0206039ae30a0de7a5d6ef299e139a728f0be53c5cc221e6', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:27:43,868 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,868 [INFO] - [cached since 84.08s ago] ('1', 1, 0)
2025-03-24 19:27:43,868 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:27:43,868 [INFO] - [cached since 84.08s ago] ()
2025-03-24 19:27:43,868 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:27:43,868 [INFO] - [cached since 84.08s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:27:43,869 [INFO] - COMMIT
2025-03-24 19:27:43,886 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,886 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:27:43,886 [INFO] - [cached since 84.09s ago] (71,)
2025-03-24 19:27:43,886 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:27:43,886 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:27:43,887 [INFO] - [cached since 84.09s ago] (71,)
2025-03-24 19:27:43,887 [INFO] - ROLLBACK
2025-03-24 19:27:43,887 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:27:43,889 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,889 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,889 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,890 [INFO] - ROLLBACK
2025-03-24 19:27:43,890 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,890 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,890 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,890 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,890 [INFO] - ROLLBACK
2025-03-24 19:27:43,890 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,890 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:27:43,890 [INFO] - [cached since 84.09s ago] (3050, 1, 0)
2025-03-24 19:27:43,891 [INFO] - ROLLBACK
2025-03-24 19:27:43,891 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:27:43,893 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,893 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,893 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,893 [INFO] - ROLLBACK
2025-03-24 19:27:43,893 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,893 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,893 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,893 [INFO] - [cached since 84.22s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,893 [INFO] - ROLLBACK
2025-03-24 19:27:43,893 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,894 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,894 [INFO] - [cached since 83.94s ago] (3050, 1, 0)
2025-03-24 19:27:43,894 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:27:43,894 [INFO] - [cached since 83.94s ago] ('Johnny', 'johnny.doe1@example.com', 71)
2025-03-24 19:27:43,894 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:27:43,895 [INFO] - [cached since 83.94s ago] ('2005-05-16', 71)
2025-03-24 19:27:43,895 [INFO] - COMMIT
2025-03-24 19:27:43,898 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:27:43,898 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,898 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:27:43,898 [INFO] - [cached since 83.94s ago] (71,)
2025-03-24 19:27:43,899 [INFO] - ROLLBACK
2025-03-24 19:27:43,899 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:27:43,901 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:27:43,904 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,905 [INFO] - [cached since 84.24s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,905 [INFO] - ROLLBACK
2025-03-24 19:27:43,905 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:27:43,905 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,905 [INFO] - [cached since 84.24s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:27:43,905 [INFO] - ROLLBACK
2025-03-24 19:27:43,905 [INFO] - BEGIN (implicit)
2025-03-24 19:27:43,905 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:27:43,905 [INFO] - [cached since 83.92s ago] (3050, 1, 0)
2025-03-24 19:27:43,906 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,906 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,906 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,906 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:27:43,906 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,907 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:27:43,907 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,907 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:27:43,907 [INFO] - [cached since 83.92s ago] (71,)
2025-03-24 19:27:43,907 [INFO] - COMMIT
2025-03-24 19:27:43,912 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:27:43,912 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:27:43,912 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:27:43] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:32:25,817 [INFO] - BEGIN (implicit)
2025-03-24 19:32:25,827 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,827 [INFO] - [cached since 366.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:25,870 [INFO] - ROLLBACK
2025-03-24 19:32:25,870 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:25,870 [INFO] - BEGIN (implicit)
2025-03-24 19:32:25,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,871 [INFO] - [cached since 366.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:25,871 [INFO] - ROLLBACK
2025-03-24 19:32:25,871 [INFO] - BEGIN (implicit)
2025-03-24 19:32:25,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,872 [INFO] - [cached since 366.2s ago] ('test_student', 1, 0)
2025-03-24 19:32:25,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,872 [INFO] - [cached since 366.2s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:32:25,941 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:32:25,941 [INFO] - [cached since 366.2s ago] ('test_student', 'scrypt:32768:8:1$LM9O4ZWTO5N43lVW$cf544b33413ca809404ecdd6f13865485c9b72993866fc1eae0ba798731522454c2066c84e31a6b5bb20cd88916011f6bb777837f365a2818bb55f5417c19533', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:32:25,943 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:25,943 [INFO] - [cached since 366.2s ago] ('1', 1, 0)
2025-03-24 19:32:25,943 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:32:25,943 [INFO] - [cached since 366.2s ago] ()
2025-03-24 19:32:25,944 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:32:25,944 [INFO] - [cached since 366.2s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:32:25,944 [INFO] - COMMIT
2025-03-24 19:32:26,092 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,092 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:32:26,092 [INFO] - [cached since 366.3s ago] (71,)
2025-03-24 19:32:26,092 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:32:26,092 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:32:26,092 [INFO] - [cached since 366.3s ago] (71,)
2025-03-24 19:32:26,114 [INFO] - ROLLBACK
2025-03-24 19:32:26,114 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:32:26,116 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,116 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,116 [INFO] - [cached since 366.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,117 [INFO] - ROLLBACK
2025-03-24 19:32:26,117 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:26,117 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,117 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,117 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,117 [INFO] - ROLLBACK
2025-03-24 19:32:26,117 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,117 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:32:26,117 [INFO] - [cached since 366.3s ago] (3050, 1, 0)
2025-03-24 19:32:26,118 [INFO] - ROLLBACK
2025-03-24 19:32:26,118 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:32:26,120 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,120 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,120 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,120 [INFO] - ROLLBACK
2025-03-24 19:32:26,120 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:26,120 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,120 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,120 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,120 [INFO] - ROLLBACK
2025-03-24 19:32:26,120 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,120 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,120 [INFO] - [cached since 366.2s ago] (3050, 1, 0)
2025-03-24 19:32:26,121 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:32:26,121 [INFO] - [cached since 366.2s ago] ('Johnny', 'johnny.doe1@example.com', 71)
2025-03-24 19:32:26,121 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:32:26,121 [INFO] - [cached since 366.2s ago] ('2005-05-16', 71)
2025-03-24 19:32:26,121 [INFO] - COMMIT
2025-03-24 19:32:26,146 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:32:26,146 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,146 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:32:26,146 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,147 [INFO] - ROLLBACK
2025-03-24 19:32:26,147 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:32:26,148 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:32:26,149 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,149 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,149 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,150 [INFO] - ROLLBACK
2025-03-24 19:32:26,150 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:32:26,150 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,150 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,150 [INFO] - [cached since 366.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:32:26,150 [INFO] - ROLLBACK
2025-03-24 19:32:26,150 [INFO] - BEGIN (implicit)
2025-03-24 19:32:26,150 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:32:26,150 [INFO] - [cached since 366.2s ago] (3050, 1, 0)
2025-03-24 19:32:26,150 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,151 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:32:26,151 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,152 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:32:26,152 [INFO] - [cached since 366.2s ago] (71,)
2025-03-24 19:32:26,152 [INFO] - COMMIT
2025-03-24 19:32:26,157 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:32:26,157 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:32:26,158 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:32:26] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:33:20,961 [INFO] - BEGIN (implicit)
2025-03-24 19:33:20,963 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,963 [INFO] - [cached since 421.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:20,980 [INFO] - ROLLBACK
2025-03-24 19:33:20,980 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:20,980 [INFO] - BEGIN (implicit)
2025-03-24 19:33:20,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,980 [INFO] - [cached since 421.3s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:20,981 [INFO] - ROLLBACK
2025-03-24 19:33:20,981 [INFO] - BEGIN (implicit)
2025-03-24 19:33:20,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,981 [INFO] - [cached since 421.3s ago] ('test_student', 1, 0)
2025-03-24 19:33:20,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:20,981 [INFO] - [cached since 421.3s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:33:21,052 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:33:21,052 [INFO] - [cached since 421.3s ago] ('test_student', 'scrypt:32768:8:1$2TcMRTRzGmnHFJWT$19a9693e4894072d2c3b30d881a791c84bc835ba5cbf003e17538d0244d2e234dcf6150835834e67928e79b20f9c02a6f9c7be6b118b0d3e8cf46e96a8c3d741', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:33:21,053 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,053 [INFO] - [cached since 421.3s ago] ('1', 1, 0)
2025-03-24 19:33:21,053 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:33:21,053 [INFO] - [cached since 421.3s ago] ()
2025-03-24 19:33:21,054 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:33:21,054 [INFO] - [cached since 421.3s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:33:21,054 [INFO] - COMMIT
2025-03-24 19:33:21,136 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,137 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:33:21,137 [INFO] - [cached since 421.3s ago] (71,)
2025-03-24 19:33:21,137 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:33:21,137 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:33:21,137 [INFO] - [cached since 421.3s ago] (71,)
2025-03-24 19:33:21,137 [INFO] - ROLLBACK
2025-03-24 19:33:21,137 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:33:21,140 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,140 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,140 [INFO] - ROLLBACK
2025-03-24 19:33:21,140 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:21,140 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,141 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,141 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,141 [INFO] - ROLLBACK
2025-03-24 19:33:21,141 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,141 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:33:21,141 [INFO] - [cached since 421.3s ago] (3050, 1, 0)
2025-03-24 19:33:21,142 [INFO] - ROLLBACK
2025-03-24 19:33:21,142 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:33:21,144 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,144 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,144 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,144 [INFO] - ROLLBACK
2025-03-24 19:33:21,144 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:21,144 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,144 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,144 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,144 [INFO] - ROLLBACK
2025-03-24 19:33:21,145 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,145 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,145 [INFO] - [cached since 421.2s ago] (3050, 1, 0)
2025-03-24 19:33:21,145 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:33:21,145 [INFO] - [cached since 421.2s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:33:21,166 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:33:21,166 [INFO] - [cached since 421.2s ago] ('2005-05-16', 71)
2025-03-24 19:33:21,166 [INFO] - COMMIT
2025-03-24 19:33:21,172 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:33:21,172 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,172 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:33:21,172 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,173 [INFO] - ROLLBACK
2025-03-24 19:33:21,173 [ERROR] - Exception on /api/admin/student/3050 [PATCH]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:33:21,175 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "[35m[1mPATCH /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:33:21,177 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,177 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,177 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,177 [INFO] - ROLLBACK
2025-03-24 19:33:21,177 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:21,178 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,178 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,178 [INFO] - [cached since 421.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:21,178 [INFO] - ROLLBACK
2025-03-24 19:33:21,178 [INFO] - BEGIN (implicit)
2025-03-24 19:33:21,178 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:21,178 [INFO] - [cached since 421.2s ago] (3050, 1, 0)
2025-03-24 19:33:21,179 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:33:21,179 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,179 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:33:21,179 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,179 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:33:21,179 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:33:21,180 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:33:21,180 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:33:21,180 [INFO] - [cached since 421.2s ago] (71,)
2025-03-24 19:33:21,180 [INFO] - COMMIT
2025-03-24 19:33:21,185 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:33:21,185 [ERROR] - Exception on /api/admin/student/3050 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 493, in wrapper
    return self.make_response(data, code, headers=headers)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 522, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Response is not JSON serializable
2025-03-24 19:33:21,186 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:21] "[35m[1mDELETE /api/admin/student/3050 HTTP/1.1[0m" 500 -
2025-03-24 19:33:38,295 [INFO] - BEGIN (implicit)
2025-03-24 19:33:38,295 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:33:38,295 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,296 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:33:38,296 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:33:38,297 [INFO] - [raw sql] ()
2025-03-24 19:33:38,297 [INFO] - COMMIT
2025-03-24 19:33:38,325 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:33:38,325 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:33:39,210 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,211 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,211 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,224 [INFO] - ROLLBACK
2025-03-24 19:33:39,224 [INFO] - POST /api/admin/student/None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,225 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,225 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,225 [INFO] - [cached since 0.01392s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,225 [INFO] - ROLLBACK
2025-03-24 19:33:39,225 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,226 [INFO] - [generated in 0.00007s] ('test_student', 1, 0)
2025-03-24 19:33:39,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,226 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-24 19:33:39,298 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:33:39,298 [INFO] - [generated in 0.00012s] ('test_student', 'scrypt:32768:8:1$g4g2pFjFqIUOyb7x$90930cd2eb264188b66e1390258e215a5873ae3122f0cd1390466ae335d785023dbdfebf607a3546d81f46bf3a8d053bb90f9777628dc2c32379b7c0254b114f', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:33:39,314 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,314 [INFO] - [generated in 0.00008s] ('1', 1, 0)
2025-03-24 19:33:39,315 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:33:39,315 [INFO] - [generated in 0.00006s] ()
2025-03-24 19:33:39,316 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:33:39,316 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:33:39,316 [INFO] - COMMIT
2025-03-24 19:33:39,321 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,322 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:33:39,322 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,322 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:33:39,322 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:33:39,322 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,322 [INFO] - ROLLBACK
2025-03-24 19:33:39,323 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "[35m[1mPOST /api/admin/students HTTP/1.1[0m" 201 -
2025-03-24 19:33:39,325 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,325 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,325 [INFO] - [cached since 0.114s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,325 [INFO] - ROLLBACK
2025-03-24 19:33:39,325 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,325 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,325 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,325 [INFO] - [cached since 0.1144s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,325 [INFO] - ROLLBACK
2025-03-24 19:33:39,326 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,328 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:33:39,328 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 19:33:39,329 [INFO] - ROLLBACK
2025-03-24 19:33:39,329 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:33:39,331 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,331 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,331 [INFO] - [cached since 0.12s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,331 [INFO] - ROLLBACK
2025-03-24 19:33:39,331 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,331 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,331 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,331 [INFO] - [cached since 0.1204s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,331 [INFO] - ROLLBACK
2025-03-24 19:33:39,331 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,332 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,332 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 19:33:39,334 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:33:39,334 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:33:39,353 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:33:39,353 [INFO] - [generated in 0.00007s] ('2005-05-16', 71)
2025-03-24 19:33:39,353 [INFO] - COMMIT
2025-03-24 19:33:39,359 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:33:39,359 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,360 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:33:39,360 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,361 [INFO] - ROLLBACK
2025-03-24 19:33:39,361 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:33:39,362 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,362 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,362 [INFO] - [cached since 0.1515s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,362 [INFO] - ROLLBACK
2025-03-24 19:33:39,362 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:33:39,363 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,363 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,363 [INFO] - [cached since 0.152s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:33:39,363 [INFO] - ROLLBACK
2025-03-24 19:33:39,363 [INFO] - BEGIN (implicit)
2025-03-24 19:33:39,364 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:33:39,364 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 19:33:39,365 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:33:39,365 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 19:33:39,366 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:33:39,366 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 19:33:39,367 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:33:39,367 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,367 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:33:39,367 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:33:39,368 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:33:39,368 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:33:39,368 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:33:39,368 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 19:33:39,368 [INFO] - COMMIT
2025-03-24 19:33:39,374 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:33:39,374 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:33:39] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:46:56,142 [INFO] - BEGIN (implicit)
2025-03-24 19:46:56,142 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:46:56,142 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,143 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:46:56,143 [INFO] - [raw sql] ()
2025-03-24 19:46:56,144 [INFO] - COMMIT
2025-03-24 19:46:56,172 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:46:56,172 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:47:02,872 [INFO] - BEGIN (implicit)
2025-03-24 19:47:02,874 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:02,874 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:02,960 [INFO] - ROLLBACK
2025-03-24 19:47:02,960 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:02,961 [INFO] - BEGIN (implicit)
2025-03-24 19:47:02,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:02,961 [INFO] - [generated in 0.00009s] ('test_student', 1, 0)
2025-03-24 19:47:02,962 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:02,962 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-24 19:47:03,035 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:47:03,035 [INFO] - [generated in 0.00015s] ('test_student', 'scrypt:32768:8:1$NPtA6Bd7Jp1davsH$050d9c7f1a2e5fb1dec3fd7902fa517f2892188c28ed7955c7cc2ffbeef58d225d11de9d63ca355f25fe95a7474f4adffd5256c3fc1018869b60fd4a6c5fd19a', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:47:03,075 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,075 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-24 19:47:03,108 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:47:03,108 [INFO] - [generated in 0.00012s] ()
2025-03-24 19:47:03,119 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:47:03,119 [INFO] - [generated in 0.00011s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:47:03,119 [INFO] - COMMIT
2025-03-24 19:47:03,139 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:47:03,140 [INFO] - [generated in 0.00010s] (71,)
2025-03-24 19:47:03,140 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:47:03,141 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:47:03,141 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:47:03,141 [INFO] - ROLLBACK
2025-03-24 19:47:03,141 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 19:47:03,143 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,143 [INFO] - [cached since 0.2698s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:03,144 [INFO] - ROLLBACK
2025-03-24 19:47:03,144 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:03,144 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,147 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:47:03,147 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 19:47:03,180 [INFO] - ROLLBACK
2025-03-24 19:47:03,180 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:47:03,182 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,182 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,182 [INFO] - [cached since 0.3084s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:03,182 [INFO] - ROLLBACK
2025-03-24 19:47:03,182 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:03,182 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,184 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,184 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:47:03,185 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:47:03,185 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:47:03,185 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:47:03,185 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 19:47:03,185 [INFO] - COMMIT
2025-03-24 19:47:03,232 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:47:03,232 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:47:03,233 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 19:47:03,233 [INFO] - ROLLBACK
2025-03-24 19:47:03,233 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:47:03,235 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,235 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,235 [INFO] - [cached since 0.3617s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:47:03,236 [INFO] - ROLLBACK
2025-03-24 19:47:03,236 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:47:03,236 [INFO] - BEGIN (implicit)
2025-03-24 19:47:03,237 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:47:03,237 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:47:03,238 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:47:03,238 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,239 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:47:03,239 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,239 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:47:03,239 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,240 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:47:03,240 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:47:03,241 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:47:03,241 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:47:03,241 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:47:03,241 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:47:03,241 [INFO] - COMMIT
2025-03-24 19:47:03,246 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:47:03,246 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:47:03,248 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:47:03] "[33mGET /api/admin/students HTTP/1.1[0m" 404 -
2025-03-24 19:48:48,988 [INFO] - BEGIN (implicit)
2025-03-24 19:48:48,996 [INFO] - PRAGMA main.table_info("users")
2025-03-24 19:48:48,997 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("students")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,003 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 19:48:49,003 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 19:48:49,004 [INFO] - [raw sql] ()
2025-03-24 19:48:49,004 [INFO] - COMMIT
2025-03-24 19:48:49,018 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 19:48:49,018 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 19:48:50,604 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,606 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,606 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,695 [INFO] - ROLLBACK
2025-03-24 19:48:50,695 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,695 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,696 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,696 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-24 19:48:50,696 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,696 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-24 19:48:50,768 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:48:50,768 [INFO] - [generated in 0.00012s] ('test_student', 'scrypt:32768:8:1$h9XlfnAIV7t0BQrU$7d4e7cf0ef3ee048576e0912854603fcb541348a720274dd5b1b0d9555583061459d7fd263fd30ed08effc7ed98d4e56ec41397bc3b4322c7dd9a36315bd61f0', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:48:50,820 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,820 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-24 19:48:50,842 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:48:50,842 [INFO] - [generated in 0.00008s] ()
2025-03-24 19:48:50,842 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:48:50,842 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:48:50,842 [INFO] - COMMIT
2025-03-24 19:48:50,868 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,868 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:48:50,868 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 19:48:50,869 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:48:50,869 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:48:50,869 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:48:50,869 [INFO] - ROLLBACK
2025-03-24 19:48:50,870 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 19:48:50,872 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,872 [INFO] - [cached since 0.2659s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,872 [INFO] - ROLLBACK
2025-03-24 19:48:50,872 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,872 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,875 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:48:50,875 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 19:48:50,876 [INFO] - ROLLBACK
2025-03-24 19:48:50,876 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:48:50,877 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,878 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,878 [INFO] - [cached since 0.2717s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,878 [INFO] - ROLLBACK
2025-03-24 19:48:50,878 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,878 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,879 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,879 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:48:50,880 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:48:50,880 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:48:50,881 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:48:50,881 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-24 19:48:50,881 [INFO] - COMMIT
2025-03-24 19:48:50,909 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:48:50,909 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,910 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:48:50,910 [INFO] - [generated in 0.00009s] (71,)
2025-03-24 19:48:50,910 [INFO] - ROLLBACK
2025-03-24 19:48:50,910 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:48:50,912 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,912 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,912 [INFO] - [cached since 0.3061s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,912 [INFO] - ROLLBACK
2025-03-24 19:48:50,912 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,912 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,914 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,914 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 19:48:50,915 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:48:50,915 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:48:50,915 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:48:50,915 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 19:48:50,916 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:48:50,916 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:48:50,916 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:48:50,916 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:48:50,917 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:48:50,917 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 19:48:50,917 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:48:50,917 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 19:48:50,918 [INFO] - COMMIT
2025-03-24 19:48:50,923 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:48:50,924 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:50] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:48:50,925 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,925 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:48:50,925 [INFO] - [cached since 0.3192s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:48:50,925 [INFO] - ROLLBACK
2025-03-24 19:48:50,925 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:48:50,925 [INFO] - BEGIN (implicit)
2025-03-24 19:48:50,926 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 19:48:50,926 [INFO] - [generated in 0.00006s] ()
2025-03-24 19:48:51,065 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-24 19:48:51,065 [INFO] - ROLLBACK
2025-03-24 19:48:51,065 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:48:51] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 19:54:30,044 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,044 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,045 [INFO] - [cached since 339.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,075 [INFO] - ROLLBACK
2025-03-24 19:54:30,075 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,076 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,076 [INFO] - [cached since 339.4s ago] ('test_student', 1, 0)
2025-03-24 19:54:30,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,076 [INFO] - [cached since 339.4s ago] ('john.doe@example.com', 1, 0)
2025-03-24 19:54:30,147 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 19:54:30,147 [INFO] - [cached since 339.4s ago] ('test_student', 'scrypt:32768:8:1$Xzpr1ObBqwCAcsbm$2d8206a0cfaafbefe00c2ef1ab898ae2198798240bed4c8d321dfe6689a32fc312ea932e5dc0904f63da73129d9947aaa235bfebe271756ccea4f606a569d918', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 19:54:30,148 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,148 [INFO] - [cached since 339.3s ago] ('1', 1, 0)
2025-03-24 19:54:30,172 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 19:54:30,172 [INFO] - [cached since 339.3s ago] ()
2025-03-24 19:54:30,173 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 19:54:30,173 [INFO] - [cached since 339.3s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 19:54:30,173 [INFO] - COMMIT
2025-03-24 19:54:30,178 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,179 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 19:54:30,179 [INFO] - [cached since 339.3s ago] (71,)
2025-03-24 19:54:30,179 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-24 19:54:30,179 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 19:54:30,179 [INFO] - [cached since 339.3s ago] (71,)
2025-03-24 19:54:30,179 [INFO] - ROLLBACK
2025-03-24 19:54:30,180 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 19:54:30,182 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,182 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,182 [INFO] - [cached since 339.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,182 [INFO] - ROLLBACK
2025-03-24 19:54:30,182 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,182 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,182 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 19:54:30,182 [INFO] - [cached since 339.3s ago] (3050, 1, 0)
2025-03-24 19:54:30,342 [INFO] - ROLLBACK
2025-03-24 19:54:30,342 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:54:30,345 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,345 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,345 [INFO] - [cached since 339.7s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,345 [INFO] - ROLLBACK
2025-03-24 19:54:30,345 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,345 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,345 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,345 [INFO] - [cached since 339.5s ago] (3050, 1, 0)
2025-03-24 19:54:30,346 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 19:54:30,346 [INFO] - [cached since 339.5s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 19:54:30,346 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 19:54:30,346 [INFO] - [cached since 339.5s ago] ('2005-05-16', 71)
2025-03-24 19:54:30,346 [INFO] - COMMIT
2025-03-24 19:54:30,350 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-24 19:54:30,350 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,351 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 19:54:30,351 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,351 [INFO] - ROLLBACK
2025-03-24 19:54:30,351 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:54:30,352 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,352 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,352 [INFO] - [cached since 339.7s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,353 [INFO] - ROLLBACK
2025-03-24 19:54:30,353 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,353 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,353 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,353 [INFO] - [cached since 339.4s ago] (3050, 1, 0)
2025-03-24 19:54:30,353 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 19:54:30,353 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,353 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 19:54:30,353 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,354 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 19:54:30,354 [INFO] - [cached since 339.4s ago] (71,)
2025-03-24 19:54:30,355 [INFO] - COMMIT
2025-03-24 19:54:30,359 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-24 19:54:30,359 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 19:54:30,361 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,361 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-24 19:54:30,361 [INFO] - [cached since 339.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-24 19:54:30,361 [INFO] - ROLLBACK
2025-03-24 19:54:30,361 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-24 19:54:30,361 [INFO] - BEGIN (implicit)
2025-03-24 19:54:30,361 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 19:54:30,361 [INFO] - [cached since 339.4s ago] ()
2025-03-24 19:54:30,363 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-24 19:54:30,363 [INFO] - ROLLBACK
2025-03-24 19:54:30,363 [INFO] - 127.0.0.1 - - [24/Mar/2025 19:54:30] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 21:01:09,091 [INFO] - BEGIN (implicit)
2025-03-24 21:01:09,104 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:01:09,104 [INFO] - [raw sql] ()
2025-03-24 21:01:09,117 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:01:09,117 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:01:09,118 [INFO] - [raw sql] ()
2025-03-24 21:01:09,118 [INFO] - COMMIT
2025-03-24 21:01:09,137 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:01:09,137 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:01:13,558 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,559 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,559 [INFO] - [generated in 0.00010s] ('test_student', 1, 0)
2025-03-24 21:01:13,560 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,560 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-24 21:01:13,632 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:01:13,632 [INFO] - [generated in 0.00013s] ('test_student', 'scrypt:32768:8:1$hQOq3s3BdfsK42zQ$ac9a19e97f5723958f0a1efabcf344ee2dc8c7d100e41fd57087c058f3b1cd00770aa094c0dade2703cdfb4c30f84ee1c29f539c487a27d397b3f2b35b64f7fa', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:01:13,681 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,681 [INFO] - [generated in 0.00008s] ('1', 1, 0)
2025-03-24 21:01:13,705 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 21:01:13,705 [INFO] - [generated in 0.00007s] ()
2025-03-24 21:01:13,717 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 21:01:13,717 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 21:01:13,717 [INFO] - COMMIT
2025-03-24 21:01:13,778 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,778 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:01:13,778 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:01:13,779 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 21:01:13,779 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:01:13,779 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:01:13,779 [INFO] - ROLLBACK
2025-03-24 21:01:13,780 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 21:01:13,782 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,784 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 21:01:13,784 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 21:01:13,785 [INFO] - ROLLBACK
2025-03-24 21:01:13,785 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 21:01:13,787 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,788 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,788 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 21:01:13,789 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:01:13,789 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 21:01:13,790 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 21:01:13,790 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 21:01:13,790 [INFO] - COMMIT
2025-03-24 21:01:13,872 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 21:01:13,873 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,874 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 21:01:13,874 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:01:13,874 [INFO] - ROLLBACK
2025-03-24 21:01:13,874 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 21:01:13,876 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,877 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:01:13,877 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 21:01:13,878 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:01:13,878 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:01:13,945 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:01:13,945 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:01:13,946 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 21:01:13,946 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:01:13,947 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 21:01:13,947 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:01:13,947 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 21:01:13,947 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:01:13,948 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:01:13,948 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:01:13,948 [INFO] - COMMIT
2025-03-24 21:01:13,953 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 21:01:13,953 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:13] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 21:01:13,954 [INFO] - BEGIN (implicit)
2025-03-24 21:01:13,955 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 21:01:13,955 [INFO] - [generated in 0.00008s] ()
2025-03-24 21:01:14,656 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 21:01:14,656 [INFO] - ROLLBACK
2025-03-24 21:01:14,656 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:01:14] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 21:03:09,986 [INFO] - BEGIN (implicit)
2025-03-24 21:03:09,992 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:03:09,992 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,030 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:03:10,030 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:03:10,031 [INFO] - [raw sql] ()
2025-03-24 21:03:10,031 [INFO] - COMMIT
2025-03-24 21:03:10,050 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:03:10,050 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:03:11,993 [INFO] - BEGIN (implicit)
2025-03-24 21:03:11,994 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:11,995 [INFO] - [generated in 0.00011s] ('test_teacher', 1, 0)
2025-03-24 21:03:11,995 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:11,995 [INFO] - [generated in 0.00007s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:03:12,066 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:03:12,066 [INFO] - [generated in 0.00014s] ('test_teacher', 'scrypt:32768:8:1$O0wgAYjfquQoz4P2$97894ecda1b44bd53e5d8b070d8a64ec748943fe61e0e99bbb13c405e20d89ed033551b55b8ac9fcb15a0ea82385958e66b576a5044e8685444d4545c94a35ca', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AAABJ0lEQVR42u3dS24syZUt0JpgTYgNDildDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (15445 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:03:12,081 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:03:12,081 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:03:12,116 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:03:12,116 [INFO] - [generated in 0.00010s] (71, 4015)
2025-03-24 21:03:12,148 [INFO] - COMMIT
2025-03-24 21:03:12,175 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,175 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:03:12,175 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:03:12,176 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:03:12,176 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:03:12,176 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:03:12,176 [INFO] - ROLLBACK
2025-03-24 21:03:12,176 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:03:12,179 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,182 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:03:12,182 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:03:12,214 [INFO] - ROLLBACK
2025-03-24 21:03:12,214 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:03:12,216 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,218 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:03:12,218 [INFO] - [generated in 0.00014s] (4015, 1, 0)
2025-03-24 21:03:12,220 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:03:12,220 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:03:12,220 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,220 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:03:12,221 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,221 [INFO] - [generated in 0.00010s] (4015, 1, 1, 0)
2025-03-24 21:03:12,221 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,221 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:03:12,222 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:03:12,222 [INFO] - [generated in 0.00006s] (4015, 1, 1, 2)
2025-03-24 21:03:12,222 [INFO] - COMMIT
2025-03-24 21:03:12,227 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:03:12,227 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,229 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:03:12,229 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:03:12,229 [INFO] - ROLLBACK
2025-03-24 21:03:12,230 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:03:12,231 [INFO] - BEGIN (implicit)
2025-03-24 21:03:12,232 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:12,232 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-24 21:03:12,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:03:12,233 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:03:12,233 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:03:12,233 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:03:12,234 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:03:12,234 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:03:12,235 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:03:12,235 [INFO] - [generated in 0.00007s] (4015,)
2025-03-24 21:03:12,235 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:03:12,235 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:03:12,236 [INFO] - ROLLBACK
2025-03-24 21:03:12,236 [ERROR] - Exception on /api/admin/teacher/4015 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 305, in delete
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    self.dependency_processor.process_deletes(uow, states)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 567, in process_deletes
    self._synchronize(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 625, in _synchronize
    sync.clear(dest, self.mapper, self.prop.synchronize_pairs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/sync.py", line 88, in clear
    raise AssertionError(
AssertionError: Dependency rule on column 'teachers.teacher_id' tried to blank-out primary key column 'teacher_position_assignments.teacher_id' on instance '<TeacherPositionAssignment at 0x1074efb60>'
2025-03-24 21:03:12,313 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:12] "[35m[1mDELETE /api/admin/teacher/4015 HTTP/1.1[0m" 500 -
2025-03-24 21:03:26,914 [INFO] - BEGIN (implicit)
2025-03-24 21:03:26,915 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:03:26,915 [INFO] - [cached since 14.91s ago] ('test_teacher', 1, 0)
2025-03-24 21:03:26,915 [ERROR] - POST /api/admin/teacher - Username test_teacher already exists
2025-03-24 21:03:26,915 [INFO] - ROLLBACK
2025-03-24 21:03:26,916 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:03:26] "[31m[1mPOST /api/admin/teacher HTTP/1.1[0m" 400 -
2025-03-24 21:04:55,309 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,321 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,321 [INFO] - [cached since 103.3s ago] ('test_teacher', 1, 0)
2025-03-24 21:04:55,323 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,323 [INFO] - [cached since 103.3s ago] ('jane.smith@example.com', 1, 0)
2025-03-24 21:04:55,398 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:04:55,398 [INFO] - [cached since 103.3s ago] ('test_teacher', 'scrypt:32768:8:1$AO5m1aN2kVP8mUAZ$6476b1378bc031acc97a2fb320349014548444d85c7265373f659a5b3ca3bf21b01a55ea316ab196a3f7654b76f44f3c0782b9e93187c5fe22ade789eae54903', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AAABJ0lEQVR42u3dS24syZUt0JpgTYgNDildDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (15445 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:04:55,421 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:04:55,421 [INFO] - [cached since 103.3s ago] ()
2025-03-24 21:04:55,421 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:04:55,421 [INFO] - [cached since 103.3s ago] (71, 4015)
2025-03-24 21:04:55,422 [INFO] - COMMIT
2025-03-24 21:04:55,429 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,429 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:04:55,429 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,429 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:04:55,430 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:04:55,430 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,430 [INFO] - ROLLBACK
2025-03-24 21:04:55,430 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:04:55,432 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,433 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:04:55,433 [INFO] - [cached since 103.2s ago] (4015, 1, 0)
2025-03-24 21:04:55,434 [INFO] - ROLLBACK
2025-03-24 21:04:55,434 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:04:55,436 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,436 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:04:55,436 [INFO] - [cached since 103.2s ago] (4015, 1, 0)
2025-03-24 21:04:55,436 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:04:55,436 [INFO] - [cached since 103.2s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:04:55,437 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,437 [INFO] - [cached since 103.2s ago] (1, 1, 0)
2025-03-24 21:04:55,437 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,437 [INFO] - [cached since 103.2s ago] (4015, 1, 1, 0)
2025-03-24 21:04:55,437 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,437 [INFO] - [cached since 103.2s ago] (1, 1, 0)
2025-03-24 21:04:55,438 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:04:55,438 [INFO] - [cached since 103.2s ago] (4015, 1, 1, 2)
2025-03-24 21:04:55,438 [INFO] - COMMIT
2025-03-24 21:04:55,442 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:04:55,442 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,442 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:04:55,442 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,443 [INFO] - ROLLBACK
2025-03-24 21:04:55,443 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:04:55,444 [INFO] - BEGIN (implicit)
2025-03-24 21:04:55,444 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:04:55,444 [INFO] - [cached since 103.2s ago] (4015, 1, 0)
2025-03-24 21:04:55,444 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:04:55,444 [INFO] - [cached since 103.2s ago] (4015,)
2025-03-24 21:04:55,445 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (4015,)
2025-03-24 21:04:55,445 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (4015,)
2025-03-24 21:04:55,445 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,445 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:04:55,445 [INFO] - [cached since 103.2s ago] (71,)
2025-03-24 21:04:55,446 [INFO] - ROLLBACK
2025-03-24 21:04:55,446 [ERROR] - Exception on /api/admin/teacher/4015 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 305, in delete
    db_sess.commit()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    self.dependency_processor.process_deletes(uow, states)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 567, in process_deletes
    self._synchronize(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 625, in _synchronize
    sync.clear(dest, self.mapper, self.prop.synchronize_pairs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/sync.py", line 88, in clear
    raise AssertionError(
AssertionError: Dependency rule on column 'teachers.teacher_id' tried to blank-out primary key column 'teacher_position_assignments.teacher_id' on instance '<TeacherPositionAssignment at 0x10771ede0>'
2025-03-24 21:04:55,447 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:04:55] "[35m[1mDELETE /api/admin/teacher/4015 HTTP/1.1[0m" 500 -
2025-03-24 21:10:19,698 [INFO] - BEGIN (implicit)
2025-03-24 21:10:19,706 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:10:19,706 [INFO] - [cached since 427.5s ago] (4015, 1, 0)
2025-03-24 21:10:19,728 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:10:19,728 [INFO] - [cached since 427.5s ago] (71,)
2025-03-24 21:10:19,729 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:10:19,729 [INFO] - [cached since 427.5s ago] (71,)
2025-03-24 21:10:19,729 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:10:19,729 [INFO] - [cached since 427.5s ago] (4015,)
2025-03-24 21:10:19,729 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:10:19,729 [INFO] - [cached since 427.5s ago] (4015,)
2025-03-24 21:10:19,730 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:10:19,730 [INFO] - [cached since 427.5s ago] (4015,)
2025-03-24 21:10:19,730 [INFO] - ROLLBACK
2025-03-24 21:10:19,731 [ERROR] - Exception on /api/admin/teacher/4015 [DELETE]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 305, in delete
    ).delete()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4296, in flush
    self._flush(objects)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4431, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4392, in _flush
    flush_context.execute()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    self.dependency_processor.process_deletes(uow, states)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 567, in process_deletes
    self._synchronize(
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/dependency.py", line 625, in _synchronize
    sync.clear(dest, self.mapper, self.prop.synchronize_pairs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/sqlalchemy/orm/sync.py", line 88, in clear
    raise AssertionError(
AssertionError: Dependency rule on column 'teachers.teacher_id' tried to blank-out primary key column 'teacher_position_assignments.teacher_id' on instance '<TeacherPositionAssignment at 0x10771e420>'
2025-03-24 21:10:19,734 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:10:19] "[35m[1mDELETE /api/admin/teacher/4015 HTTP/1.1[0m" 500 -
2025-03-24 21:13:06,568 [INFO] - BEGIN (implicit)
2025-03-24 21:13:06,568 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:13:06,568 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:13:06,569 [INFO] - [raw sql] ()
2025-03-24 21:13:06,569 [INFO] - COMMIT
2025-03-24 21:13:06,587 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:13:06,587 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:13:09,261 [INFO] - BEGIN (implicit)
2025-03-24 21:13:09,263 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:09,263 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:13:09,264 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:13:09,264 [INFO] - [generated in 0.00007s] (4015,)
2025-03-24 21:13:09,295 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:13:09,295 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:13:09,296 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:13:09,296 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:13:09,297 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:13:09,297 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:13:09,297 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:13:09,297 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:13:09,317 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:13:09,317 [INFO] - [generated in 0.00008s] (4015,)
2025-03-24 21:13:09,318 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:13:09,318 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:13:09,318 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:13:09,318 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:13:09,347 [INFO] - COMMIT
2025-03-24 21:13:09,375 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:13:09,376 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:09] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:13:31,852 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,853 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,853 [INFO] - [generated in 0.00019s] ('test_teacher', 1, 0)
2025-03-24 21:13:31,854 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,854 [INFO] - [generated in 0.00007s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:13:31,925 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:13:31,925 [INFO] - [generated in 0.00017s] ('test_teacher', 'scrypt:32768:8:1$swVhMpO7isOhDn0H$95df4e92e35b3d5889bf836eb481cb5a3e934484e5bd5c8b2d71d98380d19dab1cf3de6c50b50141ce0ed4aa75542869b4aced38953ac8bc37d5ce0754ed07f4', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AAABJ0lEQVR42u3dS24syZUt0JpgTYgNDildDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (15445 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:13:31,942 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:13:31,942 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:13:31,942 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:13:31,942 [INFO] - [generated in 0.00006s] (71, 4015)
2025-03-24 21:13:31,943 [INFO] - COMMIT
2025-03-24 21:13:31,959 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,960 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:13:31,960 [INFO] - [generated in 0.00009s] (71,)
2025-03-24 21:13:31,960 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:13:31,960 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:13:31,960 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:13:31,961 [INFO] - ROLLBACK
2025-03-24 21:13:31,961 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:31] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:13:31,963 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,966 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:13:31,966 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:13:31,967 [INFO] - ROLLBACK
2025-03-24 21:13:31,968 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:31] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:13:31,969 [INFO] - BEGIN (implicit)
2025-03-24 21:13:31,971 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:13:31,971 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:13:31,972 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:13:31,972 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:13:31,992 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,992 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-24 21:13:31,993 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,993 [INFO] - [generated in 0.00007s] (4015, 1, 1, 0)
2025-03-24 21:13:31,993 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:31,993 [INFO] - [generated in 0.00005s] (1, 1, 0)
2025-03-24 21:13:31,994 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:13:31,994 [INFO] - [generated in 0.00006s] (4015, 1, 1, 2)
2025-03-24 21:13:31,994 [INFO] - COMMIT
2025-03-24 21:13:32,024 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:13:32,024 [INFO] - BEGIN (implicit)
2025-03-24 21:13:32,026 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:13:32,026 [INFO] - [generated in 0.00013s] (71,)
2025-03-24 21:13:32,027 [INFO] - ROLLBACK
2025-03-24 21:13:32,027 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:32] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:13:32,030 [INFO] - BEGIN (implicit)
2025-03-24 21:13:32,030 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:13:32,030 [INFO] - [cached since 22.77s ago] (4015, 1, 0)
2025-03-24 21:13:32,030 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:13:32,030 [INFO] - [cached since 22.77s ago] (4015,)
2025-03-24 21:13:32,031 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:13:32,031 [INFO] - [cached since 22.73s ago] (4015,)
2025-03-24 21:13:32,031 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:13:32,031 [INFO] - [cached since 22.73s ago] (4015,)
2025-03-24 21:13:32,031 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:13:32,031 [INFO] - [cached since 22.71s ago] (4015,)
2025-03-24 21:13:32,032 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.74s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.74s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.71s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:13:32,032 [INFO] - [cached since 22.71s ago] (71,)
2025-03-24 21:13:32,032 [INFO] - COMMIT
2025-03-24 21:13:32,039 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:13:32,039 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:13:32] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:22:51,021 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:22:51] "[31m[1mPOST /api/admin/teacher HTTP/1.1[0m" 400 -
2025-03-24 21:23:09,616 [INFO] - BEGIN (implicit)
2025-03-24 21:23:09,616 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:23:09,616 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:23:09,617 [INFO] - [raw sql] ()
2025-03-24 21:23:09,617 [INFO] - COMMIT
2025-03-24 21:23:09,635 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:23:09,635 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:23:11,296 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,297 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,298 [INFO] - [generated in 0.00010s] ('test_teacher', 1, 0)
2025-03-24 21:23:11,298 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,298 [INFO] - [generated in 0.00007s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:23:11,372 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:23:11,372 [INFO] - [generated in 0.00017s] ('test_teacher', 'scrypt:32768:8:1$DXQvLZKPscuAk8x6$de0f098a5525a11e6de6063daaa186a3b5f81921930177825b9f38088ca2c4a98d01d234ba8640d348181e2874c0711ca4f20e1106cae0cad61d586d7ea7f925', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:23:11,416 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:23:11,416 [INFO] - [generated in 0.00008s] ()
2025-03-24 21:23:11,448 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:23:11,448 [INFO] - [generated in 0.00008s] (71, 4015)
2025-03-24 21:23:11,480 [INFO] - COMMIT
2025-03-24 21:23:11,505 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,505 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:23:11,505 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:23:11,506 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:23:11,506 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:23:11,506 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,506 [INFO] - ROLLBACK
2025-03-24 21:23:11,506 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:23:11,509 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,512 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:11,512 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:23:11,592 [INFO] - ROLLBACK
2025-03-24 21:23:11,592 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:11,594 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,596 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:11,596 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:23:11,597 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:23:11,597 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:23:11,597 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,597 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-24 21:23:11,598 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,598 [INFO] - [generated in 0.00006s] (4015, 1, 1, 0)
2025-03-24 21:23:11,598 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,598 [INFO] - [generated in 0.00005s] (1, 1, 0)
2025-03-24 21:23:11,599 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:23:11,599 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-24 21:23:11,599 [INFO] - COMMIT
2025-03-24 21:23:11,655 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:23:11,655 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,657 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:23:11,657 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:23:11,657 [INFO] - ROLLBACK
2025-03-24 21:23:11,657 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:11,659 [INFO] - BEGIN (implicit)
2025-03-24 21:23:11,659 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:11,659 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-24 21:23:11,660 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:23:11,660 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:23:11,661 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:23:11,661 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,661 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:23:11,661 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,662 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:23:11,662 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:23:11,663 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:23:11,663 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:23:11,663 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:23:11,663 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:23:11,664 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:23:11,664 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:23:11,664 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:23:11,664 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 21:23:11,664 [INFO] - COMMIT
2025-03-24 21:23:11,671 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:23:11,672 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:11] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:56,544 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,546 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,546 [INFO] - [cached since 45.25s ago] ('test_teacher', 1, 0)
2025-03-24 21:23:56,547 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,547 [INFO] - [cached since 45.25s ago] ('jane.smith@example.com', 1, 0)
2025-03-24 21:23:56,618 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:23:56,618 [INFO] - [cached since 45.25s ago] ('test_teacher', 'scrypt:32768:8:1$UDSblD75YtWj49AQ$c3c19d5cf8d3fed93f4b3d1a37e486feb83c491f850d80a12b8b82105fd0f7b128d1ba81e686279b1c89e30a0b26144bdd30c3266aed5dce443ef7d8bb65580d', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:23:56,625 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:23:56,625 [INFO] - [cached since 45.21s ago] ()
2025-03-24 21:23:56,626 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:23:56,626 [INFO] - [cached since 45.18s ago] (71, 4015)
2025-03-24 21:23:56,626 [INFO] - COMMIT
2025-03-24 21:23:56,647 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:23:56,647 [INFO] - [cached since 45.14s ago] (71,)
2025-03-24 21:23:56,647 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:23:56,647 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:23:56,647 [INFO] - [cached since 45.14s ago] (71,)
2025-03-24 21:23:56,647 [INFO] - ROLLBACK
2025-03-24 21:23:56,648 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:23:56,650 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,650 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:56,650 [INFO] - [cached since 45.14s ago] (4015, 1, 0)
2025-03-24 21:23:56,651 [INFO] - ROLLBACK
2025-03-24 21:23:56,651 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:56,653 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,653 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:23:56,653 [INFO] - [cached since 45.06s ago] (4015, 1, 0)
2025-03-24 21:23:56,653 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:23:56,653 [INFO] - [cached since 45.06s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:23:56,654 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (1, 1, 0)
2025-03-24 21:23:56,654 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (4015, 1, 1, 0)
2025-03-24 21:23:56,654 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (1, 1, 0)
2025-03-24 21:23:56,654 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:23:56,654 [INFO] - [cached since 45.06s ago] (4015, 1, 1, 2)
2025-03-24 21:23:56,654 [INFO] - COMMIT
2025-03-24 21:23:56,750 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:23:56,751 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,751 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:23:56,751 [INFO] - [cached since 45.09s ago] (71,)
2025-03-24 21:23:56,751 [INFO] - ROLLBACK
2025-03-24 21:23:56,751 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:23:56,753 [INFO] - BEGIN (implicit)
2025-03-24 21:23:56,754 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:23:56,754 [INFO] - [cached since 45.09s ago] (4015, 1, 0)
2025-03-24 21:23:56,754 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:23:56,754 [INFO] - [cached since 45.09s ago] (4015,)
2025-03-24 21:23:56,767 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:23:56,767 [INFO] - [cached since 45.11s ago] (4015,)
2025-03-24 21:23:56,767 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:23:56,767 [INFO] - [cached since 45.1s ago] (4015,)
2025-03-24 21:23:56,768 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:23:56,768 [INFO] - [cached since 45.1s ago] (4015,)
2025-03-24 21:23:56,768 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:23:56,768 [INFO] - [cached since 45.11s ago] (71,)
2025-03-24 21:23:56,768 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:23:56,768 [INFO] - [cached since 45.11s ago] (71,)
2025-03-24 21:23:56,769 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:23:56,769 [INFO] - [cached since 45.1s ago] (71,)
2025-03-24 21:23:56,769 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:23:56,769 [INFO] - [cached since 45.1s ago] (71,)
2025-03-24 21:23:56,769 [INFO] - COMMIT
2025-03-24 21:23:56,782 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:23:56,783 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:23:56] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:24:04,760 [INFO] - BEGIN (implicit)
2025-03-24 21:24:04,760 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:24:04,760 [INFO] - [raw sql] ()
2025-03-24 21:24:04,760 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:24:04,760 [INFO] - [raw sql] ()
2025-03-24 21:24:04,760 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:24:04,760 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:24:04,761 [INFO] - [raw sql] ()
2025-03-24 21:24:04,761 [INFO] - COMMIT
2025-03-24 21:24:04,780 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:24:04,803 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:24:07,044 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,045 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,045 [INFO] - [generated in 0.00012s] ('test_teacher', 1, 0)
2025-03-24 21:24:07,046 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,046 [INFO] - [generated in 0.00008s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:24:07,118 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:24:07,118 [INFO] - [generated in 0.00015s] ('test_teacher', 'scrypt:32768:8:1$IH9mhQzCT87qVo2y$e6580b65fa0b975251f698b8025b2c53dd319b5c2b1abea637adfbde354c9ea8d24f82d44ef3ae975b593b7662f6571fae6ae9dd529c59a7f7c73be62a598b10', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:24:07,142 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:24:07,142 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:24:07,142 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:24:07,142 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-24 21:24:07,174 [INFO] - COMMIT
2025-03-24 21:24:07,179 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,180 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:24:07,180 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:24:07,180 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:24:07,180 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:24:07,180 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:24:07,180 [INFO] - ROLLBACK
2025-03-24 21:24:07,181 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:24:07,183 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,186 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:24:07,186 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-24 21:24:07,220 [INFO] - ROLLBACK
2025-03-24 21:24:07,220 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:24:07,222 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,223 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:24:07,223 [INFO] - [generated in 0.00008s] (4015, 1, 0)
2025-03-24 21:24:07,225 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:24:07,225 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:24:07,225 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,225 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:24:07,226 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,226 [INFO] - [generated in 0.00009s] (4015, 1, 1, 0)
2025-03-24 21:24:07,226 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,226 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:24:07,227 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:24:07,227 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-24 21:24:07,227 [INFO] - COMMIT
2025-03-24 21:24:07,243 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:24:07,243 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,246 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:24:07,246 [INFO] - [generated in 0.00010s] (71,)
2025-03-24 21:24:07,246 [INFO] - ROLLBACK
2025-03-24 21:24:07,246 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:24:07,248 [INFO] - BEGIN (implicit)
2025-03-24 21:24:07,249 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:24:07,249 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-24 21:24:07,250 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:24:07,250 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:24:07,251 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:24:07,251 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 21:24:07,252 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:24:07,252 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:24:07,252 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:24:07,252 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:24:07,253 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:24:07,253 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:24:07,253 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:24:07,253 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:24:07,254 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:24:07,254 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:24:07,254 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:24:07,254 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 21:24:07,255 [INFO] - COMMIT
2025-03-24 21:24:07,261 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:24:07,261 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:24:07] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:30:48,666 [INFO] - BEGIN (implicit)
2025-03-24 21:30:48,666 [INFO] - PRAGMA main.table_info("users")
2025-03-24 21:30:48,666 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("students")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,667 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 21:30:48,667 [INFO] - [raw sql] ()
2025-03-24 21:30:48,668 [INFO] - COMMIT
2025-03-24 21:30:48,686 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 21:30:48,686 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 21:31:15,440 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,442 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,442 [INFO] - [generated in 0.00015s] ('test_teacher', 1, 0)
2025-03-24 21:31:15,443 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,443 [INFO] - [generated in 0.00008s] ('jane.smith@example.com', 1, 0)
2025-03-24 21:31:15,515 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 21:31:15,515 [INFO] - [generated in 0.00016s] ('test_teacher', 'scrypt:32768:8:1$GbkKYk1Yv1iVFgGM$df6a76084eece66253abb1a715e1d052651f32603650412500be3c56a7cce0628ddbaedca9c09f883ba691e5afd52fb56b3ec0fa8a60c58a31637ec556792443', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 21:31:15,552 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-24 21:31:15,552 [INFO] - [generated in 0.00009s] ()
2025-03-24 21:31:15,586 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-24 21:31:15,586 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-24 21:31:15,619 [INFO] - COMMIT
2025-03-24 21:31:15,650 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,650 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 21:31:15,650 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:31:15,651 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-24 21:31:15,651 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 21:31:15,651 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:31:15,651 [INFO] - ROLLBACK
2025-03-24 21:31:15,652 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-24 21:31:15,654 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,658 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:31:15,658 [INFO] - [generated in 0.00016s] (4015, 1, 0)
2025-03-24 21:31:15,740 [INFO] - ROLLBACK
2025-03-24 21:31:15,740 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:31:15,742 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,743 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:31:15,743 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-24 21:31:15,745 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 21:31:15,745 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-24 21:31:15,745 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,745 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:31:15,746 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,746 [INFO] - [generated in 0.00008s] (4015, 1, 1, 0)
2025-03-24 21:31:15,746 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,746 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 21:31:15,747 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-24 21:31:15,747 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-24 21:31:15,747 [INFO] - COMMIT
2025-03-24 21:31:15,788 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-24 21:31:15,788 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,789 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-24 21:31:15,790 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 21:31:15,790 [INFO] - ROLLBACK
2025-03-24 21:31:15,790 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:31:15,791 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,792 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-24 21:31:15,792 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-24 21:31:15,793 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-24 21:31:15,793 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:31:15,794 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 21:31:15,794 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 21:31:15,794 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 21:31:15,794 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:31:15,795 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-24 21:31:15,795 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:31:15,795 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-24 21:31:15,795 [INFO] - [generated in 0.00006s] (4015,)
2025-03-24 21:31:15,796 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-24 21:31:15,796 [INFO] - [generated in 0.00005s] (4015,)
2025-03-24 21:31:15,797 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-24 21:31:15,797 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 21:31:15,797 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 21:31:15,797 [INFO] - [generated in 0.00004s] (71,)
2025-03-24 21:31:15,797 [INFO] - COMMIT
2025-03-24 21:31:15,804 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-24 21:31:15,804 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:15] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-24 21:31:15,805 [INFO] - BEGIN (implicit)
2025-03-24 21:31:15,807 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-24 21:31:15,807 [INFO] - [generated in 0.00008s] ()
2025-03-24 21:31:16,181 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-24 21:31:16,182 [INFO] - ROLLBACK
2025-03-24 21:31:16,184 [INFO] - 127.0.0.1 - - [24/Mar/2025 21:31:16] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-24 22:01:06,844 [INFO] - BEGIN (implicit)
2025-03-24 22:01:06,858 [INFO] - PRAGMA main.table_info("users")
2025-03-24 22:01:06,858 [INFO] - [raw sql] ()
2025-03-24 22:01:06,870 [INFO] - PRAGMA main.table_info("students")
2025-03-24 22:01:06,870 [INFO] - [raw sql] ()
2025-03-24 22:01:06,870 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 22:01:06,870 [INFO] - [raw sql] ()
2025-03-24 22:01:06,870 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 22:01:06,870 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 22:01:06,871 [INFO] - [raw sql] ()
2025-03-24 22:01:06,871 [INFO] - COMMIT
2025-03-24 22:01:06,890 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 22:01:06,890 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 22:01:09,046 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,047 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,047 [INFO] - [generated in 0.00010s] ('test_student', 1, 0)
2025-03-24 22:01:09,048 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,048 [INFO] - [generated in 0.00008s] ('john.doe@example.com', 1, 0)
2025-03-24 22:01:09,118 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 22:01:09,118 [INFO] - [generated in 0.00017s] ('test_student', 'scrypt:32768:8:1$zTvkpS8OR4toNQZi$d53f717766e7e7ea44c19f8f389f1f8d72a618f88b71e003ac9ec2f9550aa1d12d5483ff5f8092c37fd7e67e6c07a2394dd8adfb27af3c3cc426c5dff1cce5e8', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 22:01:09,159 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,159 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-24 22:01:09,192 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 22:01:09,192 [INFO] - [generated in 0.00012s] ()
2025-03-24 22:01:09,204 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 22:01:09,204 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 22:01:09,204 [INFO] - COMMIT
2025-03-24 22:01:09,249 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 22:01:09,250 [INFO] - [generated in 0.00010s] (71,)
2025-03-24 22:01:09,250 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 22:01:09,251 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 22:01:09,251 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,251 [INFO] - ROLLBACK
2025-03-24 22:01:09,251 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 22:01:09,253 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,256 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 22:01:09,256 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-24 22:01:09,257 [INFO] - ROLLBACK
2025-03-24 22:01:09,257 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:01:09,259 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,261 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,261 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:01:09,262 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 22:01:09,262 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 22:01:09,272 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 22:01:09,273 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 22:01:09,273 [INFO] - COMMIT
2025-03-24 22:01:09,327 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 22:01:09,327 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,328 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 22:01:09,328 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 22:01:09,328 [INFO] - ROLLBACK
2025-03-24 22:01:09,329 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:01:09,330 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,331 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:01:09,331 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-24 22:01:09,332 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 22:01:09,332 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:01:09,392 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 22:01:09,392 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,392 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 22:01:09,392 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,393 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 22:01:09,393 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:01:09,394 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 22:01:09,394 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:01:09,394 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 22:01:09,394 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:01:09,395 [INFO] - COMMIT
2025-03-24 22:01:09,420 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 22:01:09,420 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:09] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:01:09,421 [INFO] - BEGIN (implicit)
2025-03-24 22:01:09,422 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 22:01:09,422 [INFO] - [generated in 0.00008s] ()
2025-03-24 22:01:10,086 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 22:01:10,086 [INFO] - ROLLBACK
2025-03-24 22:01:10,087 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:01:10] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 22:09:06,404 [INFO] - BEGIN (implicit)
2025-03-24 22:09:06,404 [INFO] - PRAGMA main.table_info("users")
2025-03-24 22:09:06,404 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("students")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 22:09:06,405 [INFO] - [raw sql] ()
2025-03-24 22:09:06,405 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 22:09:06,406 [INFO] - [raw sql] ()
2025-03-24 22:09:06,406 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 22:09:06,406 [INFO] - [raw sql] ()
2025-03-24 22:09:06,406 [INFO] - COMMIT
2025-03-24 22:09:06,434 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 22:09:06,434 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 22:09:07,141 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,143 [INFO] - [generated in 0.00013s] ('test_student', 1, 0)
2025-03-24 22:09:07,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,144 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-24 22:09:07,215 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 22:09:07,215 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$gHPRp0LHIjHq3Yc6$942225b30939e5cf29eac90bfe26fe13ef58f04c7b52853249bf64f2d1465e5a143c1756f77c6997fdf72655b7a7eb0d4fb60ad2544b9c57d86fd84a9d5d0459', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 22:09:07,260 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,260 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-24 22:09:07,261 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 22:09:07,261 [INFO] - [generated in 0.00005s] ()
2025-03-24 22:09:07,262 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 22:09:07,262 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 22:09:07,262 [INFO] - COMMIT
2025-03-24 22:09:07,303 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,304 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 22:09:07,304 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 22:09:07,304 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 22:09:07,305 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 22:09:07,305 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:09:07,305 [INFO] - ROLLBACK
2025-03-24 22:09:07,305 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 22:09:07,308 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,311 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 22:09:07,311 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-24 22:09:07,311 [INFO] - ROLLBACK
2025-03-24 22:09:07,312 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:09:07,313 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,314 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,314 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-24 22:09:07,316 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 22:09:07,316 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 22:09:07,316 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 22:09:07,316 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 22:09:07,316 [INFO] - COMMIT
2025-03-24 22:09:07,416 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 22:09:07,416 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,418 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 22:09:07,418 [INFO] - [generated in 0.00011s] (71,)
2025-03-24 22:09:07,418 [INFO] - ROLLBACK
2025-03-24 22:09:07,419 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:09:07,420 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,422 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:09:07,422 [INFO] - [generated in 0.00017s] (3050, 1, 0)
2025-03-24 22:09:07,423 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 22:09:07,423 [INFO] - [generated in 0.00009s] (71,)
2025-03-24 22:09:07,424 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 22:09:07,424 [INFO] - [generated in 0.00013s] (71,)
2025-03-24 22:09:07,425 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 22:09:07,425 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:09:07,426 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 22:09:07,426 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:09:07,426 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 22:09:07,426 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:09:07,427 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 22:09:07,427 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:09:07,427 [INFO] - COMMIT
2025-03-24 22:09:07,432 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 22:09:07,432 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:09:07,434 [INFO] - BEGIN (implicit)
2025-03-24 22:09:07,436 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 22:09:07,436 [INFO] - [generated in 0.00009s] ()
2025-03-24 22:09:07,863 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 22:09:07,864 [INFO] - ROLLBACK
2025-03-24 22:09:07,864 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:09:07] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-24 22:12:34,787 [INFO] - BEGIN (implicit)
2025-03-24 22:12:34,787 [INFO] - PRAGMA main.table_info("users")
2025-03-24 22:12:34,787 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("students")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("schedule")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("grades")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("admins")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("classes")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("teachers")
2025-03-24 22:12:34,797 [INFO] - [raw sql] ()
2025-03-24 22:12:34,797 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("attendance")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("homework")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - PRAGMA main.table_info("subjects")
2025-03-24 22:12:34,798 [INFO] - [raw sql] ()
2025-03-24 22:12:34,798 [INFO] - COMMIT
2025-03-24 22:12:34,817 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-24 22:12:34,817 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-24 22:12:40,815 [INFO] - BEGIN (implicit)
2025-03-24 22:12:40,817 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:40,817 [INFO] - [generated in 0.00016s] ('test_student', 1, 0)
2025-03-24 22:12:40,818 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:40,818 [INFO] - [generated in 0.00009s] ('john.doe@example.com', 1, 0)
2025-03-24 22:12:40,891 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24 22:12:40,891 [INFO] - [generated in 0.00017s] ('test_student', 'scrypt:32768:8:1$hktD93nQAug2evrW$580d3dd1f9a3901eaa226700e5cd193e5eed2072f72bbf569afaa10e1dcbd6a4e172c295498edc158fc2c1039ba424b6484b32646685d5950e6bc75a46cf428e', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-24 22:12:40,934 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:40,934 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-24 22:12:40,966 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-24 22:12:40,966 [INFO] - [generated in 0.00012s] ()
2025-03-24 22:12:40,978 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-24 22:12:40,978 [INFO] - [generated in 0.00010s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-24 22:12:40,978 [INFO] - COMMIT
2025-03-24 22:12:41,024 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,024 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-24 22:12:41,024 [INFO] - [generated in 0.00008s] (71,)
2025-03-24 22:12:41,024 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-24 22:12:41,025 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-24 22:12:41,025 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,025 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:41,025 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-24 22:12:41,026 [INFO] - ROLLBACK
2025-03-24 22:12:41,026 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-24 22:12:41,028 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,031 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-24 22:12:41,031 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:12:41,049 [INFO] - ROLLBACK
2025-03-24 22:12:41,049 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:12:41,051 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,052 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:41,052 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:12:41,053 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-24 22:12:41,053 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-24 22:12:41,054 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-24 22:12:41,054 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-24 22:12:41,055 [INFO] - COMMIT
2025-03-24 22:12:41,079 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-24 22:12:41,079 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,080 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-24 22:12:41,080 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,081 [INFO] - ROLLBACK
2025-03-24 22:12:41,081 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:12:41,082 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,083 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-24 22:12:41,083 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-24 22:12:41,084 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-24 22:12:41,084 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:12:41,085 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-24 22:12:41,085 [INFO] - [generated in 0.00005s] (71,)
2025-03-24 22:12:41,085 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-24 22:12:41,085 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,141 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-24 22:12:41,141 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,141 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-24 22:12:41,141 [INFO] - [generated in 0.00007s] (71,)
2025-03-24 22:12:41,142 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-24 22:12:41,142 [INFO] - [generated in 0.00006s] (71,)
2025-03-24 22:12:41,142 [INFO] - COMMIT
2025-03-24 22:12:41,148 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-24 22:12:41,148 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-24 22:12:41,149 [INFO] - BEGIN (implicit)
2025-03-24 22:12:41,150 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-24 22:12:41,150 [INFO] - [generated in 0.00008s] ()
2025-03-24 22:12:41,835 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-24 22:12:41,836 [INFO] - ROLLBACK
2025-03-24 22:12:41,836 [INFO] - 127.0.0.1 - - [24/Mar/2025 22:12:41] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:17:52,264 [INFO] - BEGIN (implicit)
2025-03-25 01:17:52,275 [INFO] - PRAGMA main.table_info("users")
2025-03-25 01:17:52,275 [INFO] - [raw sql] ()
2025-03-25 01:17:52,304 [INFO] - PRAGMA main.table_info("students")
2025-03-25 01:17:52,304 [INFO] - [raw sql] ()
2025-03-25 01:17:52,304 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 01:17:52,304 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 01:17:52,305 [INFO] - [raw sql] ()
2025-03-25 01:17:52,305 [INFO] - COMMIT
2025-03-25 01:17:52,313 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 01:17:52,313 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 01:17:54,280 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,281 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,281 [INFO] - [generated in 0.00008s] ('test_teacher', 1, 0)
2025-03-25 01:17:54,282 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,282 [INFO] - [generated in 0.00006s] ('jane.smith@example.com', 1, 0)
2025-03-25 01:17:54,343 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:17:54,343 [INFO] - [generated in 0.00013s] ('test_teacher', 'scrypt:32768:8:1$VpOQMC5bc99PQerm$ef2fec4aec26faafc04534daedca3e78154f7c707a8112ac76fb1947713ed0f8af2253f425a113a1e46d5488596fbb6dad117d01fbff9637eee34ae75b7a270d', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:17:54,365 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:17:54,365 [INFO] - [generated in 0.00010s] ()
2025-03-25 01:17:54,367 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:17:54,367 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-25 01:17:54,368 [INFO] - COMMIT
2025-03-25 01:17:54,395 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,395 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:17:54,395 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:17:54,395 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-25 01:17:54,396 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:17:54,396 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,396 [INFO] - ROLLBACK
2025-03-25 01:17:54,396 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:17:54,399 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,402 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:17:54,402 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-25 01:17:54,484 [INFO] - ROLLBACK
2025-03-25 01:17:54,484 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:17:54,486 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,488 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:17:54,488 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-25 01:17:54,490 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:17:54,490 [INFO] - [generated in 0.00008s] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:17:54,508 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,508 [INFO] - [generated in 0.00013s] (1, 1, 0)
2025-03-25 01:17:54,509 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,509 [INFO] - [generated in 0.00010s] (4015, 1, 1, 0)
2025-03-25 01:17:54,509 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,509 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-25 01:17:54,510 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:17:54,510 [INFO] - [generated in 0.00005s] (4015, 1, 1, 2)
2025-03-25 01:17:54,510 [INFO] - COMMIT
2025-03-25 01:17:54,545 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-25 01:17:54,545 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,547 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:17:54,547 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:17:54,548 [INFO] - ROLLBACK
2025-03-25 01:17:54,548 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:17:54,549 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,550 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:17:54,550 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-25 01:17:54,551 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:17:54,551 [INFO] - [generated in 0.00005s] (4015,)
2025-03-25 01:17:54,579 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:17:54,579 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:17:54,580 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:17:54,580 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,580 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:17:54,580 [INFO] - [generated in 0.00005s] (4015,)
2025-03-25 01:17:54,581 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:17:54,581 [INFO] - [generated in 0.00007s] (4015,)
2025-03-25 01:17:54,582 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:17:54,582 [INFO] - [generated in 0.00009s] (4015,)
2025-03-25 01:17:54,582 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:17:54,582 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,583 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:17:54,583 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:17:54,583 [INFO] - COMMIT
2025-03-25 01:17:54,591 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-25 01:17:54,591 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:17:54,593 [INFO] - BEGIN (implicit)
2025-03-25 01:17:54,594 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:17:54,594 [INFO] - [generated in 0.00009s] ()
2025-03-25 01:17:54,695 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-25 01:17:54,695 [INFO] - ROLLBACK
2025-03-25 01:17:54,697 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:17:54] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:19:57,595 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:19:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:20:16,933 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:20:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:20:27,192 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:20:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:37:42,902 [INFO] - BEGIN (implicit)
2025-03-25 01:37:42,924 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:42,924 [INFO] - [cached since 1189s ago] ('test_student', 1, 0)
2025-03-25 01:37:42,953 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:42,953 [INFO] - [cached since 1189s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:37:43,027 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:37:43,027 [INFO] - [cached since 1189s ago] ('test_student', 'scrypt:32768:8:1$ED2PG8o8imAIkFqq$789ef33b40cf499689f72d1c949922add41d0ad7f0131631a15736d24cb58d625fd17ffb7b049efbbc632b779c52fef019899c41534dc99a93db4b9e64110584', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:37:43,032 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,032 [INFO] - [generated in 0.00012s] ('1', 1, 0)
2025-03-25 01:37:43,033 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:37:43,033 [INFO] - [generated in 0.00006s] ()
2025-03-25 01:37:43,053 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:37:43,053 [INFO] - [generated in 0.00012s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:37:43,053 [INFO] - COMMIT
2025-03-25 01:37:43,278 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,278 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:37:43,278 [INFO] - [cached since 1189s ago] (71,)
2025-03-25 01:37:43,279 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-25 01:37:43,279 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:37:43,279 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 01:37:43,311 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,311 [INFO] - [cached since 1189s ago] (1, 1, 0)
2025-03-25 01:37:43,311 [INFO] - ROLLBACK
2025-03-25 01:37:43,311 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:37:43,313 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,318 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:37:43,318 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-25 01:37:43,330 [INFO] - ROLLBACK
2025-03-25 01:37:43,330 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:43,332 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,333 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,333 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 01:37:43,334 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:37:43,334 [INFO] - [cached since 1189s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:37:43,335 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:37:43,335 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-25 01:37:43,335 [INFO] - COMMIT
2025-03-25 01:37:43,377 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-25 01:37:43,377 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,378 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:37:43,378 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 01:37:43,379 [INFO] - ROLLBACK
2025-03-25 01:37:43,379 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:43,380 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,381 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:43,381 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 01:37:43,382 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:37:43,382 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,383 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:37:43,383 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,383 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:37:43,383 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,384 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:37:43,384 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:37:43,384 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:37:43,384 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:37:43,384 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:37:43,384 [INFO] - [cached since 1189s ago] (71,)
2025-03-25 01:37:43,384 [INFO] - COMMIT
2025-03-25 01:37:43,389 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-25 01:37:43,389 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:43,390 [INFO] - BEGIN (implicit)
2025-03-25 01:37:43,392 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:37:43,392 [INFO] - [generated in 0.00007s] ()
2025-03-25 01:37:43,581 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-25 01:37:43,581 [INFO] - ROLLBACK
2025-03-25 01:37:43,582 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:43] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:37:55,723 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,723 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,724 [INFO] - [cached since 1201s ago] ('test_student', 1, 0)
2025-03-25 01:37:55,724 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,724 [INFO] - [cached since 1201s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:37:55,795 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:37:55,796 [INFO] - [cached since 1201s ago] ('test_student', 'scrypt:32768:8:1$hdvns7zKTFXyLvAD$d98a93489056d763e82eea0ac350d3179b0c59bb414e68c236af87d7b29692f94c56d79f0036ae609f9e33a69004ac0034c851d440ea67d77727d02de8a8c23f', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:37:55,796 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,796 [INFO] - [cached since 12.76s ago] ('1', 1, 0)
2025-03-25 01:37:55,797 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:37:55,797 [INFO] - [cached since 12.76s ago] ()
2025-03-25 01:37:55,797 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:37:55,797 [INFO] - [cached since 12.74s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:37:55,797 [INFO] - COMMIT
2025-03-25 01:37:55,822 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,822 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:37:55,822 [INFO] - [cached since 1201s ago] (71,)
2025-03-25 01:37:55,822 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-25 01:37:55,822 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:37:55,822 [INFO] - [cached since 12.54s ago] (71,)
2025-03-25 01:37:55,822 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,823 [INFO] - [cached since 1201s ago] (1, 1, 0)
2025-03-25 01:37:55,823 [INFO] - ROLLBACK
2025-03-25 01:37:55,823 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:37:55,825 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,825 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:37:55,825 [INFO] - [cached since 12.51s ago] (3050, 1, 0)
2025-03-25 01:37:55,825 [INFO] - ROLLBACK
2025-03-25 01:37:55,826 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:55,827 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,827 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,827 [INFO] - [cached since 12.49s ago] (3050, 1, 0)
2025-03-25 01:37:55,828 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:37:55,828 [INFO] - [cached since 1201s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:37:55,828 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:37:55,828 [INFO] - [cached since 12.49s ago] ('2005-05-16', 71)
2025-03-25 01:37:55,828 [INFO] - COMMIT
2025-03-25 01:37:55,878 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-25 01:37:55,878 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,878 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:37:55,878 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,879 [INFO] - ROLLBACK
2025-03-25 01:37:55,879 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:55,881 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,881 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:37:55,881 [INFO] - [cached since 12.5s ago] (3050, 1, 0)
2025-03-25 01:37:55,882 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,882 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,882 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,882 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:37:55,882 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,883 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:37:55,883 [INFO] - [cached since 12.5s ago] (71,)
2025-03-25 01:37:55,883 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:37:55,883 [INFO] - [cached since 1201s ago] (71,)
2025-03-25 01:37:55,883 [INFO] - COMMIT
2025-03-25 01:37:55,889 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-25 01:37:55,889 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:37:55,890 [INFO] - BEGIN (implicit)
2025-03-25 01:37:55,890 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:37:55,891 [INFO] - [cached since 12.5s ago] ()
2025-03-25 01:37:55,947 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-25 01:37:55,948 [INFO] - ROLLBACK
2025-03-25 01:37:55,948 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:37:55] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:40:02,519 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,519 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,519 [INFO] - [cached since 1328s ago] ('test_student', 1, 0)
2025-03-25 01:40:02,520 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,520 [INFO] - [cached since 1328s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:40:02,593 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:40:02,593 [INFO] - [cached since 1328s ago] ('test_student', 'scrypt:32768:8:1$em0gEpUFfFp2L27R$697a335a01f789db6c140820c5b86092874779a95709f82cb7cde0b314fba472b20b46ade7d1779f660e25f793eecffa93766d8719fd230b1f3963fcae99cd4c', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:40:02,594 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,594 [INFO] - [cached since 139.6s ago] ('1', 1, 0)
2025-03-25 01:40:02,594 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:40:02,594 [INFO] - [cached since 139.6s ago] ()
2025-03-25 01:40:02,595 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:40:02,595 [INFO] - [cached since 139.5s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:40:02,595 [INFO] - COMMIT
2025-03-25 01:40:02,659 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,659 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:40:02,659 [INFO] - [cached since 1328s ago] (71,)
2025-03-25 01:40:02,659 [INFO] - POST /api/admin/students - Created student with user_id 71 by None
2025-03-25 01:40:02,660 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:40:02,660 [INFO] - [cached since 139.4s ago] (71,)
2025-03-25 01:40:02,660 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,660 [INFO] - [cached since 1328s ago] (1, 1, 0)
2025-03-25 01:40:02,660 [INFO] - ROLLBACK
2025-03-25 01:40:02,661 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:40:02,664 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,665 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:40:02,665 [INFO] - [cached since 139.3s ago] (3050, 1, 0)
2025-03-25 01:40:02,665 [INFO] - ROLLBACK
2025-03-25 01:40:02,666 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:40:02,667 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,667 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,667 [INFO] - [cached since 139.3s ago] (3050, 1, 0)
2025-03-25 01:40:02,668 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:40:02,668 [INFO] - [cached since 1328s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:40:02,668 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:40:02,668 [INFO] - [cached since 139.3s ago] ('2005-05-16', 71)
2025-03-25 01:40:02,668 [INFO] - COMMIT
2025-03-25 01:40:02,692 [INFO] - PATCH /api/admin/student/3050 - Updated by user None
2025-03-25 01:40:02,692 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,692 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:40:02,692 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,692 [INFO] - ROLLBACK
2025-03-25 01:40:02,693 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:40:02,694 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,694 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:02,694 [INFO] - [cached since 139.3s ago] (3050, 1, 0)
2025-03-25 01:40:02,695 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,695 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,695 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,695 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:40:02,695 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,696 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:40:02,696 [INFO] - [cached since 139.3s ago] (71,)
2025-03-25 01:40:02,696 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:40:02,696 [INFO] - [cached since 1328s ago] (71,)
2025-03-25 01:40:02,696 [INFO] - COMMIT
2025-03-25 01:40:02,701 [INFO] - DELETE /api/admin/student/3050 - Deleted by user None
2025-03-25 01:40:02,701 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:40:02,703 [INFO] - BEGIN (implicit)
2025-03-25 01:40:02,703 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:40:02,703 [INFO] - [cached since 139.3s ago] ()
2025-03-25 01:40:02,850 [INFO] - GET /api/admin/students - Retrieved 50 students by None
2025-03-25 01:40:02,851 [INFO] - ROLLBACK
2025-03-25 01:40:02,851 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:02] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:40:17,346 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,346 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,346 [INFO] - [cached since 1343s ago] ('test_teacher', 1, 0)
2025-03-25 01:40:17,347 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,347 [INFO] - [cached since 1343s ago] ('jane.smith@example.com', 1, 0)
2025-03-25 01:40:17,417 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:40:17,418 [INFO] - [cached since 1343s ago] ('test_teacher', 'scrypt:32768:8:1$fnoanAUWXEiDpIcW$6e620c23590148497dc796a44e3a22660e8b29c8f911a86301d184cdf65970642b8acfc93380fb8faf9c1db83cd3c2df3f765eae8ceb7253e7dd3c1a13014df4', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:40:17,418 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:40:17,418 [INFO] - [cached since 1343s ago] ()
2025-03-25 01:40:17,419 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:40:17,419 [INFO] - [cached since 1343s ago] (71, 4015)
2025-03-25 01:40:17,419 [INFO] - COMMIT
2025-03-25 01:40:17,483 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,484 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:40:17,484 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,484 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-25 01:40:17,485 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:40:17,485 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,485 [INFO] - ROLLBACK
2025-03-25 01:40:17,486 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:40:17,490 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,491 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:40:17,491 [INFO] - [cached since 1343s ago] (4015, 1, 0)
2025-03-25 01:40:17,491 [INFO] - ROLLBACK
2025-03-25 01:40:17,492 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:40:17,493 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,494 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:40:17,494 [INFO] - [cached since 1343s ago] (4015, 1, 0)
2025-03-25 01:40:17,494 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:40:17,494 [INFO] - [cached since 1343s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:40:17,495 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (1, 1, 0)
2025-03-25 01:40:17,495 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (4015, 1, 1, 0)
2025-03-25 01:40:17,495 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (1, 1, 0)
2025-03-25 01:40:17,495 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:40:17,495 [INFO] - [cached since 1343s ago] (4015, 1, 1, 2)
2025-03-25 01:40:17,495 [INFO] - COMMIT
2025-03-25 01:40:17,572 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-25 01:40:17,572 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,572 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:40:17,572 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,572 [INFO] - ROLLBACK
2025-03-25 01:40:17,573 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:40:17,574 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,575 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:40:17,575 [INFO] - [cached since 1343s ago] (4015, 1, 0)
2025-03-25 01:40:17,575 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:40:17,575 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,576 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:40:17,576 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,577 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:40:17,577 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,577 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:40:17,577 [INFO] - [cached since 1343s ago] (4015,)
2025-03-25 01:40:17,578 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,578 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,578 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,578 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:40:17,578 [INFO] - [cached since 1343s ago] (71,)
2025-03-25 01:40:17,579 [INFO] - COMMIT
2025-03-25 01:40:17,601 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-25 01:40:17,601 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:40:17,603 [INFO] - BEGIN (implicit)
2025-03-25 01:40:17,603 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:40:17,603 [INFO] - [cached since 1343s ago] ()
2025-03-25 01:40:17,702 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-25 01:40:17,702 [INFO] - ROLLBACK
2025-03-25 01:40:17,704 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:40:17] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:41:27,373 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 01:41:32,537 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 01:41:32,552 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 01:41:33,663 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:33] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 01:41:33,729 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:41:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 01:48:39,696 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,729 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,729 [INFO] - [cached since 1845s ago] ('test_teacher', 1, 0)
2025-03-25 01:48:39,741 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,741 [INFO] - [cached since 1845s ago] ('jane.smith@example.com', 1, 0)
2025-03-25 01:48:39,817 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:48:39,817 [INFO] - [cached since 1845s ago] ('test_teacher', 'scrypt:32768:8:1$jjeNWhOl8807aueW$d15b19927c690ad7d83dcfd5fc55f06f30ae08d8b56beb11098212aa93fcee2688911e123299aafccfb1014cbd88e0daf838355331ce905f060f305a78d1fbe5', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:48:39,826 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:48:39,826 [INFO] - [cached since 1845s ago] ()
2025-03-25 01:48:39,827 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:48:39,827 [INFO] - [cached since 1845s ago] (71, 4015)
2025-03-25 01:48:39,827 [INFO] - COMMIT
2025-03-25 01:48:39,977 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,977 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:48:39,977 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:39,978 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by None
2025-03-25 01:48:39,978 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:48:39,978 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:39,978 [INFO] - ROLLBACK
2025-03-25 01:48:39,978 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:39] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:48:39,981 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,981 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:39,981 [INFO] - [cached since 1846s ago] (4015, 1, 0)
2025-03-25 01:48:39,982 [INFO] - ROLLBACK
2025-03-25 01:48:39,982 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:39] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:39,985 [INFO] - BEGIN (implicit)
2025-03-25 01:48:39,985 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:39,985 [INFO] - [cached since 1845s ago] (4015, 1, 0)
2025-03-25 01:48:39,985 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:48:39,985 [INFO] - [cached since 1845s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:48:39,995 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,995 [INFO] - [cached since 1845s ago] (1, 1, 0)
2025-03-25 01:48:39,995 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,995 [INFO] - [cached since 1845s ago] (4015, 1, 1, 0)
2025-03-25 01:48:39,995 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:39,995 [INFO] - [cached since 1845s ago] (1, 1, 0)
2025-03-25 01:48:39,996 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:48:39,996 [INFO] - [cached since 1845s ago] (4015, 1, 1, 2)
2025-03-25 01:48:39,996 [INFO] - COMMIT
2025-03-25 01:48:40,110 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user None
2025-03-25 01:48:40,110 [INFO] - BEGIN (implicit)
2025-03-25 01:48:40,110 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:48:40,110 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,111 [INFO] - ROLLBACK
2025-03-25 01:48:40,111 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:40] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:40,113 [INFO] - BEGIN (implicit)
2025-03-25 01:48:40,113 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:40,113 [INFO] - [cached since 1846s ago] (4015, 1, 0)
2025-03-25 01:48:40,114 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:48:40,114 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,115 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:48:40,115 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,115 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:48:40,115 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,115 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:48:40,115 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,116 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,116 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (4015,)
2025-03-25 01:48:40,116 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,116 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:48:40,116 [INFO] - [cached since 1846s ago] (71,)
2025-03-25 01:48:40,116 [INFO] - COMMIT
2025-03-25 01:48:40,123 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user None
2025-03-25 01:48:40,123 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:40] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:40,125 [INFO] - BEGIN (implicit)
2025-03-25 01:48:40,125 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:40,125 [INFO] - [cached since 1846s ago] ()
2025-03-25 01:48:40,278 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by None
2025-03-25 01:48:40,278 [INFO] - ROLLBACK
2025-03-25 01:48:40,280 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:40] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:48:45,963 [INFO] - BEGIN (implicit)
2025-03-25 01:48:45,963 [INFO] - PRAGMA main.table_info("users")
2025-03-25 01:48:45,963 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("students")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 01:48:45,964 [INFO] - [raw sql] ()
2025-03-25 01:48:45,964 [INFO] - COMMIT
2025-03-25 01:48:45,977 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 01:48:45,977 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 01:48:48,083 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,084 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,084 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,138 [INFO] - ROLLBACK
2025-03-25 01:48:48,139 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,139 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,139 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,139 [INFO] - [generated in 0.00009s] ('test_teacher', 1, 0)
2025-03-25 01:48:48,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,140 [INFO] - [generated in 0.00009s] ('jane.smith@example.com', 1, 0)
2025-03-25 01:48:48,216 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:48:48,216 [INFO] - [generated in 0.00014s] ('test_teacher', 'scrypt:32768:8:1$m2yZYoPcTdARc36H$f32fc897e7ac6cbceaa8f6d8cd083a2449078fb0918453bafd31a3a557074d76245d2e231ab81429d0d253e64c8ccdd1db6571ebe2fc714ba64a4bd23cd1a089', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:48:48,249 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:48:48,249 [INFO] - [generated in 0.00011s] ()
2025-03-25 01:48:48,250 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:48:48,250 [INFO] - [generated in 0.00007s] (71, 4015)
2025-03-25 01:48:48,250 [INFO] - COMMIT
2025-03-25 01:48:48,277 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,277 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:48:48,277 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 01:48:48,278 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by user2
2025-03-25 01:48:48,278 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:48:48,278 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:48:48,278 [INFO] - ROLLBACK
2025-03-25 01:48:48,278 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:48:48,281 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,281 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,281 [INFO] - [cached since 0.1969s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,281 [INFO] - ROLLBACK
2025-03-25 01:48:48,281 [INFO] - GET /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,281 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,284 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:48,284 [INFO] - [generated in 0.00011s] (4015, 1, 0)
2025-03-25 01:48:48,332 [INFO] - ROLLBACK
2025-03-25 01:48:48,333 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:48,335 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,335 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,335 [INFO] - [cached since 0.2508s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,335 [INFO] - ROLLBACK
2025-03-25 01:48:48,335 [INFO] - PATCH /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,335 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,337 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:48,337 [INFO] - [generated in 0.00008s] (4015, 1, 0)
2025-03-25 01:48:48,338 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:48:48,338 [INFO] - [generated in 0.00006s] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:48:48,338 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,339 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-25 01:48:48,339 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,339 [INFO] - [generated in 0.00007s] (4015, 1, 1, 0)
2025-03-25 01:48:48,340 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,340 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-25 01:48:48,340 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:48:48,340 [INFO] - [generated in 0.00006s] (4015, 1, 1, 2)
2025-03-25 01:48:48,340 [INFO] - COMMIT
2025-03-25 01:48:48,363 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user2
2025-03-25 01:48:48,363 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,366 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:48:48,366 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:48:48,366 [INFO] - ROLLBACK
2025-03-25 01:48:48,366 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:48,367 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,368 [INFO] - [cached since 0.2838s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,368 [INFO] - ROLLBACK
2025-03-25 01:48:48,368 [INFO] - DELETE /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,368 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,369 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,369 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-25 01:48:48,370 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:48:48,370 [INFO] - [generated in 0.00006s] (4015,)
2025-03-25 01:48:48,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:48:48,371 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:48:48,371 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:48:48,371 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:48:48,372 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:48:48,372 [INFO] - [generated in 0.00006s] (4015,)
2025-03-25 01:48:48,372 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:48:48,372 [INFO] - [generated in 0.00005s] (4015,)
2025-03-25 01:48:48,373 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:48:48,373 [INFO] - [generated in 0.00006s] (4015,)
2025-03-25 01:48:48,373 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:48:48,374 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:48:48,374 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:48:48,374 [INFO] - [generated in 0.00004s] (71,)
2025-03-25 01:48:48,374 [INFO] - COMMIT
2025-03-25 01:48:48,411 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user2
2025-03-25 01:48:48,411 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:48:48,412 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,412 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:48:48,412 [INFO] - [cached since 0.3286s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:48:48,413 [INFO] - ROLLBACK
2025-03-25 01:48:48,413 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:48:48,413 [INFO] - BEGIN (implicit)
2025-03-25 01:48:48,415 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:48:48,415 [INFO] - [generated in 0.00008s] ()
2025-03-25 01:48:48,457 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-25 01:48:48,457 [INFO] - ROLLBACK
2025-03-25 01:48:48,458 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:48:48] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:49:56,952 [INFO] - BEGIN (implicit)
2025-03-25 01:49:56,952 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:49:56,953 [INFO] - [cached since 68.87s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:49:56,953 [INFO] - ROLLBACK
2025-03-25 01:49:56,953 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:49:56,954 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:49:56,969 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:49:56] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:49:56,970 [INFO] - BEGIN (implicit)
2025-03-25 01:49:56,970 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:49:56,971 [INFO] - [cached since 68.89s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:49:56,971 [INFO] - ROLLBACK
2025-03-25 01:49:56,971 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:49:56,971 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:49:56,971 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:49:56] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:03,980 [INFO] - BEGIN (implicit)
2025-03-25 01:50:03,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:03,980 [INFO] - [cached since 75.9s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:03,980 [INFO] - ROLLBACK
2025-03-25 01:50:03,980 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:03,980 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:03,981 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:03] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:03,982 [INFO] - BEGIN (implicit)
2025-03-25 01:50:03,982 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:03,982 [INFO] - [cached since 75.9s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:03,982 [INFO] - ROLLBACK
2025-03-25 01:50:03,982 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:03,982 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:03,983 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:03] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:06,557 [INFO] - BEGIN (implicit)
2025-03-25 01:50:06,557 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:06,557 [INFO] - [cached since 78.47s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:06,557 [INFO] - ROLLBACK
2025-03-25 01:50:06,557 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:06,557 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:06,558 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:06] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:06,559 [INFO] - BEGIN (implicit)
2025-03-25 01:50:06,560 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:06,560 [INFO] - [cached since 78.47s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:06,560 [INFO] - ROLLBACK
2025-03-25 01:50:06,560 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:06,560 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:06,560 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:06] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:13,359 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,360 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,360 [INFO] - [cached since 85.28s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,373 [INFO] - ROLLBACK
2025-03-25 01:50:13,373 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,374 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,374 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,374 [INFO] - [cached since 85.23s ago] ('test_student', 1, 0)
2025-03-25 01:50:13,374 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,374 [INFO] - [cached since 85.23s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:50:13,448 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:50:13,448 [INFO] - [cached since 85.23s ago] ('test_student', 'scrypt:32768:8:1$a1b3g15mQUacKPgK$10d22950c2e4a5b6e0ff7a00a0776e71953296bd671ab1ba5e8a1f57b29b703959c04d4d03fea96225dd7514231dbd9e9ac17acb06c45294023ea391a2b88c8b', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:50:13,466 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,466 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-25 01:50:13,467 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:50:13,467 [INFO] - [generated in 0.00006s] ()
2025-03-25 01:50:13,489 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:50:13,489 [INFO] - [generated in 0.00010s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:50:13,489 [INFO] - COMMIT
2025-03-25 01:50:13,505 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,505 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:50:13,505 [INFO] - [cached since 85.23s ago] (71,)
2025-03-25 01:50:13,505 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:50:13,506 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:50:13,506 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:50:13,506 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,506 [INFO] - [cached since 85.17s ago] (1, 1, 0)
2025-03-25 01:50:13,506 [INFO] - ROLLBACK
2025-03-25 01:50:13,506 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:50:13,508 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,508 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,508 [INFO] - [cached since 85.42s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,508 [INFO] - ROLLBACK
2025-03-25 01:50:13,508 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,509 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,512 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:50:13,512 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-25 01:50:13,513 [INFO] - ROLLBACK
2025-03-25 01:50:13,513 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:13,514 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,515 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,515 [INFO] - [cached since 85.43s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,515 [INFO] - ROLLBACK
2025-03-25 01:50:13,515 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,515 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,516 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,516 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 01:50:13,517 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:50:13,517 [INFO] - [cached since 85.18s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:50:13,517 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:50:13,517 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-25 01:50:13,517 [INFO] - COMMIT
2025-03-25 01:50:13,535 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:50:13,535 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,536 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:50:13,536 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:50:13,536 [INFO] - ROLLBACK
2025-03-25 01:50:13,536 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:13,538 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,538 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,538 [INFO] - [cached since 85.45s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,538 [INFO] - ROLLBACK
2025-03-25 01:50:13,538 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,538 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,539 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,539 [INFO] - [generated in 0.00006s] (3050, 1, 0)
2025-03-25 01:50:13,540 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:50:13,540 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:50:13,540 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:50:13,540 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:50:13,541 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:50:13,541 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:50:13,541 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:50:13,541 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:50:13,542 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:50:13,542 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:50:13,542 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:50:13,542 [INFO] - [cached since 85.17s ago] (71,)
2025-03-25 01:50:13,542 [INFO] - COMMIT
2025-03-25 01:50:13,547 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:50:13,547 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:13,549 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,549 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:13,549 [INFO] - [cached since 85.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:13,549 [INFO] - ROLLBACK
2025-03-25 01:50:13,549 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:13,549 [INFO] - BEGIN (implicit)
2025-03-25 01:50:13,550 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:50:13,550 [INFO] - [generated in 0.00006s] ()
2025-03-25 01:50:13,748 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:50:13,748 [INFO] - ROLLBACK
2025-03-25 01:50:13,748 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:13] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:50:30,430 [INFO] - BEGIN (implicit)
2025-03-25 01:50:30,430 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:30,430 [INFO] - [cached since 102.3s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:30,431 [INFO] - ROLLBACK
2025-03-25 01:50:30,431 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:30,431 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:30,432 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:30] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:30,434 [INFO] - BEGIN (implicit)
2025-03-25 01:50:30,434 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:30,434 [INFO] - [cached since 102.3s ago] ('f3caa8cb-57dc-4c16-9726-', 1, 0)
2025-03-25 01:50:30,434 [INFO] - ROLLBACK
2025-03-25 01:50:30,435 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:30,435 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:30,435 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:30] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:36,045 [INFO] - BEGIN (implicit)
2025-03-25 01:50:36,045 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:36,045 [INFO] - [cached since 108s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:36,045 [INFO] - ROLLBACK
2025-03-25 01:50:36,045 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:36,045 [ERROR] - Exception on /api/admin/student [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 176, in post
    username = check_admin_authorization(None, method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:36,046 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:36] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 500 -
2025-03-25 01:50:36,047 [INFO] - BEGIN (implicit)
2025-03-25 01:50:36,047 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:36,047 [INFO] - [cached since 108s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:36,047 [INFO] - ROLLBACK
2025-03-25 01:50:36,047 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:36,047 [ERROR] - Exception on /api/admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_students_api.py", line 283, in get
    username = check_admin_authorization("/api/admin/students", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:36,048 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:36] "[35m[1mGET /api/admin/students HTTP/1.1[0m" 500 -
2025-03-25 01:50:40,524 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,525 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,525 [INFO] - [cached since 112.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,525 [INFO] - ROLLBACK
2025-03-25 01:50:40,525 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,526 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,526 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,526 [INFO] - [cached since 112.4s ago] ('test_student', 1, 0)
2025-03-25 01:50:40,526 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,526 [INFO] - [cached since 112.4s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:50:40,597 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:50:40,598 [INFO] - [cached since 112.4s ago] ('test_student', 'scrypt:32768:8:1$j5fTyd8fBjqTvaEd$e9e19396d88627b2592947549de4a19d2d3e0a05d530dfcfb0a76b9b5ef909b4c983431249aa4718266942197314ae310bd53a512808e240ffd72bc1a8f0fd03', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:50:40,598 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,598 [INFO] - [cached since 27.13s ago] ('1', 1, 0)
2025-03-25 01:50:40,599 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:50:40,599 [INFO] - [cached since 27.13s ago] ()
2025-03-25 01:50:40,599 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:50:40,599 [INFO] - [cached since 27.11s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:50:40,599 [INFO] - COMMIT
2025-03-25 01:50:40,605 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,605 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:50:40,605 [INFO] - [cached since 112.3s ago] (71,)
2025-03-25 01:50:40,605 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:50:40,605 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:50:40,605 [INFO] - [cached since 27.1s ago] (71,)
2025-03-25 01:50:40,605 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,606 [INFO] - [cached since 112.3s ago] (1, 1, 0)
2025-03-25 01:50:40,606 [INFO] - ROLLBACK
2025-03-25 01:50:40,606 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:50:40,608 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,608 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,608 [INFO] - [cached since 112.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,608 [INFO] - ROLLBACK
2025-03-25 01:50:40,608 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,608 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,608 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:50:40,608 [INFO] - [cached since 27.1s ago] (3050, 1, 0)
2025-03-25 01:50:40,609 [INFO] - ROLLBACK
2025-03-25 01:50:40,609 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:40,611 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,611 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,611 [INFO] - [cached since 112.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,611 [INFO] - ROLLBACK
2025-03-25 01:50:40,611 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,611 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,611 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,611 [INFO] - [cached since 27.09s ago] (3050, 1, 0)
2025-03-25 01:50:40,612 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:50:40,612 [INFO] - [cached since 112.3s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:50:40,637 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:50:40,637 [INFO] - [cached since 27.12s ago] ('2005-05-16', 71)
2025-03-25 01:50:40,637 [INFO] - COMMIT
2025-03-25 01:50:40,643 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:50:40,643 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,644 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:50:40,644 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,644 [INFO] - ROLLBACK
2025-03-25 01:50:40,644 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:40,645 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,645 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,645 [INFO] - [cached since 112.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,645 [INFO] - ROLLBACK
2025-03-25 01:50:40,646 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,646 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,646 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,646 [INFO] - [cached since 27.11s ago] (3050, 1, 0)
2025-03-25 01:50:40,646 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:50:40,646 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,646 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:50:40,646 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 27.11s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:50:40,647 [INFO] - [cached since 112.3s ago] (71,)
2025-03-25 01:50:40,647 [INFO] - COMMIT
2025-03-25 01:50:40,654 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:50:40,654 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:50:40,655 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,655 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:40,655 [INFO] - [cached since 112.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:40,655 [INFO] - ROLLBACK
2025-03-25 01:50:40,655 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:40,656 [INFO] - BEGIN (implicit)
2025-03-25 01:50:40,656 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:50:40,656 [INFO] - [cached since 27.11s ago] ()
2025-03-25 01:50:40,665 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:50:40,665 [INFO] - ROLLBACK
2025-03-25 01:50:40,665 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:40] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:50:45,708 [INFO] - BEGIN (implicit)
2025-03-25 01:50:45,709 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:45,709 [INFO] - [cached since 117.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:45,709 [INFO] - ROLLBACK
2025-03-25 01:50:45,709 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:45,709 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 227, in post
    username = check_admin_authorization("/api/admin/teacher", method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:45,710 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:45] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-25 01:50:45,712 [INFO] - BEGIN (implicit)
2025-03-25 01:50:45,712 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:45,712 [INFO] - [cached since 117.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:50:45,712 [INFO] - ROLLBACK
2025-03-25 01:50:45,712 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:50:45,712 [ERROR] - Exception on /api/admin/teachers [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 320, in get
    username = check_admin_authorization("/api/admin/teachers", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:50:45,713 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:45] "[35m[1mGET /api/admin/teachers HTTP/1.1[0m" 500 -
2025-03-25 01:50:50,482 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,483 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,483 [INFO] - [cached since 122.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,483 [INFO] - ROLLBACK
2025-03-25 01:50:50,483 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,483 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,483 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,483 [INFO] - [cached since 122.3s ago] ('test_teacher', 1, 0)
2025-03-25 01:50:50,484 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,484 [INFO] - [cached since 122.3s ago] ('jane.smith@example.com', 1, 0)
2025-03-25 01:50:50,555 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:50:50,555 [INFO] - [cached since 122.3s ago] ('test_teacher', 'scrypt:32768:8:1$lPvtq5RHhh8hn5YO$003ed17eea8c8420b48e9649630bcfc1dd55830f43b27db4c69c995399d19298895499ec215bdea9e204dfabc4648fe8542f8708869d056ab99c879ad218ee4f', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:50:50,556 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-25 01:50:50,556 [INFO] - [cached since 122.3s ago] ()
2025-03-25 01:50:50,556 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-25 01:50:50,556 [INFO] - [cached since 122.3s ago] (71, 4015)
2025-03-25 01:50:50,556 [INFO] - COMMIT
2025-03-25 01:50:50,626 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,626 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:50:50,626 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,626 [INFO] - POST /api/admin/teacher - Created teacher with user_id 71 by user2
2025-03-25 01:50:50,626 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:50:50,626 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,627 [INFO] - ROLLBACK
2025-03-25 01:50:50,627 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-25 01:50:50,629 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,629 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,629 [INFO] - [cached since 122.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,629 [INFO] - ROLLBACK
2025-03-25 01:50:50,629 [INFO] - GET /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,629 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,630 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:50:50,630 [INFO] - [cached since 122.3s ago] (4015, 1, 0)
2025-03-25 01:50:50,630 [INFO] - ROLLBACK
2025-03-25 01:50:50,630 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:50:50,632 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,632 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,632 [INFO] - [cached since 122.5s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,632 [INFO] - ROLLBACK
2025-03-25 01:50:50,632 [INFO] - PATCH /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,632 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,632 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:50:50,632 [INFO] - [cached since 122.3s ago] (4015, 1, 0)
2025-03-25 01:50:50,633 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:50:50,633 [INFO] - [cached since 122.3s ago] ('Janet', 'janet.smith@example.com', 71)
2025-03-25 01:50:50,633 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,633 [INFO] - [cached since 122.3s ago] (1, 1, 0)
2025-03-25 01:50:50,634 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,634 [INFO] - [cached since 122.3s ago] (4015, 1, 1, 0)
2025-03-25 01:50:50,634 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,634 [INFO] - [cached since 122.3s ago] (1, 1, 0)
2025-03-25 01:50:50,634 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-25 01:50:50,634 [INFO] - [cached since 122.3s ago] (4015, 1, 1, 2)
2025-03-25 01:50:50,634 [INFO] - COMMIT
2025-03-25 01:50:50,640 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user2
2025-03-25 01:50:50,640 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,640 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-25 01:50:50,640 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,640 [INFO] - ROLLBACK
2025-03-25 01:50:50,641 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:50:50,642 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,642 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,642 [INFO] - [cached since 122.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,642 [INFO] - ROLLBACK
2025-03-25 01:50:50,642 [INFO] - DELETE /api/admin/teacher/4015 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,642 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,642 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,642 [INFO] - [cached since 122.3s ago] (4015, 1, 0)
2025-03-25 01:50:50,643 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-25 01:50:50,643 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,688 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-25 01:50:50,688 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,689 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-25 01:50:50,689 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,689 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-25 01:50:50,689 [INFO] - [cached since 122.3s ago] (4015,)
2025-03-25 01:50:50,689 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:50:50,689 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:50:50,690 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-25 01:50:50,690 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:50:50,690 [INFO] - [cached since 122.3s ago] (71,)
2025-03-25 01:50:50,690 [INFO] - COMMIT
2025-03-25 01:50:50,699 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user2
2025-03-25 01:50:50,699 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-25 01:50:50,701 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,701 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:50:50,701 [INFO] - [cached since 122.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:50:50,701 [INFO] - ROLLBACK
2025-03-25 01:50:50,701 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:50:50,702 [INFO] - BEGIN (implicit)
2025-03-25 01:50:50,702 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-25 01:50:50,702 [INFO] - [cached since 122.3s ago] ()
2025-03-25 01:50:50,708 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-25 01:50:50,708 [INFO] - ROLLBACK
2025-03-25 01:50:50,709 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:50:50] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-25 01:51:19,454 [INFO] - BEGIN (implicit)
2025-03-25 01:51:19,455 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:51:19,455 [INFO] - [cached since 151.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:51:19,456 [INFO] - ROLLBACK
2025-03-25 01:51:19,456 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:51:19,457 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 227, in post
    username = check_admin_authorization("/api/admin/teacher", method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:51:19,459 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:51:19] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-25 01:51:19,460 [INFO] - BEGIN (implicit)
2025-03-25 01:51:19,461 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:51:19,461 [INFO] - [cached since 151.4s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:51:19,461 [INFO] - ROLLBACK
2025-03-25 01:51:19,461 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:51:19,461 [ERROR] - Exception on /api/admin/teachers [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 320, in get
    username = check_admin_authorization("/api/admin/teachers", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, message="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:51:19,461 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:51:19] "[35m[1mGET /api/admin/teachers HTTP/1.1[0m" 500 -
2025-03-25 01:54:58,038 [INFO] - BEGIN (implicit)
2025-03-25 01:54:58,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:54:58,039 [INFO] - [cached since 370s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:54:58,050 [INFO] - ROLLBACK
2025-03-25 01:54:58,050 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:54:58,050 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 227, in post
    username = check_admin_authorization("/api/admin/teacher", method="POST")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, description="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:54:58,053 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:54:58] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-25 01:54:58,055 [INFO] - BEGIN (implicit)
2025-03-25 01:54:58,056 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:54:58,056 [INFO] - [cached since 370s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:54:58,056 [INFO] - ROLLBACK
2025-03-25 01:54:58,056 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:54:58,056 [ERROR] - Exception on /api/admin/teachers [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 320, in get
    username = check_admin_authorization("/api/admin/teachers", method="GET")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/authorization_admin.py", line 59, in check_admin_authorization
    abort(401, description="Необходима авторизация: предоставьте валидную сессию или API-ключ.")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Unauthorized.__init__() got an unexpected keyword argument 'message'
2025-03-25 01:54:58,056 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:54:58] "[35m[1mGET /api/admin/teachers HTTP/1.1[0m" 500 -
2025-03-25 01:56:56,382 [INFO] - BEGIN (implicit)
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("users")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("students")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,382 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 01:56:56,382 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 01:56:56,383 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 01:56:56,383 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 01:56:56,383 [INFO] - [raw sql] ()
2025-03-25 01:56:56,383 [INFO] - COMMIT
2025-03-25 01:56:56,392 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 01:56:56,392 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 01:56:58,312 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,313 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,313 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,340 [INFO] - ROLLBACK
2025-03-25 01:56:58,340 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,340 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,341 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,341 [INFO] - [generated in 0.00011s] ('test_student', 1, 0)
2025-03-25 01:56:58,341 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,341 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-25 01:56:58,416 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:56:58,416 [INFO] - [generated in 0.00016s] ('test_student', 'scrypt:32768:8:1$je8bsnxB48f0kl7n$34ada7d91a3ff3c69583599d16838db46212abee689b7546bdd45063e27244b809856826be5c874142d913434e4bb62831f0d1ff703385d9ec3ce9ae7c51d88b', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:56:58,448 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,448 [INFO] - [generated in 0.00013s] ('1', 1, 0)
2025-03-25 01:56:58,449 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:56:58,450 [INFO] - [generated in 0.00007s] ()
2025-03-25 01:56:58,451 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:56:58,451 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:56:58,451 [INFO] - COMMIT
2025-03-25 01:56:58,499 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,500 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:56:58,500 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:56:58,500 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:56:58,501 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:56:58,501 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:56:58,502 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,502 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-25 01:56:58,502 [INFO] - ROLLBACK
2025-03-25 01:56:58,502 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:56:58,504 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,504 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,504 [INFO] - [cached since 0.191s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,505 [INFO] - ROLLBACK
2025-03-25 01:56:58,505 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,505 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,508 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:56:58,508 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 01:56:58,526 [INFO] - ROLLBACK
2025-03-25 01:56:58,526 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:56:58,528 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,528 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,528 [INFO] - [cached since 0.2147s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,528 [INFO] - ROLLBACK
2025-03-25 01:56:58,528 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,529 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,530 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,530 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 01:56:58,531 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:56:58,531 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:56:58,532 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:56:58,532 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-25 01:56:58,532 [INFO] - COMMIT
2025-03-25 01:56:58,603 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:56:58,603 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,605 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:56:58,605 [INFO] - [generated in 0.00009s] (71,)
2025-03-25 01:56:58,605 [INFO] - ROLLBACK
2025-03-25 01:56:58,605 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:56:58,607 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,607 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,607 [INFO] - [cached since 0.2937s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,607 [INFO] - ROLLBACK
2025-03-25 01:56:58,607 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,607 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,608 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,608 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 01:56:58,609 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:56:58,609 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:56:58,610 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:56:58,611 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 01:56:58,611 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:56:58,611 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 01:56:58,612 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:56:58,612 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:56:58,613 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:56:58,613 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 01:56:58,613 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:56:58,613 [INFO] - [generated in 0.00004s] (71,)
2025-03-25 01:56:58,613 [INFO] - COMMIT
2025-03-25 01:56:58,636 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:56:58,637 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:56:58,638 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,638 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:56:58,638 [INFO] - [cached since 0.3247s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:56:58,638 [INFO] - ROLLBACK
2025-03-25 01:56:58,638 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:56:58,638 [INFO] - BEGIN (implicit)
2025-03-25 01:56:58,639 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:56:58,639 [INFO] - [generated in 0.00007s] ()
2025-03-25 01:56:58,798 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:56:58,798 [INFO] - ROLLBACK
2025-03-25 01:56:58,799 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:56:58] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 01:57:08,583 [INFO] - BEGIN (implicit)
2025-03-25 01:57:08,584 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:08,584 [INFO] - [cached since 10.27s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:57:08,584 [INFO] - ROLLBACK
2025-03-25 01:57:08,585 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:57:08,585 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:08] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-25 01:57:08,587 [INFO] - BEGIN (implicit)
2025-03-25 01:57:08,587 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:08,587 [INFO] - [cached since 10.27s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 01:57:08,587 [INFO] - ROLLBACK
2025-03-25 01:57:08,587 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 01:57:08,587 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:08] "[31m[1mGET /api/admin/students HTTP/1.1[0m" 401 -
2025-03-25 01:57:21,686 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,687 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,687 [INFO] - [cached since 23.37s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,687 [INFO] - ROLLBACK
2025-03-25 01:57:21,687 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,688 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,688 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,688 [INFO] - [cached since 23.35s ago] ('test_student', 1, 0)
2025-03-25 01:57:21,688 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,688 [INFO] - [cached since 23.35s ago] ('john.doe@example.com', 1, 0)
2025-03-25 01:57:21,761 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 01:57:21,761 [INFO] - [cached since 23.35s ago] ('test_student', 'scrypt:32768:8:1$6cUonu9841VoxCSI$c6d2214cc399ba6d5e811aec12e1b3a54d36bf504e206faddd374c9a568137a0d6d3a40e5eec995c1ce8d1ac69ddf051fe44211a17dd56844b8b4cd70f5b1b9f', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 01:57:21,762 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,762 [INFO] - [cached since 23.31s ago] ('1', 1, 0)
2025-03-25 01:57:21,763 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 01:57:21,763 [INFO] - [cached since 23.31s ago] ()
2025-03-25 01:57:21,763 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 01:57:21,763 [INFO] - [cached since 23.31s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 01:57:21,763 [INFO] - COMMIT
2025-03-25 01:57:21,770 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 01:57:21,770 [INFO] - [cached since 23.27s ago] (71,)
2025-03-25 01:57:21,770 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 01:57:21,771 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 01:57:21,771 [INFO] - [cached since 23.27s ago] (71,)
2025-03-25 01:57:21,771 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,771 [INFO] - [cached since 23.27s ago] (1, 1, 0)
2025-03-25 01:57:21,771 [INFO] - ROLLBACK
2025-03-25 01:57:21,771 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 01:57:21,773 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,774 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,774 [INFO] - [cached since 23.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,774 [INFO] - ROLLBACK
2025-03-25 01:57:21,774 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,774 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,774 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 01:57:21,774 [INFO] - [cached since 23.27s ago] (3050, 1, 0)
2025-03-25 01:57:21,775 [INFO] - ROLLBACK
2025-03-25 01:57:21,775 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:57:21,776 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,777 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,777 [INFO] - [cached since 23.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,777 [INFO] - ROLLBACK
2025-03-25 01:57:21,777 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,777 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,777 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,777 [INFO] - [cached since 23.25s ago] (3050, 1, 0)
2025-03-25 01:57:21,778 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 01:57:21,778 [INFO] - [cached since 23.25s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 01:57:21,778 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 01:57:21,778 [INFO] - [cached since 23.25s ago] ('2005-05-16', 71)
2025-03-25 01:57:21,778 [INFO] - COMMIT
2025-03-25 01:57:21,782 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 01:57:21,783 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,783 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 01:57:21,783 [INFO] - [cached since 23.18s ago] (71,)
2025-03-25 01:57:21,783 [INFO] - ROLLBACK
2025-03-25 01:57:21,783 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:57:21,784 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,784 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,784 [INFO] - [cached since 23.47s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,784 [INFO] - ROLLBACK
2025-03-25 01:57:21,785 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,785 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,785 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,785 [INFO] - [cached since 23.18s ago] (3050, 1, 0)
2025-03-25 01:57:21,785 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 01:57:21,785 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,785 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 01:57:21,785 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.18s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.18s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 01:57:21,786 [INFO] - [cached since 23.17s ago] (71,)
2025-03-25 01:57:21,786 [INFO] - COMMIT
2025-03-25 01:57:21,791 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 01:57:21,791 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 01:57:21,792 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,792 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 01:57:21,792 [INFO] - [cached since 23.48s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 01:57:21,793 [INFO] - ROLLBACK
2025-03-25 01:57:21,793 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 01:57:21,793 [INFO] - BEGIN (implicit)
2025-03-25 01:57:21,793 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 01:57:21,793 [INFO] - [cached since 23.15s ago] ()
2025-03-25 01:57:21,804 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 01:57:21,804 [INFO] - ROLLBACK
2025-03-25 01:57:21,804 [INFO] - 127.0.0.1 - - [25/Mar/2025 01:57:21] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 02:02:35,532 [INFO] - BEGIN (implicit)
2025-03-25 02:02:35,532 [INFO] - PRAGMA main.table_info("users")
2025-03-25 02:02:35,532 [INFO] - [raw sql] ()
2025-03-25 02:02:35,532 [INFO] - PRAGMA main.table_info("students")
2025-03-25 02:02:35,532 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 02:02:35,533 [INFO] - [raw sql] ()
2025-03-25 02:02:35,533 [INFO] - COMMIT
2025-03-25 02:02:35,544 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 02:02:35,544 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 02:02:39,035 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,037 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,037 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,121 [INFO] - ROLLBACK
2025-03-25 02:02:39,122 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,122 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,122 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,122 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-25 02:02:39,123 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,123 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-25 02:02:39,197 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 02:02:39,197 [INFO] - [generated in 0.00012s] ('test_student', 'scrypt:32768:8:1$wXTUPMiYiYwtXA66$ea4d514467567330bdcab6429fa53d8c6d72476cf7e5f4fbe5fc05d0c0d8c69fc888d44bc50465d34b658d23ec2af5fa0f6e6c071ef2ab5714105902b69ab377', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 02:02:39,226 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,226 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-25 02:02:39,259 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 02:02:39,259 [INFO] - [generated in 0.00008s] ()
2025-03-25 02:02:39,270 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 02:02:39,270 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 02:02:39,270 [INFO] - COMMIT
2025-03-25 02:02:39,301 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,302 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 02:02:39,302 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,302 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 02:02:39,302 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 02:02:39,302 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,303 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,303 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-25 02:02:39,303 [INFO] - ROLLBACK
2025-03-25 02:02:39,303 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 02:02:39,305 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,305 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,305 [INFO] - [cached since 0.2686s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,306 [INFO] - ROLLBACK
2025-03-25 02:02:39,306 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,306 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,309 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 02:02:39,309 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-25 02:02:39,337 [INFO] - ROLLBACK
2025-03-25 02:02:39,338 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:02:39,339 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,340 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,340 [INFO] - [cached since 0.3028s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,340 [INFO] - ROLLBACK
2025-03-25 02:02:39,340 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,340 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,341 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,341 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 02:02:39,342 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 02:02:39,343 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 02:02:39,343 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 02:02:39,343 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-25 02:02:39,343 [INFO] - COMMIT
2025-03-25 02:02:39,449 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 02:02:39,449 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,451 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 02:02:39,451 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 02:02:39,451 [INFO] - ROLLBACK
2025-03-25 02:02:39,451 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:02:39,453 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,453 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,453 [INFO] - [cached since 0.416s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,453 [INFO] - ROLLBACK
2025-03-25 02:02:39,453 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,453 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,454 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,454 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 02:02:39,455 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 02:02:39,455 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,456 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 02:02:39,456 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 02:02:39,456 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 02:02:39,456 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 02:02:39,457 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 02:02:39,457 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 02:02:39,457 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 02:02:39,457 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 02:02:39,458 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 02:02:39,458 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 02:02:39,458 [INFO] - COMMIT
2025-03-25 02:02:39,464 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 02:02:39,464 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:02:39,465 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,465 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:39,465 [INFO] - [cached since 0.4286s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:02:39,466 [INFO] - ROLLBACK
2025-03-25 02:02:39,466 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:02:39,466 [INFO] - BEGIN (implicit)
2025-03-25 02:02:39,467 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 02:02:39,467 [INFO] - [generated in 0.00006s] ()
2025-03-25 02:02:39,654 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 02:02:39,654 [INFO] - ROLLBACK
2025-03-25 02:02:39,654 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:39] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 02:02:44,316 [INFO] - BEGIN (implicit)
2025-03-25 02:02:44,316 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:44,317 [INFO] - [cached since 5.28s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 02:02:44,317 [INFO] - ROLLBACK
2025-03-25 02:02:44,317 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 02:02:44,317 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:44] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-25 02:02:44,318 [INFO] - BEGIN (implicit)
2025-03-25 02:02:44,318 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:02:44,319 [INFO] - [cached since 5.282s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 02:02:44,319 [INFO] - ROLLBACK
2025-03-25 02:02:44,319 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 02:02:44,319 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:02:44] "[31m[1mGET /api/admin/students HTTP/1.1[0m" 401 -
2025-03-25 02:03:12,405 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,406 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,406 [INFO] - [cached since 33.37s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,407 [INFO] - ROLLBACK
2025-03-25 02:03:12,407 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,407 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,407 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,407 [INFO] - [cached since 33.29s ago] ('test_student', 1, 0)
2025-03-25 02:03:12,408 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,408 [INFO] - [cached since 33.28s ago] ('john.doe@example.com', 1, 0)
2025-03-25 02:03:12,482 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 02:03:12,482 [INFO] - [cached since 33.29s ago] ('test_student', 'scrypt:32768:8:1$G5PjIIh9BuaTdGuJ$6ded34d31ca713f693005f4422ce427f78024ff1ad5322fdd7565add84637ab36f8236d54712c300bf2680db724f6375aedb5d3d5822bcd91c8f1b4680cd0d53', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 02:03:12,483 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,483 [INFO] - [cached since 33.26s ago] ('1', 1, 0)
2025-03-25 02:03:12,483 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 02:03:12,483 [INFO] - [cached since 33.22s ago] ()
2025-03-25 02:03:12,483 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 02:03:12,483 [INFO] - [cached since 33.21s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 02:03:12,483 [INFO] - COMMIT
2025-03-25 02:03:12,490 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,490 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 02:03:12,490 [INFO] - [cached since 33.19s ago] (71,)
2025-03-25 02:03:12,491 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 02:03:12,491 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 02:03:12,491 [INFO] - [cached since 33.19s ago] (71,)
2025-03-25 02:03:12,491 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,491 [INFO] - [cached since 33.19s ago] (1, 1, 0)
2025-03-25 02:03:12,491 [INFO] - ROLLBACK
2025-03-25 02:03:12,491 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 02:03:12,493 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,493 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,494 [INFO] - [cached since 33.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,494 [INFO] - ROLLBACK
2025-03-25 02:03:12,494 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,494 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,494 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 02:03:12,494 [INFO] - [cached since 33.19s ago] (3050, 1, 0)
2025-03-25 02:03:12,495 [INFO] - ROLLBACK
2025-03-25 02:03:12,495 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:03:12,496 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,497 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,497 [INFO] - [cached since 33.46s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,497 [INFO] - ROLLBACK
2025-03-25 02:03:12,497 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,497 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,497 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,497 [INFO] - [cached since 33.16s ago] (3050, 1, 0)
2025-03-25 02:03:12,498 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 02:03:12,498 [INFO] - [cached since 33.16s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 02:03:12,527 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 02:03:12,527 [INFO] - [cached since 33.18s ago] ('2005-05-16', 71)
2025-03-25 02:03:12,527 [INFO] - COMMIT
2025-03-25 02:03:12,541 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 02:03:12,542 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,542 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 02:03:12,542 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,543 [INFO] - ROLLBACK
2025-03-25 02:03:12,544 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:03:12,545 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,546 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,546 [INFO] - [cached since 33.51s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,546 [INFO] - ROLLBACK
2025-03-25 02:03:12,546 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,546 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,546 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,546 [INFO] - [cached since 33.09s ago] (3050, 1, 0)
2025-03-25 02:03:12,546 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 02:03:12,546 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,547 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 02:03:12,547 [INFO] - [cached since 33.09s ago] (71,)
2025-03-25 02:03:12,567 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 02:03:12,567 [INFO] - [cached since 33.11s ago] (71,)
2025-03-25 02:03:12,567 [INFO] - COMMIT
2025-03-25 02:03:12,575 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 02:03:12,575 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 02:03:12,577 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,577 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 02:03:12,577 [INFO] - [cached since 33.54s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 02:03:12,577 [INFO] - ROLLBACK
2025-03-25 02:03:12,577 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 02:03:12,577 [INFO] - BEGIN (implicit)
2025-03-25 02:03:12,577 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 02:03:12,577 [INFO] - [cached since 33.11s ago] ()
2025-03-25 02:03:12,648 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 02:03:12,648 [INFO] - ROLLBACK
2025-03-25 02:03:12,648 [INFO] - 127.0.0.1 - - [25/Mar/2025 02:03:12] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 20:29:42,148 [INFO] - BEGIN (implicit)
2025-03-25 20:29:42,148 [INFO] - PRAGMA main.table_info("users")
2025-03-25 20:29:42,148 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("students")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 20:29:42,153 [INFO] - [raw sql] ()
2025-03-25 20:29:42,153 [INFO] - COMMIT
2025-03-25 20:29:42,176 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 20:29:42,176 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 20:29:43,748 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,750 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,750 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:43,766 [INFO] - ROLLBACK
2025-03-25 20:29:43,766 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:43,767 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,767 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,767 [INFO] - [generated in 0.00010s] ('test_student', 1, 0)
2025-03-25 20:29:43,768 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,768 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-25 20:29:43,841 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 20:29:43,842 [INFO] - [generated in 0.00019s] ('test_student', 'scrypt:32768:8:1$FsNyrxoPdbOECgVs$753c1340e70a88363973911130ea48353a100e5eaf9f7b7b9851f9e6040836f062ede887a3ae525e4f826cb1edc5ad4262f66a3fc32a059664a29cb207a4eb0a', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 20:29:43,845 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,845 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-25 20:29:43,847 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 20:29:43,847 [INFO] - [generated in 0.00006s] ()
2025-03-25 20:29:43,848 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 20:29:43,848 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 20:29:43,849 [INFO] - COMMIT
2025-03-25 20:29:43,855 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,856 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 20:29:43,856 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 20:29:43,856 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 20:29:43,856 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 20:29:43,856 [INFO] - [generated in 0.00007s] (71,)
2025-03-25 20:29:43,857 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,857 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-25 20:29:43,857 [INFO] - ROLLBACK
2025-03-25 20:29:43,857 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:43] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 20:29:43,859 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,860 [INFO] - [cached since 0.1102s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:43,860 [INFO] - ROLLBACK
2025-03-25 20:29:43,860 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:43,860 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,863 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 20:29:43,863 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-25 20:29:43,864 [INFO] - ROLLBACK
2025-03-25 20:29:43,864 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:29:43,866 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,866 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,866 [INFO] - [cached since 0.1167s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:43,866 [INFO] - ROLLBACK
2025-03-25 20:29:43,866 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:43,867 [INFO] - BEGIN (implicit)
2025-03-25 20:29:43,868 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:43,868 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-25 20:29:43,869 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 20:29:43,869 [INFO] - [generated in 0.00013s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 20:29:43,985 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 20:29:43,985 [INFO] - [generated in 0.00014s] ('2005-05-16', 71)
2025-03-25 20:29:43,985 [INFO] - COMMIT
2025-03-25 20:29:44,023 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 20:29:44,023 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,025 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 20:29:44,025 [INFO] - [generated in 0.00021s] (71,)
2025-03-25 20:29:44,026 [INFO] - ROLLBACK
2025-03-25 20:29:44,026 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:44] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:29:44,028 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,028 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:44,028 [INFO] - [cached since 0.2783s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:44,028 [INFO] - ROLLBACK
2025-03-25 20:29:44,028 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:44,028 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,029 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:44,029 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-25 20:29:44,030 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 20:29:44,030 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 20:29:44,031 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 20:29:44,031 [INFO] - [generated in 0.00010s] (71,)
2025-03-25 20:29:44,031 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 20:29:44,031 [INFO] - [generated in 0.00006s] (71,)
2025-03-25 20:29:44,032 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 20:29:44,032 [INFO] - [generated in 0.00005s] (71,)
2025-03-25 20:29:44,033 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 20:29:44,033 [INFO] - [generated in 0.00008s] (71,)
2025-03-25 20:29:44,049 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 20:29:44,049 [INFO] - [generated in 0.00014s] (71,)
2025-03-25 20:29:44,050 [INFO] - COMMIT
2025-03-25 20:29:44,057 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 20:29:44,058 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:44] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:29:44,059 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,060 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:44,060 [INFO] - [cached since 0.3101s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:29:44,060 [INFO] - ROLLBACK
2025-03-25 20:29:44,060 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:29:44,060 [INFO] - BEGIN (implicit)
2025-03-25 20:29:44,062 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 20:29:44,062 [INFO] - [generated in 0.00009s] ()
2025-03-25 20:29:44,358 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 20:29:44,359 [INFO] - ROLLBACK
2025-03-25 20:29:44,359 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:44] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 20:29:51,754 [INFO] - BEGIN (implicit)
2025-03-25 20:29:51,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:51,755 [INFO] - [cached since 8.005s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 20:29:51,755 [INFO] - ROLLBACK
2025-03-25 20:29:51,755 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-25 20:29:51,755 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:51] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-25 20:29:51,756 [INFO] - BEGIN (implicit)
2025-03-25 20:29:51,756 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:29:51,756 [INFO] - [cached since 8.007s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-25 20:29:51,757 [INFO] - ROLLBACK
2025-03-25 20:29:51,757 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 20:29:51,757 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:29:51] "[31m[1mGET /api/admin/students HTTP/1.1[0m" 401 -
2025-03-25 20:30:01,838 [INFO] - BEGIN (implicit)
2025-03-25 20:30:01,838 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,838 [INFO] - [cached since 18.09s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:01,839 [INFO] - ROLLBACK
2025-03-25 20:30:01,839 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:01,839 [INFO] - BEGIN (implicit)
2025-03-25 20:30:01,839 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,839 [INFO] - [cached since 18.07s ago] ('test_student', 1, 0)
2025-03-25 20:30:01,839 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,839 [INFO] - [cached since 18.07s ago] ('john.doe@example.com', 1, 0)
2025-03-25 20:30:01,912 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25 20:30:01,912 [INFO] - [cached since 18.07s ago] ('test_student', 'scrypt:32768:8:1$QhqA27EKYlCFeCFP$c6d201e4e609a26ea25d9a6c1577ecadbf93006b284eec87aa8f2aeee572d33cc043cd3a97fec61ca10f660d3009f1bc42e5d275ff59525656dd50279ddcc093', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-25 20:30:01,922 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:01,922 [INFO] - [cached since 18.08s ago] ('1', 1, 0)
2025-03-25 20:30:01,922 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-25 20:30:01,922 [INFO] - [cached since 18.08s ago] ()
2025-03-25 20:30:01,923 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-25 20:30:01,923 [INFO] - [cached since 18.07s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-25 20:30:01,923 [INFO] - COMMIT
2025-03-25 20:30:02,030 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,030 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 20:30:02,030 [INFO] - [cached since 18.18s ago] (71,)
2025-03-25 20:30:02,031 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-25 20:30:02,031 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-25 20:30:02,031 [INFO] - [cached since 18.17s ago] (71,)
2025-03-25 20:30:02,031 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,031 [INFO] - [cached since 18.17s ago] (1, 1, 0)
2025-03-25 20:30:02,031 [INFO] - ROLLBACK
2025-03-25 20:30:02,031 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-25 20:30:02,034 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,034 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,034 [INFO] - [cached since 18.28s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,034 [INFO] - ROLLBACK
2025-03-25 20:30:02,034 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,034 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,034 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-25 20:30:02,034 [INFO] - [cached since 18.17s ago] (3050, 1, 0)
2025-03-25 20:30:02,035 [INFO] - ROLLBACK
2025-03-25 20:30:02,035 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:30:02,037 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,037 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,037 [INFO] - [cached since 18.29s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,037 [INFO] - ROLLBACK
2025-03-25 20:30:02,037 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,037 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,037 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,037 [INFO] - [cached since 18.17s ago] (3050, 1, 0)
2025-03-25 20:30:02,038 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-25 20:30:02,038 [INFO] - [cached since 18.17s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-25 20:30:02,038 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-25 20:30:02,038 [INFO] - [cached since 18.05s ago] ('2005-05-16', 71)
2025-03-25 20:30:02,038 [INFO] - COMMIT
2025-03-25 20:30:02,073 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-25 20:30:02,073 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,074 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-25 20:30:02,074 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,074 [INFO] - ROLLBACK
2025-03-25 20:30:02,074 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:30:02,076 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,076 [INFO] - [cached since 18.33s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,076 [INFO] - ROLLBACK
2025-03-25 20:30:02,076 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,076 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,076 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,076 [INFO] - [cached since 18.05s ago] (3050, 1, 0)
2025-03-25 20:30:02,077 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-25 20:30:02,077 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,077 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-25 20:30:02,077 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,077 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-25 20:30:02,077 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,078 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-25 20:30:02,078 [INFO] - [cached since 18.05s ago] (71,)
2025-03-25 20:30:02,078 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-25 20:30:02,078 [INFO] - [cached since 18.04s ago] (71,)
2025-03-25 20:30:02,078 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-25 20:30:02,078 [INFO] - [cached since 18.03s ago] (71,)
2025-03-25 20:30:02,079 [INFO] - COMMIT
2025-03-25 20:30:02,109 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-25 20:30:02,110 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-25 20:30:02,111 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,111 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-25 20:30:02,111 [INFO] - [cached since 18.36s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-25 20:30:02,112 [INFO] - ROLLBACK
2025-03-25 20:30:02,112 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-25 20:30:02,112 [INFO] - BEGIN (implicit)
2025-03-25 20:30:02,112 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 20:30:02,112 [INFO] - [cached since 18.05s ago] ()
2025-03-25 20:30:02,503 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 20:30:02,503 [INFO] - ROLLBACK
2025-03-25 20:30:02,503 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:02] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-25 20:30:42,802 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:42] "GET / HTTP/1.1" 200 -
2025-03-25 20:30:42,863 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-25 20:30:44,748 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:44] "GET /student/ HTTP/1.1" 200 -
2025-03-25 20:30:44,798 [INFO] - 127.0.0.1 - - [25/Mar/2025 20:30:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:18,894 [INFO] - BEGIN (implicit)
2025-03-25 21:07:18,894 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:07:18,894 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:07:18,895 [INFO] - [raw sql] ()
2025-03-25 21:07:18,895 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:07:18,896 [INFO] - [raw sql] ()
2025-03-25 21:07:18,896 [INFO] - COMMIT
2025-03-25 21:07:18,939 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:07:18,939 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:07:28,128 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:28] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:28,163 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:29,089 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:29] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:29,158 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:30,837 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:30] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:30,875 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:35,570 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 21:07:35,571 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:35] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-25 21:07:37,049 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-25 21:07:37,050 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:37] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-25 21:07:53,774 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:53] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:07:53,803 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:07:55,883 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:55] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:07:55,933 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:07:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:08:04,510 [INFO] - BEGIN (implicit)
2025-03-25 21:08:04,512 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:08:04,512 [INFO] - [generated in 0.00018s] ('user2', 1, 0)
2025-03-25 21:08:04,629 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:04] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:08:04,636 [INFO] - BEGIN (implicit)
2025-03-25 21:08:04,636 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:08:04,636 [INFO] - [generated in 0.00010s] ('2',)
2025-03-25 21:08:04,638 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:04] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:08:04,712 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:08:13,315 [INFO] - BEGIN (implicit)
2025-03-25 21:08:13,316 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:08:13,317 [INFO] - [cached since 8.685s ago] ('2',)
2025-03-25 21:08:13,320 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:08:13,321 [INFO] - BEGIN (implicit)
2025-03-25 21:08:13,321 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:08:13,321 [INFO] - [cached since 8.814s ago] ('user2', 1, 0)
2025-03-25 21:08:13,324 [INFO] - ROLLBACK
2025-03-25 21:08:13,325 [INFO] - BEGIN (implicit)
2025-03-25 21:08:13,328 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:08:13,329 [INFO] - [generated in 0.00015s] ()
2025-03-25 21:08:13,538 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:08:13,538 [INFO] - ROLLBACK
2025-03-25 21:08:13,544 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:13] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:08:13,586 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:08:25,153 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:08:25] "[33mGET /admin/student/3049 HTTP/1.1[0m" 404 -
2025-03-25 21:19:46,187 [INFO] - BEGIN (implicit)
2025-03-25 21:19:46,187 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:19:46,187 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,189 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:19:46,189 [INFO] - [raw sql] ()
2025-03-25 21:19:46,190 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:19:46,190 [INFO] - [raw sql] ()
2025-03-25 21:19:46,190 [INFO] - COMMIT
2025-03-25 21:19:46,204 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:19:46,204 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:19:49,281 [INFO] - BEGIN (implicit)
2025-03-25 21:19:49,282 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:49,282 [INFO] - [generated in 0.00011s] ('2',)
2025-03-25 21:19:49,317 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:49,329 [INFO] - BEGIN (implicit)
2025-03-25 21:19:49,330 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:49,330 [INFO] - [generated in 0.00011s] ('user2', 1, 0)
2025-03-25 21:19:49,331 [INFO] - ROLLBACK
2025-03-25 21:19:49,331 [INFO] - BEGIN (implicit)
2025-03-25 21:19:49,333 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:49,333 [INFO] - [generated in 0.00008s] ()
2025-03-25 21:19:49,542 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:49,543 [INFO] - ROLLBACK
2025-03-25 21:19:49,546 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:49,561 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:49] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:50,367 [INFO] - BEGIN (implicit)
2025-03-25 21:19:50,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:50,368 [INFO] - [cached since 1.086s ago] ('2',)
2025-03-25 21:19:50,368 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:50,369 [INFO] - BEGIN (implicit)
2025-03-25 21:19:50,369 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:50,369 [INFO] - [cached since 1.04s ago] ('user2', 1, 0)
2025-03-25 21:19:50,370 [INFO] - ROLLBACK
2025-03-25 21:19:50,370 [INFO] - BEGIN (implicit)
2025-03-25 21:19:50,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:50,371 [INFO] - [cached since 1.038s ago] ()
2025-03-25 21:19:50,374 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:50,375 [INFO] - ROLLBACK
2025-03-25 21:19:50,375 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:50,377 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:50] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:51,075 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,076 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:51,076 [INFO] - [cached since 1.794s ago] ('2',)
2025-03-25 21:19:51,076 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:51,077 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,077 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:51,077 [INFO] - [cached since 1.747s ago] ('user2', 1, 0)
2025-03-25 21:19:51,077 [INFO] - ROLLBACK
2025-03-25 21:19:51,078 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,078 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:51,078 [INFO] - [cached since 1.745s ago] ()
2025-03-25 21:19:51,082 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:51,082 [INFO] - ROLLBACK
2025-03-25 21:19:51,082 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:51,084 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:51] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:51,416 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,416 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:51,416 [INFO] - [cached since 2.134s ago] ('2',)
2025-03-25 21:19:51,416 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:19:51,417 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,417 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:19:51,417 [INFO] - [cached since 2.087s ago] ('user2', 1, 0)
2025-03-25 21:19:51,417 [INFO] - ROLLBACK
2025-03-25 21:19:51,418 [INFO] - BEGIN (implicit)
2025-03-25 21:19:51,418 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:19:51,418 [INFO] - [cached since 2.085s ago] ()
2025-03-25 21:19:51,422 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:19:51,422 [INFO] - ROLLBACK
2025-03-25 21:19:51,423 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:19:51,424 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:51] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:19:55,236 [INFO] - BEGIN (implicit)
2025-03-25 21:19:55,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:19:55,237 [INFO] - [cached since 5.955s ago] ('2',)
2025-03-25 21:19:55,291 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:19:55,340 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:19:55] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:20:29,503 [INFO] - BEGIN (implicit)
2025-03-25 21:20:29,504 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:20:29,504 [INFO] - [cached since 40.22s ago] ('2',)
2025-03-25 21:20:29,505 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:20:29,506 [INFO] - BEGIN (implicit)
2025-03-25 21:20:29,506 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:20:29,506 [INFO] - [cached since 40.18s ago] ('user2', 1, 0)
2025-03-25 21:20:29,506 [INFO] - ROLLBACK
2025-03-25 21:20:29,507 [INFO] - BEGIN (implicit)
2025-03-25 21:20:29,507 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:20:29,507 [INFO] - [cached since 40.17s ago] ()
2025-03-25 21:20:29,519 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:20:29,520 [INFO] - ROLLBACK
2025-03-25 21:20:29,520 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:20:29,521 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:20:29] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:20:39,030 [INFO] - BEGIN (implicit)
2025-03-25 21:20:39,032 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:20:39,032 [INFO] - [cached since 49.75s ago] ('2',)
2025-03-25 21:20:39,033 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:20:39,034 [INFO] - BEGIN (implicit)
2025-03-25 21:20:39,037 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:20:39,037 [INFO] - [cached since 49.71s ago] ('user2', 1, 0)
2025-03-25 21:20:39,038 [INFO] - ROLLBACK
2025-03-25 21:20:39,039 [INFO] - BEGIN (implicit)
2025-03-25 21:20:39,040 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:20:39,040 [INFO] - [cached since 49.71s ago] ()
2025-03-25 21:20:39,052 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:20:39,052 [INFO] - ROLLBACK
2025-03-25 21:20:39,053 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:20:39,054 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:20:39] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:22:29,375 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:22:29] "[33mGET /logout HTTP/1.1[0m" 404 -
2025-03-25 21:22:32,096 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:22:32] "[33mGET /logout HTTP/1.1[0m" 404 -
2025-03-25 21:22:32,726 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:22:32] "[33mGET /logout HTTP/1.1[0m" 404 -
2025-03-25 21:25:41,908 [INFO] - BEGIN (implicit)
2025-03-25 21:25:41,910 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:41,910 [INFO] - [cached since 352.6s ago] ('2',)
2025-03-25 21:25:41,944 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:41,972 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:42,621 [INFO] - BEGIN (implicit)
2025-03-25 21:25:42,621 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:42,622 [INFO] - [cached since 353.4s ago] ('2',)
2025-03-25 21:25:42,624 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:42,652 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:42,842 [INFO] - BEGIN (implicit)
2025-03-25 21:25:42,843 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:42,843 [INFO] - [cached since 353.6s ago] ('2',)
2025-03-25 21:25:42,844 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:42,871 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:43,069 [INFO] - BEGIN (implicit)
2025-03-25 21:25:43,069 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:43,069 [INFO] - [cached since 353.8s ago] ('2',)
2025-03-25 21:25:43,075 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:43,104 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:43,264 [INFO] - BEGIN (implicit)
2025-03-25 21:25:43,264 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:43,265 [INFO] - [cached since 354s ago] ('2',)
2025-03-25 21:25:43,266 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:43,289 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:25:43,413 [INFO] - BEGIN (implicit)
2025-03-25 21:25:43,414 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:25:43,414 [INFO] - [cached since 354.1s ago] ('2',)
2025-03-25 21:25:43,414 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:25:43,440 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:25:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:15,184 [INFO] - BEGIN (implicit)
2025-03-25 21:26:15,192 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:26:15,192 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:26:15,194 [INFO] - [raw sql] ()
2025-03-25 21:26:15,194 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:26:15,195 [INFO] - [raw sql] ()
2025-03-25 21:26:15,195 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:26:15,195 [INFO] - [raw sql] ()
2025-03-25 21:26:15,195 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:26:15,195 [INFO] - [raw sql] ()
2025-03-25 21:26:15,195 [INFO] - COMMIT
2025-03-25 21:26:15,205 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:26:15,205 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:26:16,906 [INFO] - BEGIN (implicit)
2025-03-25 21:26:16,946 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:16,946 [INFO] - [generated in 0.00015s] ('2',)
2025-03-25 21:26:16,983 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:17,024 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:17,865 [INFO] - BEGIN (implicit)
2025-03-25 21:26:17,866 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:17,866 [INFO] - [cached since 0.9203s ago] ('2',)
2025-03-25 21:26:17,866 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:17] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:17,896 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:29,204 [INFO] - BEGIN (implicit)
2025-03-25 21:26:29,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:29,206 [INFO] - [cached since 12.26s ago] ('2',)
2025-03-25 21:26:29,211 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:29,247 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:29,677 [INFO] - BEGIN (implicit)
2025-03-25 21:26:29,677 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:29,677 [INFO] - [cached since 12.73s ago] ('2',)
2025-03-25 21:26:29,679 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:29,703 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:39,618 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:39] "GET / HTTP/1.1" 200 -
2025-03-25 21:26:41,201 [INFO] - BEGIN (implicit)
2025-03-25 21:26:41,201 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:41,201 [INFO] - [cached since 24.26s ago] ('2',)
2025-03-25 21:26:41,209 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:41] "GET /student/ HTTP/1.1" 200 -
2025-03-25 21:26:41,262 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:45,525 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:52,756 [INFO] - BEGIN (implicit)
2025-03-25 21:26:52,757 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:52,757 [INFO] - [cached since 35.81s ago] ('2',)
2025-03-25 21:26:52,762 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:52] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:52,807 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:26:53,805 [INFO] - BEGIN (implicit)
2025-03-25 21:26:53,806 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:26:53,806 [INFO] - [cached since 36.86s ago] ('2',)
2025-03-25 21:26:53,807 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:53] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:26:53,869 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:26:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:27:04,958 [INFO] - BEGIN (implicit)
2025-03-25 21:27:04,959 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:04,959 [INFO] - [cached since 48.01s ago] ('2',)
2025-03-25 21:27:04,964 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:04] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:27:04,992 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:04] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:27:06,037 [INFO] - BEGIN (implicit)
2025-03-25 21:27:06,038 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:06,038 [INFO] - [cached since 49.09s ago] ('2',)
2025-03-25 21:27:06,039 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:06] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:27:06,061 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:27:12,171 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:12,173 [INFO] - [cached since 55.23s ago] ('2',)
2025-03-25 21:27:12,175 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:27:12,176 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,183 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:27:12,183 [INFO] - [generated in 0.00037s] ('user2', 1, 0)
2025-03-25 21:27:12,188 [INFO] - ROLLBACK
2025-03-25 21:27:12,188 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,192 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:27:12,192 [INFO] - [generated in 0.00010s] ()
2025-03-25 21:27:12,429 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:27:12,429 [INFO] - ROLLBACK
2025-03-25 21:27:12,459 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:27:12,478 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:12] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:27:12,786 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,787 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:12,787 [INFO] - [cached since 55.84s ago] ('2',)
2025-03-25 21:27:12,787 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:27:12,788 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,788 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:27:12,788 [INFO] - [cached since 0.6056s ago] ('user2', 1, 0)
2025-03-25 21:27:12,788 [INFO] - ROLLBACK
2025-03-25 21:27:12,789 [INFO] - BEGIN (implicit)
2025-03-25 21:27:12,789 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:27:12,789 [INFO] - [cached since 0.5969s ago] ()
2025-03-25 21:27:12,794 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:27:12,794 [INFO] - ROLLBACK
2025-03-25 21:27:12,795 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:27:12,796 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:12] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:27:14,347 [INFO] - BEGIN (implicit)
2025-03-25 21:27:14,347 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:27:14,347 [INFO] - [cached since 57.4s ago] ('2',)
2025-03-25 21:27:14,350 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:27:14,350 [INFO] - BEGIN (implicit)
2025-03-25 21:27:14,351 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:27:14,351 [INFO] - [cached since 2.168s ago] ('user2', 1, 0)
2025-03-25 21:27:14,351 [INFO] - ROLLBACK
2025-03-25 21:27:14,352 [INFO] - BEGIN (implicit)
2025-03-25 21:27:14,352 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:27:14,352 [INFO] - [cached since 2.16s ago] ()
2025-03-25 21:27:14,357 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:27:14,357 [INFO] - ROLLBACK
2025-03-25 21:27:14,358 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 20, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:27:14,359 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:14] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:27:37,631 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:37] "[33mGET /admin/students/ HTTP/1.1[0m" 404 -
2025-03-25 21:27:53,521 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:27:53] "[33mGET /admin/students/ HTTP/1.1[0m" 404 -
2025-03-25 21:28:52,174 [INFO] - BEGIN (implicit)
2025-03-25 21:28:52,174 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:28:52,174 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,175 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:28:52,175 [INFO] - [raw sql] ()
2025-03-25 21:28:52,176 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:28:52,176 [INFO] - [raw sql] ()
2025-03-25 21:28:52,176 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:28:52,176 [INFO] - [raw sql] ()
2025-03-25 21:28:52,176 [INFO] - COMMIT
2025-03-25 21:28:52,188 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:28:52,188 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:28:54,810 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:28:54] "[33mGET /admin/students/ HTTP/1.1[0m" 404 -
2025-03-25 21:29:05,714 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,716 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:29:05,716 [INFO] - [generated in 0.00014s] ('2',)
2025-03-25 21:29:05,716 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:29:05,717 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,718 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:29:05,718 [INFO] - [generated in 0.00009s] ('user2', 1, 0)
2025-03-25 21:29:05,723 [INFO] - ROLLBACK
2025-03-25 21:29:05,724 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,725 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:29:05,725 [INFO] - [generated in 0.00008s] ()
2025-03-25 21:29:05,870 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:29:05,870 [INFO] - ROLLBACK
2025-03-25 21:29:05,891 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:29:05,907 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:29:05] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:29:05,960 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,960 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:29:05,960 [INFO] - [cached since 0.2444s ago] ('2',)
2025-03-25 21:29:05,960 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:29:05,961 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:29:05,961 [INFO] - [cached since 0.2427s ago] ('user2', 1, 0)
2025-03-25 21:29:05,961 [INFO] - ROLLBACK
2025-03-25 21:29:05,961 [INFO] - BEGIN (implicit)
2025-03-25 21:29:05,961 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:29:05,961 [INFO] - [cached since 0.2361s ago] ()
2025-03-25 21:29:05,963 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:29:05,963 [INFO] - ROLLBACK
2025-03-25 21:29:05,964 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:29:05,964 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:29:05] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:30:55,042 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:30:55] "[33mGET /admin/student HTTP/1.1[0m" 404 -
2025-03-25 21:30:59,234 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,235 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:30:59,235 [INFO] - [cached since 113.5s ago] ('2',)
2025-03-25 21:30:59,236 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:30:59,237 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:30:59,237 [INFO] - [cached since 113.5s ago] ('user2', 1, 0)
2025-03-25 21:30:59,238 [INFO] - ROLLBACK
2025-03-25 21:30:59,238 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,238 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:30:59,239 [INFO] - [cached since 113.5s ago] ()
2025-03-25 21:30:59,251 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:30:59,251 [INFO] - ROLLBACK
2025-03-25 21:30:59,252 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:30:59,253 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:30:59] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:30:59,685 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:30:59,686 [INFO] - [cached since 114s ago] ('2',)
2025-03-25 21:30:59,686 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:30:59,687 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,687 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:30:59,687 [INFO] - [cached since 114s ago] ('user2', 1, 0)
2025-03-25 21:30:59,687 [INFO] - ROLLBACK
2025-03-25 21:30:59,688 [INFO] - BEGIN (implicit)
2025-03-25 21:30:59,688 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:30:59,688 [INFO] - [cached since 114s ago] ()
2025-03-25 21:30:59,695 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:30:59,695 [INFO] - ROLLBACK
2025-03-25 21:30:59,696 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:30:59,697 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:30:59] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:31:16,912 [INFO] - BEGIN (implicit)
2025-03-25 21:31:16,913 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:31:16,913 [INFO] - [cached since 131.2s ago] ('2',)
2025-03-25 21:31:16,959 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:31:16,974 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:19,343 [INFO] - BEGIN (implicit)
2025-03-25 21:31:19,344 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:31:19,344 [INFO] - [cached since 133.6s ago] ('2',)
2025-03-25 21:31:19,345 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:19] "[32mGET /student/logout HTTP/1.1[0m" 302 -
2025-03-25 21:31:19,388 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:19] "GET /student/ HTTP/1.1" 200 -
2025-03-25 21:31:19,421 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:26,962 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:26] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:31:26,987 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:28,256 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:28] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:31:28,314 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:30,178 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:30] "GET /student/login HTTP/1.1" 200 -
2025-03-25 21:31:30,230 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:40,481 [INFO] - BEGIN (implicit)
2025-03-25 21:31:40,484 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:31:40,484 [INFO] - [generated in 0.00026s] ('user1', 1, 0)
2025-03-25 21:31:40,485 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:40] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:31:40,528 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:44,969 [INFO] - BEGIN (implicit)
2025-03-25 21:31:44,970 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:31:44,970 [INFO] - [cached since 4.486s ago] ('user1', 1, 0)
2025-03-25 21:31:44,971 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:44] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:31:45,001 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:31:50,997 [INFO] - BEGIN (implicit)
2025-03-25 21:31:50,999 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:31:50,999 [INFO] - [cached since 10.52s ago] ('user1', 1, 0)
2025-03-25 21:31:51,061 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:51] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:31:51,098 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:31:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:00,192 [INFO] - BEGIN (implicit)
2025-03-25 21:32:00,192 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:00,193 [INFO] - [cached since 19.71s ago] ('user1', 1, 0)
2025-03-25 21:32:00,194 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:00] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:00,224 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:04,243 [INFO] - BEGIN (implicit)
2025-03-25 21:32:04,244 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:04,244 [INFO] - [cached since 23.76s ago] ('user1', 1, 0)
2025-03-25 21:32:04,250 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:04] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:04,281 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:13,155 [INFO] - BEGIN (implicit)
2025-03-25 21:32:13,156 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:13,156 [INFO] - [cached since 32.67s ago] ('user2', 1, 0)
2025-03-25 21:32:13,157 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:13] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:13,186 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:28,916 [INFO] - BEGIN (implicit)
2025-03-25 21:32:28,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:28,918 [INFO] - [cached since 48.44s ago] ('user2', 1, 0)
2025-03-25 21:32:28,923 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:28] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:28,954 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:35,189 [INFO] - BEGIN (implicit)
2025-03-25 21:32:35,189 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:35,189 [INFO] - [cached since 54.71s ago] ('user2', 1, 0)
2025-03-25 21:32:35,191 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:35] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:35,220 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:39,552 [INFO] - BEGIN (implicit)
2025-03-25 21:32:39,553 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:39,554 [INFO] - [cached since 59.07s ago] ('user2', 1, 0)
2025-03-25 21:32:39,555 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:39] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:39,589 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:44,953 [INFO] - BEGIN (implicit)
2025-03-25 21:32:44,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:44,954 [INFO] - [cached since 64.47s ago] ('user2', 1, 0)
2025-03-25 21:32:44,955 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:44] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:44,985 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:32:56,053 [INFO] - BEGIN (implicit)
2025-03-25 21:32:56,054 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:32:56,054 [INFO] - [cached since 75.57s ago] ('user2', 1, 0)
2025-03-25 21:32:56,055 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:56] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:32:56,087 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:32:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:00,448 [INFO] - BEGIN (implicit)
2025-03-25 21:33:00,449 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:00,449 [INFO] - [cached since 79.97s ago] ('user2', 1, 0)
2025-03-25 21:33:00,450 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:00] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:00,480 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:05,399 [INFO] - BEGIN (implicit)
2025-03-25 21:33:05,400 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:05,400 [INFO] - [cached since 84.92s ago] ('user2', 1, 0)
2025-03-25 21:33:05,401 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:05] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:05,433 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:09,916 [INFO] - BEGIN (implicit)
2025-03-25 21:33:09,917 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:09,917 [INFO] - [cached since 89.44s ago] ('user2', 1, 0)
2025-03-25 21:33:09,922 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:09] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:09,951 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:14,846 [INFO] - BEGIN (implicit)
2025-03-25 21:33:14,847 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:14,847 [INFO] - [cached since 94.37s ago] ('user2', 1, 0)
2025-03-25 21:33:14,849 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:14] "POST /student/login HTTP/1.1" 200 -
2025-03-25 21:33:14,881 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:23,608 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:23] "GET / HTTP/1.1" 200 -
2025-03-25 21:33:26,340 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:26] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:33:26,398 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:30,676 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:30] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:33:30,712 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:44,170 [INFO] - BEGIN (implicit)
2025-03-25 21:33:44,172 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:44,172 [INFO] - [cached since 278.5s ago] ('user1', 1, 0)
2025-03-25 21:33:44,288 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:44] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:33:44,293 [INFO] - BEGIN (implicit)
2025-03-25 21:33:44,294 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:44,294 [INFO] - [cached since 278.6s ago] ('1',)
2025-03-25 21:33:44,294 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:44] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:33:44,360 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:33:52,747 [INFO] - BEGIN (implicit)
2025-03-25 21:33:52,749 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:52,749 [INFO] - [cached since 287s ago] ('1',)
2025-03-25 21:33:52,749 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:33:52,750 [INFO] - BEGIN (implicit)
2025-03-25 21:33:52,750 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:52,750 [INFO] - [cached since 287s ago] ('user1', 1, 0)
2025-03-25 21:33:52,753 [INFO] - ROLLBACK
2025-03-25 21:33:52,753 [INFO] - BEGIN (implicit)
2025-03-25 21:33:52,754 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:33:52,754 [INFO] - [cached since 287s ago] ()
2025-03-25 21:33:52,902 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:33:52,902 [INFO] - ROLLBACK
2025-03-25 21:33:52,902 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:33:52,904 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:52] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:33:54,688 [INFO] - BEGIN (implicit)
2025-03-25 21:33:54,688 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:54,688 [INFO] - [cached since 289s ago] ('1',)
2025-03-25 21:33:54,689 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:33:54,690 [INFO] - BEGIN (implicit)
2025-03-25 21:33:54,690 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:54,690 [INFO] - [cached since 289s ago] ('user1', 1, 0)
2025-03-25 21:33:54,691 [INFO] - ROLLBACK
2025-03-25 21:33:54,691 [INFO] - BEGIN (implicit)
2025-03-25 21:33:54,692 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:33:54,692 [INFO] - [cached since 289s ago] ()
2025-03-25 21:33:54,698 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:33:54,698 [INFO] - ROLLBACK
2025-03-25 21:33:54,700 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:33:54,701 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:54] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:33:58,567 [INFO] - BEGIN (implicit)
2025-03-25 21:33:58,567 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:33:58,567 [INFO] - [cached since 292.9s ago] ('1',)
2025-03-25 21:33:58,568 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:33:58,568 [INFO] - BEGIN (implicit)
2025-03-25 21:33:58,569 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:33:58,569 [INFO] - [cached since 292.9s ago] ('user1', 1, 0)
2025-03-25 21:33:58,569 [INFO] - ROLLBACK
2025-03-25 21:33:58,570 [INFO] - BEGIN (implicit)
2025-03-25 21:33:58,570 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:33:58,570 [INFO] - [cached since 292.9s ago] ()
2025-03-25 21:33:58,574 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:33:58,574 [INFO] - ROLLBACK
2025-03-25 21:33:58,575 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 21:33:58,576 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:33:58] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 21:35:09,337 [INFO] - BEGIN (implicit)
2025-03-25 21:35:09,340 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:35:09,340 [INFO] - [raw sql] ()
2025-03-25 21:35:09,357 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:35:09,357 [INFO] - [raw sql] ()
2025-03-25 21:35:09,357 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:35:09,357 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:35:09,358 [INFO] - [raw sql] ()
2025-03-25 21:35:09,358 [INFO] - COMMIT
2025-03-25 21:35:09,369 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:35:09,370 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:35:13,704 [INFO] - BEGIN (implicit)
2025-03-25 21:35:13,706 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:13,706 [INFO] - [generated in 0.00015s] ('1',)
2025-03-25 21:35:13,709 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:13] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:13,740 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:15,296 [INFO] - BEGIN (implicit)
2025-03-25 21:35:15,296 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:15,296 [INFO] - [cached since 1.591s ago] ('1',)
2025-03-25 21:35:15,300 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:15] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:15,357 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:15,954 [INFO] - BEGIN (implicit)
2025-03-25 21:35:15,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:15,954 [INFO] - [cached since 2.249s ago] ('1',)
2025-03-25 21:35:15,956 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:15] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:16,004 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:16,372 [INFO] - BEGIN (implicit)
2025-03-25 21:35:16,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:16,373 [INFO] - [cached since 2.667s ago] ('1',)
2025-03-25 21:35:16,374 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:16,430 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:16,688 [INFO] - BEGIN (implicit)
2025-03-25 21:35:16,689 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:16,689 [INFO] - [cached since 2.983s ago] ('1',)
2025-03-25 21:35:16,690 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:16,750 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:18,247 [INFO] - BEGIN (implicit)
2025-03-25 21:35:18,247 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:18,247 [INFO] - [cached since 4.542s ago] ('1',)
2025-03-25 21:35:18,249 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:18] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:35:18,252 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:18] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:18,310 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:20,564 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:20] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:35:20,606 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:32,550 [INFO] - BEGIN (implicit)
2025-03-25 21:35:32,552 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:35:32,552 [INFO] - [generated in 0.00025s] ('user2', 1, 0)
2025-03-25 21:35:32,629 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:32] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:35:32,635 [INFO] - BEGIN (implicit)
2025-03-25 21:35:32,636 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:32,636 [INFO] - [cached since 18.93s ago] ('2',)
2025-03-25 21:35:32,636 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:35:32,708 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:40,442 [INFO] - BEGIN (implicit)
2025-03-25 21:35:40,442 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:40,442 [INFO] - [cached since 26.74s ago] ('2',)
2025-03-25 21:35:40,442 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:35:40,443 [INFO] - BEGIN (implicit)
2025-03-25 21:35:40,443 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:35:40,443 [INFO] - [cached since 7.891s ago] ('user2', 1, 0)
2025-03-25 21:35:40,446 [INFO] - ROLLBACK
2025-03-25 21:35:40,447 [INFO] - BEGIN (implicit)
2025-03-25 21:35:40,451 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:35:40,451 [INFO] - [generated in 0.00017s] ()
2025-03-25 21:35:40,589 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:35:40,589 [INFO] - ROLLBACK
2025-03-25 21:35:40,609 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:35:40,626 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:35:42,220 [INFO] - BEGIN (implicit)
2025-03-25 21:35:42,221 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:35:42,221 [INFO] - [cached since 28.52s ago] ('2',)
2025-03-25 21:35:42,221 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:35:42,222 [INFO] - BEGIN (implicit)
2025-03-25 21:35:42,223 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:35:42,223 [INFO] - [cached since 9.671s ago] ('user2', 1, 0)
2025-03-25 21:35:42,223 [INFO] - ROLLBACK
2025-03-25 21:35:42,224 [INFO] - BEGIN (implicit)
2025-03-25 21:35:42,224 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:35:42,224 [INFO] - [cached since 1.773s ago] ()
2025-03-25 21:35:42,228 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:35:42,228 [INFO] - ROLLBACK
2025-03-25 21:35:42,234 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:35:42,273 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:35:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:36:48,631 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:36:48] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-25 21:42:44,454 [INFO] - BEGIN (implicit)
2025-03-25 21:42:44,476 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:44,476 [INFO] - [cached since 450.8s ago] ('2',)
2025-03-25 21:42:44,520 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:42:44,520 [INFO] - BEGIN (implicit)
2025-03-25 21:42:44,521 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:42:44,521 [INFO] - [cached since 431.9s ago] ('user2', 1, 0)
2025-03-25 21:42:44,540 [INFO] - ROLLBACK
2025-03-25 21:42:44,540 [INFO] - BEGIN (implicit)
2025-03-25 21:42:44,540 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:42:44,540 [INFO] - [cached since 424.1s ago] ()
2025-03-25 21:42:44,765 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:42:44,765 [INFO] - ROLLBACK
2025-03-25 21:42:44,780 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:44] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:42:44,812 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:44] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:42:46,510 [INFO] - BEGIN (implicit)
2025-03-25 21:42:46,511 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:46,511 [INFO] - [cached since 452.8s ago] ('2',)
2025-03-25 21:42:46,512 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:46] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:42:46,575 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:42:47,376 [INFO] - BEGIN (implicit)
2025-03-25 21:42:47,376 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:47,376 [INFO] - [cached since 453.7s ago] ('2',)
2025-03-25 21:42:47,377 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:47] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:42:47,438 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:42:50,284 [INFO] - BEGIN (implicit)
2025-03-25 21:42:50,285 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:42:50,285 [INFO] - [cached since 456.6s ago] ('2',)
2025-03-25 21:42:50,286 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:42:50,315 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:42:55,599 [INFO] - BEGIN (implicit)
2025-03-25 21:42:55,600 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:42:55,600 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:42:55,601 [INFO] - [raw sql] ()
2025-03-25 21:42:55,601 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:42:55,602 [INFO] - [raw sql] ()
2025-03-25 21:42:55,602 [INFO] - COMMIT
2025-03-25 21:42:55,616 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:42:55,616 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:42:59,373 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:42:59] "GET / HTTP/1.1" 200 -
2025-03-25 21:43:01,371 [INFO] - BEGIN (implicit)
2025-03-25 21:43:01,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:43:01,373 [INFO] - [generated in 0.00011s] ('2',)
2025-03-25 21:43:01,377 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:01] "GET /student/ HTTP/1.1" 200 -
2025-03-25 21:43:01,428 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:43:09,075 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:09] "[33mGET /student/admin HTTP/1.1[0m" 404 -
2025-03-25 21:43:16,910 [INFO] - BEGIN (implicit)
2025-03-25 21:43:16,910 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:43:16,910 [INFO] - [cached since 15.54s ago] ('2',)
2025-03-25 21:43:16,920 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:43:16,955 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:43:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:44:11,801 [INFO] - BEGIN (implicit)
2025-03-25 21:44:11,801 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:44:11,801 [INFO] - [cached since 70.43s ago] ('2',)
2025-03-25 21:44:11,818 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:44:11,818 [INFO] - BEGIN (implicit)
2025-03-25 21:44:11,820 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:44:11,820 [INFO] - [generated in 0.00013s] ('user2', 1, 0)
2025-03-25 21:44:11,821 [INFO] - ROLLBACK
2025-03-25 21:44:11,821 [INFO] - BEGIN (implicit)
2025-03-25 21:44:11,823 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:44:11,823 [INFO] - [generated in 0.00009s] ()
2025-03-25 21:44:12,011 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:44:12,011 [INFO] - ROLLBACK
2025-03-25 21:44:12,041 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:12] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:44:12,055 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:44:13,123 [INFO] - BEGIN (implicit)
2025-03-25 21:44:13,124 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:44:13,124 [INFO] - [cached since 71.75s ago] ('2',)
2025-03-25 21:44:13,125 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:44:13,125 [INFO] - BEGIN (implicit)
2025-03-25 21:44:13,126 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:44:13,126 [INFO] - [cached since 1.306s ago] ('user2', 1, 0)
2025-03-25 21:44:13,126 [INFO] - ROLLBACK
2025-03-25 21:44:13,127 [INFO] - BEGIN (implicit)
2025-03-25 21:44:13,127 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:44:13,127 [INFO] - [cached since 1.304s ago] ()
2025-03-25 21:44:13,130 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:44:13,130 [INFO] - ROLLBACK
2025-03-25 21:44:13,136 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:13] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:44:13,180 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:44:42,744 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:44:42] "[33mGET /admin/student/3003 HTTP/1.1[0m" 404 -
2025-03-25 21:45:02,790 [INFO] - BEGIN (implicit)
2025-03-25 21:45:02,793 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:02,793 [INFO] - [cached since 121.4s ago] ('2',)
2025-03-25 21:45:02,798 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:45:02,810 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:07,825 [INFO] - BEGIN (implicit)
2025-03-25 21:45:07,826 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:07,826 [INFO] - [cached since 126.5s ago] ('2',)
2025-03-25 21:45:07,826 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via session)
2025-03-25 21:45:07,827 [INFO] - BEGIN (implicit)
2025-03-25 21:45:07,827 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:45:07,828 [INFO] - [cached since 56.01s ago] ('user2', 1, 0)
2025-03-25 21:45:07,838 [INFO] - ROLLBACK
2025-03-25 21:45:07,839 [INFO] - BEGIN (implicit)
2025-03-25 21:45:07,840 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:45:07,840 [INFO] - [cached since 56.02s ago] ()
2025-03-25 21:45:07,853 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-25 21:45:07,853 [INFO] - ROLLBACK
2025-03-25 21:45:07,858 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:07] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:45:07,874 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:34,716 [INFO] - BEGIN (implicit)
2025-03-25 21:45:34,717 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:34,717 [INFO] - [cached since 153.3s ago] ('2',)
2025-03-25 21:45:34,718 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:34] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:45:34,721 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:34] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:45:34,784 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:34] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:36,810 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:36] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:45:36,848 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:45:56,750 [INFO] - BEGIN (implicit)
2025-03-25 21:45:56,752 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:45:56,752 [INFO] - [cached since 104.9s ago] ('user1', 1, 0)
2025-03-25 21:45:56,866 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:56] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:45:56,872 [INFO] - BEGIN (implicit)
2025-03-25 21:45:56,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:45:56,872 [INFO] - [cached since 175.5s ago] ('1',)
2025-03-25 21:45:56,873 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:45:56,941 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:45:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:46:06,916 [INFO] - BEGIN (implicit)
2025-03-25 21:46:06,917 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:46:06,917 [INFO] - [cached since 185.5s ago] ('1',)
2025-03-25 21:46:06,920 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:46:06,923 [INFO] - BEGIN (implicit)
2025-03-25 21:46:06,924 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:46:06,924 [INFO] - [cached since 115.1s ago] ('user1', 1, 0)
2025-03-25 21:46:06,926 [INFO] - ROLLBACK
2025-03-25 21:46:06,928 [INFO] - BEGIN (implicit)
2025-03-25 21:46:06,929 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:46:06,929 [INFO] - [cached since 115.1s ago] ()
2025-03-25 21:46:06,943 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:46:06,943 [INFO] - ROLLBACK
2025-03-25 21:46:06,948 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:46:06,965 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:46:08,895 [INFO] - BEGIN (implicit)
2025-03-25 21:46:08,895 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:46:08,895 [INFO] - [cached since 187.5s ago] ('1',)
2025-03-25 21:46:08,896 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:46:08,896 [INFO] - BEGIN (implicit)
2025-03-25 21:46:08,897 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:46:08,897 [INFO] - [cached since 117.1s ago] ('user1', 1, 0)
2025-03-25 21:46:08,897 [INFO] - ROLLBACK
2025-03-25 21:46:08,897 [INFO] - BEGIN (implicit)
2025-03-25 21:46:08,898 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:46:08,898 [INFO] - [cached since 117.1s ago] ()
2025-03-25 21:46:08,901 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:46:08,902 [INFO] - ROLLBACK
2025-03-25 21:46:08,908 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:08] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:46:08,942 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:46:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:40,202 [INFO] - BEGIN (implicit)
2025-03-25 21:49:40,239 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:40,239 [INFO] - [cached since 398.9s ago] ('1',)
2025-03-25 21:49:40,240 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:40,241 [INFO] - BEGIN (implicit)
2025-03-25 21:49:40,241 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:40,241 [INFO] - [cached since 328.4s ago] ('user1', 1, 0)
2025-03-25 21:49:40,242 [INFO] - ROLLBACK
2025-03-25 21:49:40,243 [INFO] - BEGIN (implicit)
2025-03-25 21:49:40,243 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:40,243 [INFO] - [cached since 328.4s ago] ()
2025-03-25 21:49:40,359 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:40,359 [INFO] - ROLLBACK
2025-03-25 21:49:40,364 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:40,424 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:40] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:49:41,105 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,105 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:41,105 [INFO] - [cached since 399.7s ago] ('1',)
2025-03-25 21:49:41,106 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:41,106 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,106 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:41,107 [INFO] - [cached since 329.3s ago] ('user1', 1, 0)
2025-03-25 21:49:41,107 [INFO] - ROLLBACK
2025-03-25 21:49:41,107 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,107 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:41,107 [INFO] - [cached since 329.3s ago] ()
2025-03-25 21:49:41,111 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:41,112 [INFO] - ROLLBACK
2025-03-25 21:49:41,118 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:41,135 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:41,647 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:41,647 [INFO] - [cached since 400.3s ago] ('1',)
2025-03-25 21:49:41,648 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:41,648 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,649 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:41,649 [INFO] - [cached since 329.8s ago] ('user1', 1, 0)
2025-03-25 21:49:41,649 [INFO] - ROLLBACK
2025-03-25 21:49:41,649 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,649 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:41,649 [INFO] - [cached since 329.8s ago] ()
2025-03-25 21:49:41,652 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:41,653 [INFO] - ROLLBACK
2025-03-25 21:49:41,660 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:41,686 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:41,944 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,944 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:41,944 [INFO] - [cached since 400.6s ago] ('1',)
2025-03-25 21:49:41,945 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:41,945 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,945 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:41,945 [INFO] - [cached since 330.1s ago] ('user1', 1, 0)
2025-03-25 21:49:41,946 [INFO] - ROLLBACK
2025-03-25 21:49:41,946 [INFO] - BEGIN (implicit)
2025-03-25 21:49:41,946 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:41,946 [INFO] - [cached since 330.1s ago] ()
2025-03-25 21:49:41,948 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:41,948 [INFO] - ROLLBACK
2025-03-25 21:49:41,952 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:41,977 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:42,152 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,153 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:42,153 [INFO] - [cached since 400.8s ago] ('1',)
2025-03-25 21:49:42,153 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:42,154 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,154 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:42,154 [INFO] - [cached since 330.3s ago] ('user1', 1, 0)
2025-03-25 21:49:42,154 [INFO] - ROLLBACK
2025-03-25 21:49:42,155 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,155 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:42,155 [INFO] - [cached since 330.3s ago] ()
2025-03-25 21:49:42,159 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:42,159 [INFO] - ROLLBACK
2025-03-25 21:49:42,166 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:42,197 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:42,335 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,335 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:42,336 [INFO] - [cached since 401s ago] ('1',)
2025-03-25 21:49:42,336 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:49:42,336 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,337 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:49:42,337 [INFO] - [cached since 330.5s ago] ('user1', 1, 0)
2025-03-25 21:49:42,337 [INFO] - ROLLBACK
2025-03-25 21:49:42,337 [INFO] - BEGIN (implicit)
2025-03-25 21:49:42,338 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:49:42,338 [INFO] - [cached since 330.5s ago] ()
2025-03-25 21:49:42,341 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:49:42,341 [INFO] - ROLLBACK
2025-03-25 21:49:42,347 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:49:42,380 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:49,796 [INFO] - BEGIN (implicit)
2025-03-25 21:49:49,796 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:49:49,796 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,797 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:49:49,797 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:49:49,798 [INFO] - [raw sql] ()
2025-03-25 21:49:49,798 [INFO] - COMMIT
2025-03-25 21:49:49,807 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:49:49,807 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:49:54,347 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:54] "GET / HTTP/1.1" 200 -
2025-03-25 21:49:57,512 [INFO] - BEGIN (implicit)
2025-03-25 21:49:57,513 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:57,513 [INFO] - [generated in 0.00012s] ('1',)
2025-03-25 21:49:57,523 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:57] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:49:57,536 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:49:58,513 [INFO] - BEGIN (implicit)
2025-03-25 21:49:58,514 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:49:58,514 [INFO] - [cached since 1.001s ago] ('1',)
2025-03-25 21:49:58,517 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:58] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:49:58,578 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:49:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:02,020 [INFO] - BEGIN (implicit)
2025-03-25 21:50:02,020 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:02,020 [INFO] - [cached since 4.507s ago] ('1',)
2025-03-25 21:50:02,021 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:50:02,024 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:50:02,083 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:02,535 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:50:02,568 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:10,808 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:10] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:50:10,839 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:18,753 [INFO] - BEGIN (implicit)
2025-03-25 21:50:18,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:50:18,755 [INFO] - [generated in 0.00027s] ('user1', 1, 0)
2025-03-25 21:50:18,835 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:18] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:50:18,841 [INFO] - BEGIN (implicit)
2025-03-25 21:50:18,841 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:18,841 [INFO] - [cached since 21.33s ago] ('1',)
2025-03-25 21:50:18,842 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:18] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:50:18,908 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:26,235 [INFO] - BEGIN (implicit)
2025-03-25 21:50:26,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:26,236 [INFO] - [cached since 28.72s ago] ('1',)
2025-03-25 21:50:26,236 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:50:26,237 [INFO] - BEGIN (implicit)
2025-03-25 21:50:26,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:50:26,238 [INFO] - [cached since 7.483s ago] ('user1', 1, 0)
2025-03-25 21:50:26,239 [INFO] - ROLLBACK
2025-03-25 21:50:26,240 [INFO] - BEGIN (implicit)
2025-03-25 21:50:26,281 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:50:26,282 [INFO] - [generated in 0.00030s] ()
2025-03-25 21:50:26,404 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:50:26,404 [INFO] - ROLLBACK
2025-03-25 21:50:26,429 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:26] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:50:26,450 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:50:28,250 [INFO] - BEGIN (implicit)
2025-03-25 21:50:28,251 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:50:28,251 [INFO] - [cached since 30.74s ago] ('1',)
2025-03-25 21:50:28,251 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:50:28,252 [INFO] - BEGIN (implicit)
2025-03-25 21:50:28,252 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:50:28,252 [INFO] - [cached since 9.497s ago] ('user1', 1, 0)
2025-03-25 21:50:28,255 [INFO] - ROLLBACK
2025-03-25 21:50:28,255 [INFO] - BEGIN (implicit)
2025-03-25 21:50:28,256 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:50:28,256 [INFO] - [cached since 1.974s ago] ()
2025-03-25 21:50:28,259 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:50:28,259 [INFO] - ROLLBACK
2025-03-25 21:50:28,265 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:28] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:50:28,298 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:50:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:54:20,389 [INFO] - BEGIN (implicit)
2025-03-25 21:54:20,390 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:54:20,390 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:54:20,402 [INFO] - [raw sql] ()
2025-03-25 21:54:20,402 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:54:20,403 [INFO] - [raw sql] ()
2025-03-25 21:54:20,403 [INFO] - COMMIT
2025-03-25 21:54:20,415 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:54:20,415 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:54:25,922 [INFO] - BEGIN (implicit)
2025-03-25 21:54:25,924 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:54:25,924 [INFO] - [generated in 0.00016s] ('1',)
2025-03-25 21:54:25,972 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:25] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:54:26,006 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:26] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:54:28,894 [INFO] - BEGIN (implicit)
2025-03-25 21:54:28,895 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:54:28,895 [INFO] - [cached since 2.971s ago] ('1',)
2025-03-25 21:54:28,900 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:28] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 21:54:28,906 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:28] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:54:28,966 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:54:30,425 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:30] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:54:30,463 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:54:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:46,522 [INFO] - BEGIN (implicit)
2025-03-25 21:57:46,522 [INFO] - PRAGMA main.table_info("users")
2025-03-25 21:57:46,522 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("students")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,524 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 21:57:46,524 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,525 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 21:57:46,525 [INFO] - [raw sql] ()
2025-03-25 21:57:46,526 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 21:57:46,526 [INFO] - [raw sql] ()
2025-03-25 21:57:46,526 [INFO] - COMMIT
2025-03-25 21:57:46,539 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 21:57:46,539 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 21:57:51,422 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:51] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:51,464 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:51] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 21:57:54,995 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:54] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:55,059 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,058 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:56,117 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,463 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:56,524 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,792 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:56,857 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:57:56,986 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:57:57,049 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:57:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:08,853 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:08] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 21:58:08,898 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:30,125 [INFO] - BEGIN (implicit)
2025-03-25 21:58:30,127 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:58:30,127 [INFO] - [generated in 0.00013s] ('user1', 1, 0)
2025-03-25 21:58:30,214 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:30] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 21:58:30,220 [INFO] - BEGIN (implicit)
2025-03-25 21:58:30,221 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:58:30,221 [INFO] - [generated in 0.00019s] ('1',)
2025-03-25 21:58:30,223 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:30] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 21:58:30,290 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:35,595 [INFO] - BEGIN (implicit)
2025-03-25 21:58:35,597 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:58:35,597 [INFO] - [cached since 5.376s ago] ('1',)
2025-03-25 21:58:35,600 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:58:35,604 [INFO] - BEGIN (implicit)
2025-03-25 21:58:35,606 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:58:35,606 [INFO] - [cached since 5.479s ago] ('user1', 1, 0)
2025-03-25 21:58:35,607 [INFO] - ROLLBACK
2025-03-25 21:58:35,608 [INFO] - BEGIN (implicit)
2025-03-25 21:58:35,611 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:58:35,611 [INFO] - [generated in 0.00009s] ()
2025-03-25 21:58:35,856 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:58:35,856 [INFO] - ROLLBACK
2025-03-25 21:58:35,879 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:35] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:58:35,902 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:37,250 [INFO] - BEGIN (implicit)
2025-03-25 21:58:37,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 21:58:37,250 [INFO] - [cached since 7.029s ago] ('1',)
2025-03-25 21:58:37,250 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 21:58:37,251 [INFO] - BEGIN (implicit)
2025-03-25 21:58:37,252 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 21:58:37,252 [INFO] - [cached since 7.125s ago] ('user1', 1, 0)
2025-03-25 21:58:37,254 [INFO] - ROLLBACK
2025-03-25 21:58:37,255 [INFO] - BEGIN (implicit)
2025-03-25 21:58:37,255 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 21:58:37,255 [INFO] - [cached since 1.645s ago] ()
2025-03-25 21:58:37,259 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 21:58:37,259 [INFO] - ROLLBACK
2025-03-25 21:58:37,264 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:37] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 21:58:37,298 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 21:58:42,678 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:58:42] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-25 21:59:23,733 [INFO] - 127.0.0.1 - - [25/Mar/2025 21:59:23] "[33mGET /admin/student/3000 HTTP/1.1[0m" 404 -
2025-03-25 22:01:15,890 [INFO] - BEGIN (implicit)
2025-03-25 22:01:15,900 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:01:15,901 [INFO] - [cached since 165.7s ago] ('1',)
2025-03-25 22:01:15,904 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:01:15,905 [INFO] - BEGIN (implicit)
2025-03-25 22:01:15,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:01:15,905 [INFO] - [cached since 165.8s ago] ('user1', 1, 0)
2025-03-25 22:01:15,905 [INFO] - ROLLBACK
2025-03-25 22:01:15,906 [INFO] - BEGIN (implicit)
2025-03-25 22:01:15,906 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:01:15,906 [INFO] - [cached since 160.3s ago] ()
2025-03-25 22:01:16,124 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:01:16,124 [INFO] - ROLLBACK
2025-03-25 22:01:16,136 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:01:16] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 22:01:16,215 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:01:16] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 22:46:16,408 [INFO] - BEGIN (implicit)
2025-03-25 22:46:16,417 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:46:16,417 [INFO] - [raw sql] ()
2025-03-25 22:46:16,436 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:46:16,436 [INFO] - [raw sql] ()
2025-03-25 22:46:16,436 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:46:16,437 [INFO] - [raw sql] ()
2025-03-25 22:46:16,437 [INFO] - COMMIT
2025-03-25 22:46:16,447 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:46:16,447 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:46:22,037 [INFO] - BEGIN (implicit)
2025-03-25 22:46:22,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:22,039 [INFO] - [generated in 0.00014s] ('1',)
2025-03-25 22:46:22,043 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:22,049 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:22] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:46:23,728 [INFO] - BEGIN (implicit)
2025-03-25 22:46:23,730 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:23,730 [INFO] - [cached since 1.691s ago] ('1',)
2025-03-25 22:46:23,748 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:23,750 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:23] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:46:26,100 [INFO] - BEGIN (implicit)
2025-03-25 22:46:26,101 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:26,101 [INFO] - [cached since 4.063s ago] ('1',)
2025-03-25 22:46:26,103 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:26,106 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:26] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:46:26,455 [INFO] - BEGIN (implicit)
2025-03-25 22:46:26,455 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:46:26,455 [INFO] - [cached since 4.417s ago] ('1',)
2025-03-25 22:46:26,456 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:46:26,458 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:46:26] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:00,293 [INFO] - BEGIN (implicit)
2025-03-25 22:47:00,295 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:00,295 [INFO] - [cached since 38.26s ago] ('1',)
2025-03-25 22:47:00,327 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:00,329 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:00] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:00,930 [INFO] - BEGIN (implicit)
2025-03-25 22:47:00,930 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:00,931 [INFO] - [cached since 38.89s ago] ('1',)
2025-03-25 22:47:00,932 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:00,934 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:00] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:01,300 [INFO] - BEGIN (implicit)
2025-03-25 22:47:01,300 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:01,301 [INFO] - [cached since 39.26s ago] ('1',)
2025-03-25 22:47:01,301 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:01,304 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:01] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:01,587 [INFO] - BEGIN (implicit)
2025-03-25 22:47:01,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:01,588 [INFO] - [cached since 39.55s ago] ('1',)
2025-03-25 22:47:01,589 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:01,592 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:01] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:04,453 [INFO] - BEGIN (implicit)
2025-03-25 22:47:04,454 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:04,454 [INFO] - [cached since 42.42s ago] ('1',)
2025-03-25 22:47:04,456 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:04,458 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:04] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:47:04,600 [INFO] - BEGIN (implicit)
2025-03-25 22:47:04,600 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:47:04,600 [INFO] - [cached since 42.56s ago] ('1',)
2025-03-25 22:47:04,601 [ERROR] - Exception on /admin/ [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 13, in index
    return render_template('admin/index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/index.html", line 1, in top-level template code
    {% extends 'admin/base.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/base.html", line 67, in top-level template code
    <li><a href="{{ url_for('students') }}">Ученики</a></li>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'students'. Did you mean 'admin.students' instead?
2025-03-25 22:47:04,603 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:47:04] "[35m[1mGET /admin/ HTTP/1.1[0m" 500 -
2025-03-25 22:48:49,514 [INFO] - BEGIN (implicit)
2025-03-25 22:48:49,514 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:48:49,514 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:48:49,528 [INFO] - [raw sql] ()
2025-03-25 22:48:49,528 [INFO] - COMMIT
2025-03-25 22:48:49,537 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:48:49,537 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:48:52,352 [INFO] - BEGIN (implicit)
2025-03-25 22:48:52,389 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:48:52,389 [INFO] - [generated in 0.00015s] ('1',)
2025-03-25 22:48:52,392 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:48:52] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:48:52,423 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:48:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:49:02,719 [INFO] - BEGIN (implicit)
2025-03-25 22:49:02,720 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:02,720 [INFO] - [cached since 10.33s ago] ('1',)
2025-03-25 22:49:02,751 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:02] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:49:02,780 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:02] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 22:49:12,173 [INFO] - BEGIN (implicit)
2025-03-25 22:49:12,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:12,173 [INFO] - [cached since 19.78s ago] ('1',)
2025-03-25 22:49:12,178 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:12] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:49:12,236 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:49:20,114 [INFO] - BEGIN (implicit)
2025-03-25 22:49:20,115 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:20,115 [INFO] - [cached since 27.73s ago] ('1',)
2025-03-25 22:49:20,119 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:20,121 [INFO] - BEGIN (implicit)
2025-03-25 22:49:20,124 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:20,124 [INFO] - [generated in 0.00027s] ('user1', 1, 0)
2025-03-25 22:49:20,128 [INFO] - ROLLBACK
2025-03-25 22:49:20,129 [INFO] - BEGIN (implicit)
2025-03-25 22:49:20,132 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:20,132 [INFO] - [generated in 0.00013s] ()
2025-03-25 22:49:20,379 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:20,379 [INFO] - ROLLBACK
2025-03-25 22:49:20,403 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:20,423 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:20] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:21,421 [INFO] - BEGIN (implicit)
2025-03-25 22:49:21,421 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:21,421 [INFO] - [cached since 29.03s ago] ('1',)
2025-03-25 22:49:21,422 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:21,423 [INFO] - BEGIN (implicit)
2025-03-25 22:49:21,423 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:21,423 [INFO] - [cached since 1.3s ago] ('user1', 1, 0)
2025-03-25 22:49:21,423 [INFO] - ROLLBACK
2025-03-25 22:49:21,424 [INFO] - BEGIN (implicit)
2025-03-25 22:49:21,424 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:21,424 [INFO] - [cached since 1.292s ago] ()
2025-03-25 22:49:21,428 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:21,428 [INFO] - ROLLBACK
2025-03-25 22:49:21,429 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:21,431 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:21] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:50,342 [INFO] - BEGIN (implicit)
2025-03-25 22:49:50,342 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:49:50,342 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:49:50,343 [INFO] - [raw sql] ()
2025-03-25 22:49:50,343 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:49:50,344 [INFO] - [raw sql] ()
2025-03-25 22:49:50,344 [INFO] - COMMIT
2025-03-25 22:49:50,364 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:49:50,364 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:49:51,712 [INFO] - BEGIN (implicit)
2025-03-25 22:49:51,713 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:51,713 [INFO] - [generated in 0.00010s] ('1',)
2025-03-25 22:49:51,714 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:51,714 [INFO] - BEGIN (implicit)
2025-03-25 22:49:51,715 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:51,715 [INFO] - [generated in 0.00011s] ('user1', 1, 0)
2025-03-25 22:49:51,752 [INFO] - ROLLBACK
2025-03-25 22:49:51,752 [INFO] - BEGIN (implicit)
2025-03-25 22:49:51,754 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:51,754 [INFO] - [generated in 0.00009s] ()
2025-03-25 22:49:51,861 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:51,861 [INFO] - ROLLBACK
2025-03-25 22:49:51,864 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:51,868 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:51] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:52,689 [INFO] - BEGIN (implicit)
2025-03-25 22:49:52,689 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:52,689 [INFO] - [cached since 0.9762s ago] ('1',)
2025-03-25 22:49:52,691 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:52,694 [INFO] - BEGIN (implicit)
2025-03-25 22:49:52,694 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:52,694 [INFO] - [cached since 0.9795s ago] ('user1', 1, 0)
2025-03-25 22:49:52,695 [INFO] - ROLLBACK
2025-03-25 22:49:52,696 [INFO] - BEGIN (implicit)
2025-03-25 22:49:52,696 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:52,696 [INFO] - [cached since 0.942s ago] ()
2025-03-25 22:49:52,701 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:52,701 [INFO] - ROLLBACK
2025-03-25 22:49:52,702 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:52,703 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:52] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:49:55,873 [INFO] - BEGIN (implicit)
2025-03-25 22:49:55,873 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:55,873 [INFO] - [cached since 4.16s ago] ('1',)
2025-03-25 22:49:55,934 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:49:55,978 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:49:59,254 [INFO] - BEGIN (implicit)
2025-03-25 22:49:59,255 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:49:59,255 [INFO] - [cached since 7.542s ago] ('1',)
2025-03-25 22:49:59,256 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:49:59,256 [INFO] - BEGIN (implicit)
2025-03-25 22:49:59,256 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:49:59,257 [INFO] - [cached since 7.542s ago] ('user1', 1, 0)
2025-03-25 22:49:59,257 [INFO] - ROLLBACK
2025-03-25 22:49:59,258 [INFO] - BEGIN (implicit)
2025-03-25 22:49:59,258 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:49:59,258 [INFO] - [cached since 7.504s ago] ()
2025-03-25 22:49:59,271 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:49:59,271 [INFO] - ROLLBACK
2025-03-25 22:49:59,271 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:49:59,272 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:49:59] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:00,379 [INFO] - BEGIN (implicit)
2025-03-25 22:50:00,379 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:00,379 [INFO] - [cached since 8.666s ago] ('1',)
2025-03-25 22:50:00,380 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:00,381 [INFO] - BEGIN (implicit)
2025-03-25 22:50:00,381 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:00,381 [INFO] - [cached since 8.666s ago] ('user1', 1, 0)
2025-03-25 22:50:00,381 [INFO] - ROLLBACK
2025-03-25 22:50:00,382 [INFO] - BEGIN (implicit)
2025-03-25 22:50:00,382 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:00,382 [INFO] - [cached since 8.628s ago] ()
2025-03-25 22:50:00,386 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:00,386 [INFO] - ROLLBACK
2025-03-25 22:50:00,387 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:00,388 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:00] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:25,916 [INFO] - BEGIN (implicit)
2025-03-25 22:50:25,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:25,918 [INFO] - [cached since 34.21s ago] ('1',)
2025-03-25 22:50:25,920 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:25,921 [INFO] - BEGIN (implicit)
2025-03-25 22:50:25,921 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:25,921 [INFO] - [cached since 34.21s ago] ('user1', 1, 0)
2025-03-25 22:50:25,921 [INFO] - ROLLBACK
2025-03-25 22:50:25,921 [INFO] - BEGIN (implicit)
2025-03-25 22:50:25,921 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:25,922 [INFO] - [cached since 34.17s ago] ()
2025-03-25 22:50:25,934 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:25,934 [INFO] - ROLLBACK
2025-03-25 22:50:25,934 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:25,936 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:25] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:27,427 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,427 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:27,428 [INFO] - [cached since 35.71s ago] ('1',)
2025-03-25 22:50:27,428 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:27,429 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,429 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:27,429 [INFO] - [cached since 35.71s ago] ('user1', 1, 0)
2025-03-25 22:50:27,430 [INFO] - ROLLBACK
2025-03-25 22:50:27,430 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,430 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:27,430 [INFO] - [cached since 35.68s ago] ()
2025-03-25 22:50:27,434 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:27,434 [INFO] - ROLLBACK
2025-03-25 22:50:27,435 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:27,436 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:27] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:27,724 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,725 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:27,725 [INFO] - [cached since 36.01s ago] ('1',)
2025-03-25 22:50:27,725 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:27,726 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,726 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:27,726 [INFO] - [cached since 36.01s ago] ('user1', 1, 0)
2025-03-25 22:50:27,726 [INFO] - ROLLBACK
2025-03-25 22:50:27,727 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,727 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:27,727 [INFO] - [cached since 35.97s ago] ()
2025-03-25 22:50:27,731 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:27,731 [INFO] - ROLLBACK
2025-03-25 22:50:27,732 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:27,733 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:27] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:27,964 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,964 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:27,964 [INFO] - [cached since 36.25s ago] ('1',)
2025-03-25 22:50:27,964 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:27,964 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,965 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:27,965 [INFO] - [cached since 36.25s ago] ('user1', 1, 0)
2025-03-25 22:50:27,965 [INFO] - ROLLBACK
2025-03-25 22:50:27,965 [INFO] - BEGIN (implicit)
2025-03-25 22:50:27,965 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:27,965 [INFO] - [cached since 36.21s ago] ()
2025-03-25 22:50:27,967 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:27,967 [INFO] - ROLLBACK
2025-03-25 22:50:27,967 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:27,968 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:27] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:28,159 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,159 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:28,159 [INFO] - [cached since 36.45s ago] ('1',)
2025-03-25 22:50:28,160 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:28,160 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,161 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:28,161 [INFO] - [cached since 36.45s ago] ('user1', 1, 0)
2025-03-25 22:50:28,161 [INFO] - ROLLBACK
2025-03-25 22:50:28,161 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,162 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:28,162 [INFO] - [cached since 36.41s ago] ()
2025-03-25 22:50:28,166 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:28,166 [INFO] - ROLLBACK
2025-03-25 22:50:28,166 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:28,168 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:28] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:28,368 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:28,368 [INFO] - [cached since 36.66s ago] ('1',)
2025-03-25 22:50:28,369 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:28,370 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,370 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:28,370 [INFO] - [cached since 36.66s ago] ('user1', 1, 0)
2025-03-25 22:50:28,371 [INFO] - ROLLBACK
2025-03-25 22:50:28,371 [INFO] - BEGIN (implicit)
2025-03-25 22:50:28,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:28,371 [INFO] - [cached since 36.62s ago] ()
2025-03-25 22:50:28,375 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:28,375 [INFO] - ROLLBACK
2025-03-25 22:50:28,376 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:28,378 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:28] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:31,797 [INFO] - BEGIN (implicit)
2025-03-25 22:50:31,797 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:31,797 [INFO] - [cached since 40.08s ago] ('1',)
2025-03-25 22:50:31,797 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:31,798 [INFO] - BEGIN (implicit)
2025-03-25 22:50:31,798 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:31,798 [INFO] - [cached since 40.08s ago] ('user1', 1, 0)
2025-03-25 22:50:31,799 [INFO] - ROLLBACK
2025-03-25 22:50:31,799 [INFO] - BEGIN (implicit)
2025-03-25 22:50:31,799 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:31,800 [INFO] - [cached since 40.05s ago] ()
2025-03-25 22:50:31,804 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:31,804 [INFO] - ROLLBACK
2025-03-25 22:50:31,804 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:31,806 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:31] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:33,098 [INFO] - BEGIN (implicit)
2025-03-25 22:50:33,099 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:33,099 [INFO] - [cached since 41.39s ago] ('1',)
2025-03-25 22:50:33,100 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:33,100 [INFO] - BEGIN (implicit)
2025-03-25 22:50:33,100 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:33,101 [INFO] - [cached since 41.39s ago] ('user1', 1, 0)
2025-03-25 22:50:33,101 [INFO] - ROLLBACK
2025-03-25 22:50:33,101 [INFO] - BEGIN (implicit)
2025-03-25 22:50:33,102 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:33,102 [INFO] - [cached since 41.35s ago] ()
2025-03-25 22:50:33,105 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:33,106 [INFO] - ROLLBACK
2025-03-25 22:50:33,106 [ERROR] - Exception on /admin/students [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 21, in students
    return render_template('admin/students_list.html', students=response['students'], message=response['message'])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Volumes/Hanavey/Projects/school-dairy/templates/admin/students_list.html", line 1, in top-level template code
    {% extends "admin/base.html" %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
2025-03-25 22:50:33,108 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:33] "[35m[1mGET /admin/students HTTP/1.1[0m" 500 -
2025-03-25 22:50:45,647 [INFO] - BEGIN (implicit)
2025-03-25 22:50:45,647 [INFO] - PRAGMA main.table_info("users")
2025-03-25 22:50:45,647 [INFO] - [raw sql] ()
2025-03-25 22:50:45,648 [INFO] - PRAGMA main.table_info("students")
2025-03-25 22:50:45,648 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 22:50:45,649 [INFO] - [raw sql] ()
2025-03-25 22:50:45,649 [INFO] - COMMIT
2025-03-25 22:50:45,658 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 22:50:45,658 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 22:50:46,763 [INFO] - BEGIN (implicit)
2025-03-25 22:50:46,764 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:50:46,765 [INFO] - [generated in 0.00012s] ('1',)
2025-03-25 22:50:46,765 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:50:46,765 [INFO] - BEGIN (implicit)
2025-03-25 22:50:46,766 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:50:46,766 [INFO] - [generated in 0.00010s] ('user1', 1, 0)
2025-03-25 22:50:46,768 [INFO] - ROLLBACK
2025-03-25 22:50:46,769 [INFO] - BEGIN (implicit)
2025-03-25 22:50:46,770 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:50:46,770 [INFO] - [generated in 0.00008s] ()
2025-03-25 22:50:46,784 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:50:46,784 [INFO] - ROLLBACK
2025-03-25 22:50:46,827 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:46] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 22:50:46,868 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:50:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:57:13,851 [INFO] - BEGIN (implicit)
2025-03-25 22:57:13,862 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:57:13,862 [INFO] - [cached since 387.1s ago] ('1',)
2025-03-25 22:57:13,885 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 22:57:13,886 [INFO] - BEGIN (implicit)
2025-03-25 22:57:13,886 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 22:57:13,886 [INFO] - [cached since 387.1s ago] ('user1', 1, 0)
2025-03-25 22:57:13,915 [INFO] - ROLLBACK
2025-03-25 22:57:13,915 [INFO] - BEGIN (implicit)
2025-03-25 22:57:13,916 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 22:57:13,916 [INFO] - [cached since 387.1s ago] ()
2025-03-25 22:57:14,142 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 22:57:14,142 [INFO] - ROLLBACK
2025-03-25 22:57:14,153 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:14] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 22:57:14,212 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:14] "GET /static/css/base.css HTTP/1.1" 200 -
2025-03-25 22:57:22,947 [INFO] - BEGIN (implicit)
2025-03-25 22:57:22,947 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 22:57:22,947 [INFO] - [cached since 396.2s ago] ('1',)
2025-03-25 22:57:22,948 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:22] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 22:57:23,004 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:57:23] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 22:59:37,875 [INFO] - 127.0.0.1 - - [25/Mar/2025 22:59:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:19,563 [INFO] - BEGIN (implicit)
2025-03-25 23:01:19,564 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:19,565 [INFO] - [cached since 632.8s ago] ('1',)
2025-03-25 23:01:19,567 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:19] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:01:19,626 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:41,058 [INFO] - BEGIN (implicit)
2025-03-25 23:01:41,058 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:41,058 [INFO] - [cached since 654.3s ago] ('1',)
2025-03-25 23:01:41,112 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:01:41,154 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:48,578 [INFO] - BEGIN (implicit)
2025-03-25 23:01:48,578 [INFO] - PRAGMA main.table_info("users")
2025-03-25 23:01:48,578 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("students")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,595 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 23:01:48,595 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 23:01:48,596 [INFO] - [raw sql] ()
2025-03-25 23:01:48,596 [INFO] - COMMIT
2025-03-25 23:01:48,607 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 23:01:48,607 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 23:01:50,931 [INFO] - BEGIN (implicit)
2025-03-25 23:01:50,932 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:50,932 [INFO] - [generated in 0.00011s] ('1',)
2025-03-25 23:01:50,946 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:01:50,987 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:01:54,976 [INFO] - BEGIN (implicit)
2025-03-25 23:01:54,976 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:01:54,976 [INFO] - [cached since 4.045s ago] ('1',)
2025-03-25 23:01:54,977 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:01:54,978 [INFO] - BEGIN (implicit)
2025-03-25 23:01:54,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:01:54,981 [INFO] - [generated in 0.00020s] ('user1', 1, 0)
2025-03-25 23:01:54,984 [INFO] - ROLLBACK
2025-03-25 23:01:54,985 [INFO] - BEGIN (implicit)
2025-03-25 23:01:54,989 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:01:54,989 [INFO] - [generated in 0.00015s] ()
2025-03-25 23:01:55,185 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:01:55,185 [INFO] - ROLLBACK
2025-03-25 23:01:55,202 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:55] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:01:55,249 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:01:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:00,449 [INFO] - BEGIN (implicit)
2025-03-25 23:02:00,450 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:00,450 [INFO] - [cached since 9.519s ago] ('1',)
2025-03-25 23:02:00,451 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:00,451 [INFO] - BEGIN (implicit)
2025-03-25 23:02:00,451 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:00,451 [INFO] - [cached since 5.471s ago] ('user1', 1, 0)
2025-03-25 23:02:00,452 [INFO] - ROLLBACK
2025-03-25 23:02:00,452 [INFO] - BEGIN (implicit)
2025-03-25 23:02:00,452 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:00,453 [INFO] - [cached since 5.464s ago] ()
2025-03-25 23:02:00,456 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:00,456 [INFO] - ROLLBACK
2025-03-25 23:02:00,463 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:00] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:00,497 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:01,230 [INFO] - BEGIN (implicit)
2025-03-25 23:02:01,230 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:01,230 [INFO] - [cached since 10.3s ago] ('1',)
2025-03-25 23:02:01,231 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:01,231 [INFO] - BEGIN (implicit)
2025-03-25 23:02:01,232 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:01,232 [INFO] - [cached since 6.252s ago] ('user1', 1, 0)
2025-03-25 23:02:01,232 [INFO] - ROLLBACK
2025-03-25 23:02:01,233 [INFO] - BEGIN (implicit)
2025-03-25 23:02:01,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:01,233 [INFO] - [cached since 6.245s ago] ()
2025-03-25 23:02:01,246 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:01,246 [INFO] - ROLLBACK
2025-03-25 23:02:01,251 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:01] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:01,280 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:02,671 [INFO] - BEGIN (implicit)
2025-03-25 23:02:02,672 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:02,672 [INFO] - [cached since 11.74s ago] ('1',)
2025-03-25 23:02:02,673 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:02,673 [INFO] - BEGIN (implicit)
2025-03-25 23:02:02,673 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:02,673 [INFO] - [cached since 7.694s ago] ('user1', 1, 0)
2025-03-25 23:02:02,674 [INFO] - ROLLBACK
2025-03-25 23:02:02,674 [INFO] - BEGIN (implicit)
2025-03-25 23:02:02,675 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:02,675 [INFO] - [cached since 7.687s ago] ()
2025-03-25 23:02:02,680 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:02,680 [INFO] - ROLLBACK
2025-03-25 23:02:02,686 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:02,719 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:04,738 [INFO] - BEGIN (implicit)
2025-03-25 23:02:04,739 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:04,739 [INFO] - [cached since 13.81s ago] ('1',)
2025-03-25 23:02:04,740 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:04,741 [INFO] - BEGIN (implicit)
2025-03-25 23:02:04,741 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:04,741 [INFO] - [cached since 9.761s ago] ('user1', 1, 0)
2025-03-25 23:02:04,741 [INFO] - ROLLBACK
2025-03-25 23:02:04,742 [INFO] - BEGIN (implicit)
2025-03-25 23:02:04,742 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:04,742 [INFO] - [cached since 9.754s ago] ()
2025-03-25 23:02:04,746 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:04,747 [INFO] - ROLLBACK
2025-03-25 23:02:04,753 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:04] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:04,800 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:06,044 [INFO] - BEGIN (implicit)
2025-03-25 23:02:06,044 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:06,044 [INFO] - [cached since 15.11s ago] ('1',)
2025-03-25 23:02:06,045 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:06,045 [INFO] - BEGIN (implicit)
2025-03-25 23:02:06,045 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:06,046 [INFO] - [cached since 11.07s ago] ('user1', 1, 0)
2025-03-25 23:02:06,046 [INFO] - ROLLBACK
2025-03-25 23:02:06,046 [INFO] - BEGIN (implicit)
2025-03-25 23:02:06,047 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:06,047 [INFO] - [cached since 11.06s ago] ()
2025-03-25 23:02:06,051 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:06,051 [INFO] - ROLLBACK
2025-03-25 23:02:06,057 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:06,100 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:07,410 [INFO] - BEGIN (implicit)
2025-03-25 23:02:07,410 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:07,410 [INFO] - [cached since 16.48s ago] ('1',)
2025-03-25 23:02:07,411 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:07] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 23:02:07,415 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:07] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:07,482 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:12,199 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:12] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:12,265 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:13,278 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:13] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:13,336 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:19,160 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:19] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 23:02:19,201 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:32,679 [INFO] - BEGIN (implicit)
2025-03-25 23:02:32,680 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:32,681 [INFO] - [cached since 37.7s ago] ('user1', 1, 0)
2025-03-25 23:02:32,759 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:32] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 23:02:32,768 [INFO] - BEGIN (implicit)
2025-03-25 23:02:32,768 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:32,768 [INFO] - [cached since 41.84s ago] ('1',)
2025-03-25 23:02:32,771 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:32,833 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:36,136 [INFO] - BEGIN (implicit)
2025-03-25 23:02:36,137 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:36,137 [INFO] - [cached since 45.21s ago] ('1',)
2025-03-25 23:02:36,138 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:36,138 [INFO] - BEGIN (implicit)
2025-03-25 23:02:36,139 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:36,139 [INFO] - [cached since 41.16s ago] ('user1', 1, 0)
2025-03-25 23:02:36,142 [INFO] - ROLLBACK
2025-03-25 23:02:36,142 [INFO] - BEGIN (implicit)
2025-03-25 23:02:36,142 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:36,142 [INFO] - [cached since 41.16s ago] ()
2025-03-25 23:02:36,158 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:36,158 [INFO] - ROLLBACK
2025-03-25 23:02:36,162 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:36] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:36,213 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:38,569 [INFO] - BEGIN (implicit)
2025-03-25 23:02:38,570 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:38,570 [INFO] - [cached since 47.64s ago] ('1',)
2025-03-25 23:02:38,571 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:38] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:38,636 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:42,183 [INFO] - BEGIN (implicit)
2025-03-25 23:02:42,183 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:42,184 [INFO] - [cached since 51.25s ago] ('1',)
2025-03-25 23:02:42,185 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:02:42,245 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:02:45,061 [INFO] - BEGIN (implicit)
2025-03-25 23:02:45,061 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:02:45,062 [INFO] - [cached since 54.13s ago] ('1',)
2025-03-25 23:02:45,062 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:02:45,062 [INFO] - BEGIN (implicit)
2025-03-25 23:02:45,063 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:02:45,063 [INFO] - [cached since 50.08s ago] ('user1', 1, 0)
2025-03-25 23:02:45,065 [INFO] - ROLLBACK
2025-03-25 23:02:45,066 [INFO] - BEGIN (implicit)
2025-03-25 23:02:45,066 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:02:45,066 [INFO] - [cached since 50.08s ago] ()
2025-03-25 23:02:45,079 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:02:45,079 [INFO] - ROLLBACK
2025-03-25 23:02:45,083 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:45] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:02:45,132 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:02:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:27,393 [INFO] - BEGIN (implicit)
2025-03-25 23:03:27,395 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:03:27,395 [INFO] - [cached since 96.46s ago] ('1',)
2025-03-25 23:03:27,396 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:27] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-25 23:03:27,399 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:27] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:03:27,467 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:29,105 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:29] "GET /admin/login HTTP/1.1" 200 -
2025-03-25 23:03:29,145 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:56,634 [INFO] - BEGIN (implicit)
2025-03-25 23:03:56,636 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:03:56,636 [INFO] - [cached since 121.7s ago] ('user1', 1, 0)
2025-03-25 23:03:56,739 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:56] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-25 23:03:56,745 [INFO] - BEGIN (implicit)
2025-03-25 23:03:56,745 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:03:56,745 [INFO] - [cached since 125.8s ago] ('1',)
2025-03-25 23:03:56,745 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-25 23:03:56,818 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:03:59,870 [INFO] - BEGIN (implicit)
2025-03-25 23:03:59,870 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:03:59,870 [INFO] - [cached since 128.9s ago] ('1',)
2025-03-25 23:03:59,870 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:03:59,871 [INFO] - BEGIN (implicit)
2025-03-25 23:03:59,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:03:59,871 [INFO] - [cached since 124.9s ago] ('user1', 1, 0)
2025-03-25 23:03:59,871 [INFO] - ROLLBACK
2025-03-25 23:03:59,872 [INFO] - BEGIN (implicit)
2025-03-25 23:03:59,872 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:03:59,872 [INFO] - [cached since 124.9s ago] ()
2025-03-25 23:03:59,885 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:03:59,885 [INFO] - ROLLBACK
2025-03-25 23:03:59,889 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:59] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:03:59,924 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:03:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:11:53,935 [INFO] - BEGIN (implicit)
2025-03-25 23:11:53,948 [INFO] - PRAGMA main.table_info("users")
2025-03-25 23:11:53,948 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("students")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 23:11:53,966 [INFO] - [raw sql] ()
2025-03-25 23:11:53,966 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 23:11:53,967 [INFO] - [raw sql] ()
2025-03-25 23:11:53,967 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 23:11:53,967 [INFO] - [raw sql] ()
2025-03-25 23:11:53,967 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 23:11:53,967 [INFO] - [raw sql] ()
2025-03-25 23:11:53,967 [INFO] - COMMIT
2025-03-25 23:11:53,976 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 23:11:53,976 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 23:11:57,632 [INFO] - BEGIN (implicit)
2025-03-25 23:11:57,633 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:11:57,633 [INFO] - [generated in 0.00014s] ('1',)
2025-03-25 23:11:57,634 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:11:57,634 [INFO] - BEGIN (implicit)
2025-03-25 23:11:57,635 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:11:57,635 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-25 23:11:57,638 [INFO] - ROLLBACK
2025-03-25 23:11:57,638 [INFO] - BEGIN (implicit)
2025-03-25 23:11:57,640 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:11:57,640 [INFO] - [generated in 0.00008s] ()
2025-03-25 23:11:57,776 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:11:57,776 [INFO] - ROLLBACK
2025-03-25 23:11:57,807 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:11:57] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:11:57,864 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:11:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:13:45,824 [INFO] - BEGIN (implicit)
2025-03-25 23:13:45,824 [INFO] - PRAGMA main.table_info("users")
2025-03-25 23:13:45,825 [INFO] - [raw sql] ()
2025-03-25 23:13:45,825 [INFO] - PRAGMA main.table_info("students")
2025-03-25 23:13:45,825 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("schedule")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("grades")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("admins")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("classes")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("teachers")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("attendance")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("homework")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - PRAGMA main.table_info("subjects")
2025-03-25 23:13:45,826 [INFO] - [raw sql] ()
2025-03-25 23:13:45,826 [INFO] - COMMIT
2025-03-25 23:13:45,835 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-25 23:13:45,835 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-25 23:13:48,018 [INFO] - BEGIN (implicit)
2025-03-25 23:13:48,019 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-25 23:13:48,019 [INFO] - [generated in 0.00011s] ('1',)
2025-03-25 23:13:48,020 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-25 23:13:48,020 [INFO] - BEGIN (implicit)
2025-03-25 23:13:48,021 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-25 23:13:48,021 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-25 23:13:48,024 [INFO] - ROLLBACK
2025-03-25 23:13:48,024 [INFO] - BEGIN (implicit)
2025-03-25 23:13:48,025 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-25 23:13:48,026 [INFO] - [generated in 0.00010s] ()
2025-03-25 23:13:48,133 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-25 23:13:48,133 [INFO] - ROLLBACK
2025-03-25 23:13:48,142 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:13:48] "GET /admin/students HTTP/1.1" 200 -
2025-03-25 23:13:48,181 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:13:48] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:13:54,720 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:13:54] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-25 23:15:05,537 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:15:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-25 23:16:47,549 [INFO] - 127.0.0.1 - - [25/Mar/2025 23:16:47] "[33mGET /admin/student/3000 HTTP/1.1[0m" 404 -
2025-03-26 11:49:35,204 [INFO] - BEGIN (implicit)
2025-03-26 11:49:35,213 [INFO] - PRAGMA main.table_info("users")
2025-03-26 11:49:35,213 [INFO] - [raw sql] ()
2025-03-26 11:49:35,214 [INFO] - PRAGMA main.table_info("students")
2025-03-26 11:49:35,214 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 11:49:35,215 [INFO] - [raw sql] ()
2025-03-26 11:49:35,215 [INFO] - COMMIT
2025-03-26 11:49:35,227 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 11:49:35,227 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 11:49:42,988 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 11:49:42,990 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:49:42] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 11:49:43,041 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:49:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-26 11:49:47,658 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:49:47] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 11:49:47,674 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:49:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 11:49:50,704 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:49:50] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 11:49:50,753 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:49:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 11:50:04,977 [INFO] - BEGIN (implicit)
2025-03-26 11:50:04,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 11:50:04,980 [INFO] - [generated in 0.00017s] ('user1', 1, 0)
2025-03-26 11:50:05,091 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:50:05] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 11:50:05,097 [INFO] - BEGIN (implicit)
2025-03-26 11:50:05,098 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 11:50:05,098 [INFO] - [generated in 0.00017s] ('1',)
2025-03-26 11:50:05,101 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:50:05] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 11:50:05,175 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:50:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 11:50:43,566 [INFO] - BEGIN (implicit)
2025-03-26 11:50:43,568 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 11:50:43,568 [INFO] - [cached since 38.47s ago] ('1',)
2025-03-26 11:50:43,573 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 11:50:43,574 [INFO] - BEGIN (implicit)
2025-03-26 11:50:43,574 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 11:50:43,574 [INFO] - [cached since 38.59s ago] ('user1', 1, 0)
2025-03-26 11:50:43,577 [INFO] - ROLLBACK
2025-03-26 11:50:43,578 [INFO] - BEGIN (implicit)
2025-03-26 11:50:43,580 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 11:50:43,581 [INFO] - [generated in 0.00010s] ()
2025-03-26 11:50:43,811 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 11:50:43,811 [INFO] - ROLLBACK
2025-03-26 11:50:43,825 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:50:43] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 11:50:43,886 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:50:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 11:51:38,936 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:51:38] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-26 11:51:45,117 [INFO] - BEGIN (implicit)
2025-03-26 11:51:45,117 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 11:51:45,117 [INFO] - [cached since 100s ago] ('1',)
2025-03-26 11:51:45,118 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 11:51:45,118 [INFO] - BEGIN (implicit)
2025-03-26 11:51:45,119 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 11:51:45,119 [INFO] - [cached since 100.1s ago] ('user1', 1, 0)
2025-03-26 11:51:45,119 [INFO] - ROLLBACK
2025-03-26 11:51:45,119 [INFO] - BEGIN (implicit)
2025-03-26 11:51:45,120 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 11:51:45,120 [INFO] - [cached since 61.54s ago] ()
2025-03-26 11:51:45,147 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 11:51:45,147 [INFO] - ROLLBACK
2025-03-26 11:51:45,151 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:51:45] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 11:51:45,190 [INFO] - 127.0.0.1 - - [26/Mar/2025 11:51:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:18:27,336 [INFO] - BEGIN (implicit)
2025-03-26 12:18:27,351 [INFO] - PRAGMA main.table_info("users")
2025-03-26 12:18:27,351 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("students")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,353 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 12:18:27,353 [INFO] - [raw sql] ()
2025-03-26 12:18:27,354 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 12:18:27,354 [INFO] - [raw sql] ()
2025-03-26 12:18:27,354 [INFO] - COMMIT
2025-03-26 12:18:27,368 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 12:18:27,368 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 12:18:29,761 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,763 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,763 [INFO] - [generated in 0.00013s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:29,783 [INFO] - ROLLBACK
2025-03-26 12:18:29,783 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:29,783 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,784 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,784 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 12:18:29,784 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,784 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-26 12:18:29,859 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:18:29,859 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$baCi5HRmYFnWMZKv$98c8794cad1ac03a8290d05ac3d76597639c805d3c9a9612257129596394646265eececef41306a5bbf92060c355c66d80f7b6abc8ff34ec78813ea79c28af4c', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:18:29,880 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,880 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-26 12:18:29,881 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:18:29,882 [INFO] - [generated in 0.00006s] ()
2025-03-26 12:18:29,883 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:18:29,883 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:18:29,883 [INFO] - COMMIT
2025-03-26 12:18:29,935 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,935 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:18:29,936 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:18:29,936 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:18:29,936 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:18:29,936 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:18:29,937 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,937 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-26 12:18:29,937 [INFO] - ROLLBACK
2025-03-26 12:18:29,937 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:29] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:18:29,939 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,939 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,940 [INFO] - [cached since 0.1769s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:29,940 [INFO] - ROLLBACK
2025-03-26 12:18:29,940 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:29,940 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,943 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:18:29,943 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 12:18:29,944 [INFO] - ROLLBACK
2025-03-26 12:18:29,944 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:29] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:18:29,946 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,946 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,946 [INFO] - [cached since 0.1836s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:29,946 [INFO] - ROLLBACK
2025-03-26 12:18:29,946 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:29,947 [INFO] - BEGIN (implicit)
2025-03-26 12:18:29,948 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:29,948 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-26 12:18:29,949 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:18:29,949 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:18:29,949 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:18:29,950 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-26 12:18:29,950 [INFO] - COMMIT
2025-03-26 12:18:30,059 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:18:30,059 [INFO] - BEGIN (implicit)
2025-03-26 12:18:30,062 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:18:30,062 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 12:18:30,062 [INFO] - ROLLBACK
2025-03-26 12:18:30,062 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:30] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:18:30,064 [INFO] - BEGIN (implicit)
2025-03-26 12:18:30,064 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:30,064 [INFO] - [cached since 0.3013s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:30,064 [INFO] - ROLLBACK
2025-03-26 12:18:30,064 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:30,064 [INFO] - BEGIN (implicit)
2025-03-26 12:18:30,065 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:30,065 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 12:18:30,066 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:18:30,066 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:18:30,067 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:18:30,067 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:18:30,068 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:18:30,068 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:18:30,068 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:18:30,068 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:18:30,069 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:18:30,069 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:18:30,069 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:18:30,069 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:18:30,069 [INFO] - COMMIT
2025-03-26 12:18:30,075 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:18:30,075 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:30] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:18:30,077 [INFO] - BEGIN (implicit)
2025-03-26 12:18:30,077 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:30,077 [INFO] - [cached since 0.3142s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:30,077 [INFO] - ROLLBACK
2025-03-26 12:18:30,077 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:30,077 [INFO] - BEGIN (implicit)
2025-03-26 12:18:30,078 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:18:30,078 [INFO] - [generated in 0.00007s] ()
2025-03-26 12:18:30,371 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 12:18:30,371 [INFO] - ROLLBACK
2025-03-26 12:18:30,376 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:30] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 12:18:50,368 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,369 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,369 [INFO] - [cached since 20.61s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:50,370 [INFO] - ROLLBACK
2025-03-26 12:18:50,370 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:50,370 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,370 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,371 [INFO] - [cached since 20.59s ago] ('test_student', 1, 0)
2025-03-26 12:18:50,371 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,371 [INFO] - [cached since 20.59s ago] ('john.doe@example.com', 1, 0)
2025-03-26 12:18:50,444 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:18:50,445 [INFO] - [cached since 20.59s ago] ('test_student', 'scrypt:32768:8:1$1SJdRoprRNwMttxJ$1dd4bd01ee06d47cafc80e582c3521568525c3e3c8c187dabff8bdc36ccc76bcf65f465e280f8455fd72faa6cf1405145991545d78769ea17e2f1f0f68d667fb', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:18:50,446 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,446 [INFO] - [cached since 20.57s ago] ('1', 1, 0)
2025-03-26 12:18:50,446 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:18:50,446 [INFO] - [cached since 20.56s ago] ()
2025-03-26 12:18:50,446 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:18:50,446 [INFO] - [cached since 20.56s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:18:50,446 [INFO] - COMMIT
2025-03-26 12:18:50,452 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,452 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:18:50,452 [INFO] - [cached since 20.52s ago] (71,)
2025-03-26 12:18:50,452 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:18:50,452 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:18:50,452 [INFO] - [cached since 20.52s ago] (71,)
2025-03-26 12:18:50,453 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,453 [INFO] - [cached since 20.52s ago] (1, 1, 0)
2025-03-26 12:18:50,453 [INFO] - ROLLBACK
2025-03-26 12:18:50,453 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:50] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:18:50,455 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,456 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,456 [INFO] - [cached since 20.69s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:50,456 [INFO] - ROLLBACK
2025-03-26 12:18:50,456 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:50,457 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,457 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:18:50,457 [INFO] - [cached since 20.51s ago] (3050, 1, 0)
2025-03-26 12:18:50,462 [INFO] - ROLLBACK
2025-03-26 12:18:50,463 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:50] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:18:50,465 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,465 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,465 [INFO] - [cached since 20.7s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:50,465 [INFO] - ROLLBACK
2025-03-26 12:18:50,465 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:50,466 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,466 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,466 [INFO] - [cached since 20.52s ago] (3050, 1, 0)
2025-03-26 12:18:50,466 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:18:50,466 [INFO] - [cached since 20.52s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:18:50,467 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:18:50,467 [INFO] - [cached since 20.52s ago] ('2005-05-16', 71)
2025-03-26 12:18:50,467 [INFO] - COMMIT
2025-03-26 12:18:50,471 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:18:50,471 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,471 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:18:50,471 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,472 [INFO] - ROLLBACK
2025-03-26 12:18:50,472 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:50] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:18:50,473 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,473 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,473 [INFO] - [cached since 20.71s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:50,474 [INFO] - ROLLBACK
2025-03-26 12:18:50,474 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:50,474 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,474 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,474 [INFO] - [cached since 20.41s ago] (3050, 1, 0)
2025-03-26 12:18:50,474 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:18:50,474 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,475 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:18:50,475 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,475 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:18:50,475 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,475 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:18:50,475 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,475 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:18:50,475 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,476 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:18:50,476 [INFO] - [cached since 20.41s ago] (71,)
2025-03-26 12:18:50,476 [INFO] - COMMIT
2025-03-26 12:18:50,481 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:18:50,481 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:50] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:18:50,482 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,482 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:18:50,482 [INFO] - [cached since 20.72s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:18:50,482 [INFO] - ROLLBACK
2025-03-26 12:18:50,483 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:18:50,483 [INFO] - BEGIN (implicit)
2025-03-26 12:18:50,483 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:18:50,483 [INFO] - [cached since 20.4s ago] ()
2025-03-26 12:18:50,484 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 12:18:50,484 [INFO] - ROLLBACK
2025-03-26 12:18:50,488 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:18:50] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 12:19:01,437 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,438 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,438 [INFO] - [cached since 31.68s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:19:01,439 [INFO] - ROLLBACK
2025-03-26 12:19:01,439 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:19:01,440 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,440 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,440 [INFO] - [cached since 31.66s ago] ('test_student', 1, 0)
2025-03-26 12:19:01,440 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,440 [INFO] - [cached since 31.66s ago] ('john.doe@example.com', 1, 0)
2025-03-26 12:19:01,517 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:19:01,517 [INFO] - [cached since 31.66s ago] ('test_student', 'scrypt:32768:8:1$CmnXAtD9oWmxs2FM$88c502a276c04d787fbc40f35ce671b8cf34ab72cfe19efd28174dfac4bc3fc0ac3aba7a76646c8bc46b7260f324e4065fc986b17dbbb2e13e90579d7508924d', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:19:01,518 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,518 [INFO] - [cached since 31.64s ago] ('1', 1, 0)
2025-03-26 12:19:01,519 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:19:01,519 [INFO] - [cached since 31.64s ago] ()
2025-03-26 12:19:01,520 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:19:01,520 [INFO] - [cached since 31.64s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:19:01,520 [INFO] - COMMIT
2025-03-26 12:19:01,525 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,525 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:19:01,525 [INFO] - [cached since 31.59s ago] (71,)
2025-03-26 12:19:01,526 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:19:01,527 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:19:01,527 [INFO] - [cached since 31.59s ago] (71,)
2025-03-26 12:19:01,528 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,528 [INFO] - [cached since 31.59s ago] (1, 1, 0)
2025-03-26 12:19:01,528 [INFO] - ROLLBACK
2025-03-26 12:19:01,529 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:19:01] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:19:01,532 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,532 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,532 [INFO] - [cached since 31.77s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:19:01,532 [INFO] - ROLLBACK
2025-03-26 12:19:01,532 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:19:01,532 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,532 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:19:01,532 [INFO] - [cached since 31.59s ago] (3050, 1, 0)
2025-03-26 12:19:01,533 [INFO] - ROLLBACK
2025-03-26 12:19:01,533 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:19:01] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:19:01,535 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,535 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,535 [INFO] - [cached since 31.77s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:19:01,535 [INFO] - ROLLBACK
2025-03-26 12:19:01,535 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:19:01,536 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,536 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,536 [INFO] - [cached since 31.59s ago] (3050, 1, 0)
2025-03-26 12:19:01,536 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:19:01,536 [INFO] - [cached since 31.59s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:19:01,537 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:19:01,537 [INFO] - [cached since 31.59s ago] ('2005-05-16', 71)
2025-03-26 12:19:01,537 [INFO] - COMMIT
2025-03-26 12:19:01,571 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:19:01,572 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,572 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:19:01,572 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,572 [INFO] - ROLLBACK
2025-03-26 12:19:01,572 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:19:01] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:19:01,574 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,574 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,574 [INFO] - [cached since 31.81s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:19:01,574 [INFO] - ROLLBACK
2025-03-26 12:19:01,574 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:19:01,575 [INFO] - BEGIN (implicit)
2025-03-26 12:19:01,575 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:19:01,575 [INFO] - [cached since 31.51s ago] (3050, 1, 0)
2025-03-26 12:19:01,575 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:19:01,575 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,575 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:19:01,575 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,576 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:19:01,576 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,576 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:19:01,576 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,576 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:19:01,576 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,576 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:19:01,576 [INFO] - [cached since 31.51s ago] (71,)
2025-03-26 12:19:01,577 [INFO] - COMMIT
2025-03-26 12:19:01,581 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:19:01,582 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:19:01] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:26:08,913 [INFO] - BEGIN (implicit)
2025-03-26 12:26:08,924 [INFO] - PRAGMA main.table_info("users")
2025-03-26 12:26:08,924 [INFO] - [raw sql] ()
2025-03-26 12:26:08,932 [INFO] - PRAGMA main.table_info("students")
2025-03-26 12:26:08,932 [INFO] - [raw sql] ()
2025-03-26 12:26:08,932 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 12:26:08,932 [INFO] - [raw sql] ()
2025-03-26 12:26:08,932 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 12:26:08,932 [INFO] - [raw sql] ()
2025-03-26 12:26:08,932 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 12:26:08,932 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 12:26:08,933 [INFO] - [raw sql] ()
2025-03-26 12:26:08,933 [INFO] - COMMIT
2025-03-26 12:26:08,949 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 12:26:08,949 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 12:26:11,892 [INFO] - BEGIN (implicit)
2025-03-26 12:26:11,894 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:26:11,894 [INFO] - [generated in 0.00014s] ('1',)
2025-03-26 12:26:11,896 [INFO] - BEGIN (implicit)
2025-03-26 12:26:11,896 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:26:11,896 [INFO] - [generated in 0.00009s] (1, 1, 0)
2025-03-26 12:26:11,899 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:26:11,899 [INFO] - [generated in 0.00008s] (3000, 1, 0)
2025-03-26 12:26:11,916 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:26:11,916 [INFO] - [generated in 0.00008s] ()
2025-03-26 12:26:11,941 [INFO] - ROLLBACK
2025-03-26 12:26:11,941 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:26:11] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:26:11,976 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:26:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:26:14,846 [INFO] - BEGIN (implicit)
2025-03-26 12:26:14,846 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:26:14,846 [INFO] - [cached since 2.952s ago] ('1',)
2025-03-26 12:26:14,847 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:26:14,848 [INFO] - BEGIN (implicit)
2025-03-26 12:26:14,850 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:26:14,850 [INFO] - [generated in 0.00021s] ('user1', 1, 0)
2025-03-26 12:26:14,851 [INFO] - ROLLBACK
2025-03-26 12:26:14,852 [INFO] - BEGIN (implicit)
2025-03-26 12:26:14,855 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:26:14,855 [INFO] - [generated in 0.00018s] ()
2025-03-26 12:26:15,182 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:26:15,182 [INFO] - ROLLBACK
2025-03-26 12:26:15,207 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:26:15] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:26:15,243 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:26:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:26:16,718 [INFO] - BEGIN (implicit)
2025-03-26 12:26:16,719 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:26:16,719 [INFO] - [cached since 4.825s ago] ('1',)
2025-03-26 12:26:16,720 [INFO] - BEGIN (implicit)
2025-03-26 12:26:16,720 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:26:16,721 [INFO] - [cached since 4.824s ago] (1, 1, 0)
2025-03-26 12:26:16,721 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:26:16,722 [INFO] - [cached since 4.822s ago] (3004, 1, 0)
2025-03-26 12:26:16,722 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:26:16,722 [INFO] - [cached since 4.806s ago] ()
2025-03-26 12:26:16,723 [INFO] - ROLLBACK
2025-03-26 12:26:16,724 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:26:16] "GET /admin/student/3004 HTTP/1.1" 200 -
2025-03-26 12:26:16,759 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:26:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:27:09,572 [INFO] - BEGIN (implicit)
2025-03-26 12:27:09,574 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:27:09,575 [INFO] - [cached since 57.68s ago] ('1',)
2025-03-26 12:27:09,576 [INFO] - BEGIN (implicit)
2025-03-26 12:27:09,577 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:27:09,577 [INFO] - [cached since 57.68s ago] (1, 1, 0)
2025-03-26 12:27:09,581 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:27:09,581 [INFO] - [cached since 57.68s ago] (3004, 1, 0)
2025-03-26 12:27:09,586 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:27:09,586 [INFO] - [cached since 57.67s ago] ()
2025-03-26 12:27:09,588 [INFO] - ROLLBACK
2025-03-26 12:27:09,588 [ERROR] - Exception on /admin/student/3004 [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 84, in edit_student
    with admin_bp.test_request_context():
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Blueprint' object has no attribute 'test_request_context'
2025-03-26 12:27:09,628 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:27:09] "[35m[1mPOST /admin/student/3004 HTTP/1.1[0m" 500 -
2025-03-26 12:27:15,981 [INFO] - BEGIN (implicit)
2025-03-26 12:27:15,982 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:27:15,982 [INFO] - [cached since 64.09s ago] ('1',)
2025-03-26 12:27:15,985 [INFO] - BEGIN (implicit)
2025-03-26 12:27:15,986 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:27:15,986 [INFO] - [cached since 64.09s ago] (1, 1, 0)
2025-03-26 12:27:15,987 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:27:15,987 [INFO] - [cached since 64.09s ago] (3004, 1, 0)
2025-03-26 12:27:15,992 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:27:15,992 [INFO] - [cached since 64.08s ago] ()
2025-03-26 12:27:15,993 [INFO] - ROLLBACK
2025-03-26 12:27:15,993 [ERROR] - Exception on /admin/student/3004 [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 84, in edit_student
    with admin_bp.test_request_context():
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Blueprint' object has no attribute 'test_request_context'
2025-03-26 12:27:15,996 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:27:15] "[35m[1mPOST /admin/student/3004 HTTP/1.1[0m" 500 -
2025-03-26 12:32:19,936 [INFO] - BEGIN (implicit)
2025-03-26 12:32:19,969 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:32:19,969 [INFO] - [cached since 368.1s ago] ('1',)
2025-03-26 12:32:19,989 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:32:19,990 [INFO] - BEGIN (implicit)
2025-03-26 12:32:19,990 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:19,990 [INFO] - [cached since 365.1s ago] ('user1', 1, 0)
2025-03-26 12:32:19,990 [INFO] - ROLLBACK
2025-03-26 12:32:19,990 [INFO] - BEGIN (implicit)
2025-03-26 12:32:19,990 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:32:19,990 [INFO] - [cached since 365.1s ago] ()
2025-03-26 12:32:20,290 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:32:20,290 [INFO] - ROLLBACK
2025-03-26 12:32:20,305 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:20] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:32:20,391 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:32:41,223 [INFO] - BEGIN (implicit)
2025-03-26 12:32:41,224 [INFO] - PRAGMA main.table_info("users")
2025-03-26 12:32:41,224 [INFO] - [raw sql] ()
2025-03-26 12:32:41,228 [INFO] - PRAGMA main.table_info("students")
2025-03-26 12:32:41,228 [INFO] - [raw sql] ()
2025-03-26 12:32:41,228 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 12:32:41,228 [INFO] - [raw sql] ()
2025-03-26 12:32:41,228 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 12:32:41,228 [INFO] - [raw sql] ()
2025-03-26 12:32:41,228 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 12:32:41,228 [INFO] - [raw sql] ()
2025-03-26 12:32:41,228 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 12:32:41,228 [INFO] - [raw sql] ()
2025-03-26 12:32:41,228 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 12:32:41,228 [INFO] - [raw sql] ()
2025-03-26 12:32:41,229 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 12:32:41,229 [INFO] - [raw sql] ()
2025-03-26 12:32:41,229 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 12:32:41,229 [INFO] - [raw sql] ()
2025-03-26 12:32:41,229 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 12:32:41,229 [INFO] - [raw sql] ()
2025-03-26 12:32:41,229 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 12:32:41,229 [INFO] - [raw sql] ()
2025-03-26 12:32:41,229 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 12:32:41,229 [INFO] - [raw sql] ()
2025-03-26 12:32:41,229 [INFO] - COMMIT
2025-03-26 12:32:41,252 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 12:32:41,253 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 12:32:43,348 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,350 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,350 [INFO] - [generated in 0.00019s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:43,353 [INFO] - ROLLBACK
2025-03-26 12:32:43,353 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:43,354 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,354 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,354 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 12:32:43,355 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,355 [INFO] - [generated in 0.00007s] ('john.doe@example.com', 1, 0)
2025-03-26 12:32:43,430 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:32:43,430 [INFO] - [generated in 0.00015s] ('test_student', 'scrypt:32768:8:1$VmqN6LDOr3AeRGzP$386e2968fb95ae4fd734fa99005be145cb86a3cdebbadea33ec0d011ea5bc9c38eeeef888ff1721534f852c5e0bc86594f9999969264ecd6a568773b1f3060e1', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:32:43,463 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,463 [INFO] - [generated in 0.00014s] ('1', 1, 0)
2025-03-26 12:32:43,465 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:32:43,465 [INFO] - [generated in 0.00009s] ()
2025-03-26 12:32:43,466 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:32:43,466 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:32:43,466 [INFO] - COMMIT
2025-03-26 12:32:43,520 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,520 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:32:43,520 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 12:32:43,520 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:32:43,521 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:32:43,521 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:32:43,521 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,521 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-26 12:32:43,522 [INFO] - ROLLBACK
2025-03-26 12:32:43,522 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:43] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:32:43,525 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,525 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,525 [INFO] - [cached since 0.1748s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:43,525 [INFO] - ROLLBACK
2025-03-26 12:32:43,525 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:43,526 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,529 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:32:43,529 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 12:32:43,530 [INFO] - ROLLBACK
2025-03-26 12:32:43,530 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:43] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:32:43,532 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,532 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,532 [INFO] - [cached since 0.182s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:43,532 [INFO] - ROLLBACK
2025-03-26 12:32:43,532 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:43,532 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,534 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,534 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 12:32:43,535 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:32:43,535 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:32:43,536 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:32:43,536 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-26 12:32:43,536 [INFO] - COMMIT
2025-03-26 12:32:43,597 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:32:43,597 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,599 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:32:43,599 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 12:32:43,600 [INFO] - ROLLBACK
2025-03-26 12:32:43,600 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:43] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:32:43,602 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,602 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,602 [INFO] - [cached since 0.2516s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:43,602 [INFO] - ROLLBACK
2025-03-26 12:32:43,602 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:43,602 [INFO] - BEGIN (implicit)
2025-03-26 12:32:43,603 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:43,603 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-26 12:32:43,604 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:32:43,604 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:32:43,604 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:32:43,604 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:32:43,605 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:32:43,605 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:32:43,606 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:32:43,606 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:32:43,606 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:32:43,606 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:32:43,607 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:32:43,607 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:32:43,607 [INFO] - COMMIT
2025-03-26 12:32:43,613 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:32:43,613 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:43] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:32:56,996 [INFO] - BEGIN (implicit)
2025-03-26 12:32:56,997 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:56,997 [INFO] - [cached since 13.65s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:56,997 [INFO] - ROLLBACK
2025-03-26 12:32:56,997 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:56,998 [INFO] - BEGIN (implicit)
2025-03-26 12:32:56,998 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:56,998 [INFO] - [cached since 13.64s ago] ('test_student', 1, 0)
2025-03-26 12:32:56,998 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:56,998 [INFO] - [cached since 13.64s ago] ('john.doe@example.com', 1, 0)
2025-03-26 12:32:57,074 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:32:57,074 [INFO] - [cached since 13.64s ago] ('test_student', 'scrypt:32768:8:1$DMILaC9cvYfxfJpP$6a5ee2cd1585bdf5c5ab90e18a23015b6ce292b64d2b388fcf4387f8f0c33093c366e6b8629d5af72443b02499db12cc8a980baa722845da5a14f789308caba6', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:32:57,075 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,075 [INFO] - [cached since 13.61s ago] ('1', 1, 0)
2025-03-26 12:32:57,075 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:32:57,075 [INFO] - [cached since 13.61s ago] ()
2025-03-26 12:32:57,076 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:32:57,076 [INFO] - [cached since 13.61s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:32:57,076 [INFO] - COMMIT
2025-03-26 12:32:57,104 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,104 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:32:57,104 [INFO] - [cached since 13.58s ago] (71,)
2025-03-26 12:32:57,104 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:32:57,104 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:32:57,104 [INFO] - [cached since 13.58s ago] (71,)
2025-03-26 12:32:57,104 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,104 [INFO] - [cached since 13.58s ago] (1, 1, 0)
2025-03-26 12:32:57,105 [INFO] - ROLLBACK
2025-03-26 12:32:57,105 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:57] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:32:57,107 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,107 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,107 [INFO] - [cached since 13.76s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:57,107 [INFO] - ROLLBACK
2025-03-26 12:32:57,107 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:57,107 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,108 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:32:57,108 [INFO] - [cached since 13.58s ago] (3050, 1, 0)
2025-03-26 12:32:57,108 [INFO] - ROLLBACK
2025-03-26 12:32:57,108 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:57] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:32:57,110 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,110 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,110 [INFO] - [cached since 13.76s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:57,110 [INFO] - ROLLBACK
2025-03-26 12:32:57,110 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:57,110 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,110 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,110 [INFO] - [cached since 13.58s ago] (3050, 1, 0)
2025-03-26 12:32:57,111 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:32:57,111 [INFO] - [cached since 13.58s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:32:57,111 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:32:57,111 [INFO] - [cached since 13.58s ago] ('2005-05-16', 71)
2025-03-26 12:32:57,111 [INFO] - COMMIT
2025-03-26 12:32:57,116 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:32:57,116 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,116 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:32:57,116 [INFO] - [cached since 13.52s ago] (71,)
2025-03-26 12:32:57,116 [INFO] - ROLLBACK
2025-03-26 12:32:57,116 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:57] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:32:57,118 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,118 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,118 [INFO] - [cached since 13.77s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:57,118 [INFO] - ROLLBACK
2025-03-26 12:32:57,118 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:57,118 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,118 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,118 [INFO] - [cached since 13.52s ago] (3050, 1, 0)
2025-03-26 12:32:57,119 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:32:57,119 [INFO] - [cached since 13.52s ago] (71,)
2025-03-26 12:32:57,119 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:32:57,119 [INFO] - [cached since 13.51s ago] (71,)
2025-03-26 12:32:57,119 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:32:57,119 [INFO] - [cached since 13.51s ago] (71,)
2025-03-26 12:32:57,119 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:32:57,119 [INFO] - [cached since 13.51s ago] (71,)
2025-03-26 12:32:57,120 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:32:57,120 [INFO] - [cached since 13.51s ago] (71,)
2025-03-26 12:32:57,120 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:32:57,120 [INFO] - [cached since 13.51s ago] (71,)
2025-03-26 12:32:57,120 [INFO] - COMMIT
2025-03-26 12:32:57,126 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:32:57,127 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:57] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:32:57,128 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,128 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:32:57,128 [INFO] - [cached since 13.78s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:32:57,128 [INFO] - ROLLBACK
2025-03-26 12:32:57,128 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:32:57,128 [INFO] - BEGIN (implicit)
2025-03-26 12:32:57,130 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:32:57,130 [INFO] - [generated in 0.00008s] ()
2025-03-26 12:32:57,132 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 12:32:57,132 [INFO] - ROLLBACK
2025-03-26 12:32:57,136 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:32:57] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 12:33:25,982 [INFO] - BEGIN (implicit)
2025-03-26 12:33:25,986 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:33:25,986 [INFO] - [generated in 0.00052s] ('1',)
2025-03-26 12:33:25,987 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:33:25,988 [INFO] - BEGIN (implicit)
2025-03-26 12:33:25,989 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:33:25,989 [INFO] - [generated in 0.00012s] ('user1', 1, 0)
2025-03-26 12:33:25,990 [INFO] - ROLLBACK
2025-03-26 12:33:25,990 [INFO] - BEGIN (implicit)
2025-03-26 12:33:25,990 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:33:25,990 [INFO] - [cached since 28.86s ago] ()
2025-03-26 12:33:26,036 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:33:26,037 [INFO] - ROLLBACK
2025-03-26 12:33:26,068 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:33:26] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:33:26,111 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:33:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:33:27,580 [INFO] - BEGIN (implicit)
2025-03-26 12:33:27,581 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:33:27,581 [INFO] - [cached since 1.595s ago] ('1',)
2025-03-26 12:33:27,582 [INFO] - BEGIN (implicit)
2025-03-26 12:33:27,582 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:33:27,583 [INFO] - [cached since 44.05s ago] (3000, 1, 0)
2025-03-26 12:33:27,584 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:33:27,584 [INFO] - [generated in 0.00016s] ()
2025-03-26 12:33:27,621 [INFO] - ROLLBACK
2025-03-26 12:33:27,621 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:33:27] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:33:27,667 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:33:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:33:50,094 [INFO] - BEGIN (implicit)
2025-03-26 12:33:50,096 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:33:50,096 [INFO] - [cached since 24.11s ago] ('1',)
2025-03-26 12:33:50,100 [INFO] - BEGIN (implicit)
2025-03-26 12:33:50,101 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:33:50,101 [INFO] - [cached since 66.57s ago] (3000, 1, 0)
2025-03-26 12:33:50,102 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:33:50,102 [INFO] - [cached since 22.52s ago] ()
2025-03-26 12:33:50,104 [INFO] - ROLLBACK
2025-03-26 12:33:50,104 [ERROR] - Exception on /admin/student/3000 [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 77, in edit_student
    with current_app.test_request_context():
         ^^^^^^^^^^^
NameError: name 'current_app' is not defined. Did you mean: 'current_user'?
2025-03-26 12:33:50,186 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:33:50] "[35m[1mPOST /admin/student/3000 HTTP/1.1[0m" 500 -
2025-03-26 12:35:21,449 [INFO] - BEGIN (implicit)
2025-03-26 12:35:21,449 [INFO] - PRAGMA main.table_info("users")
2025-03-26 12:35:21,449 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("students")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 12:35:21,450 [INFO] - [raw sql] ()
2025-03-26 12:35:21,450 [INFO] - COMMIT
2025-03-26 12:35:21,465 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 12:35:21,465 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 12:35:24,351 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,353 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,354 [INFO] - [generated in 0.00014s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:24,392 [INFO] - ROLLBACK
2025-03-26 12:35:24,392 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:24,393 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,393 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,393 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 12:35:24,394 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,394 [INFO] - [generated in 0.00009s] ('john.doe@example.com', 1, 0)
2025-03-26 12:35:24,467 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:35:24,467 [INFO] - [generated in 0.00016s] ('test_student', 'scrypt:32768:8:1$JE9PMyCaw5uVdAE4$dcd67d24f93eed8d500f411934e325739aa0761b60aa8855c99dcb15e4e97c1748174f49ea582ab26b941d19474e30c630971abe6d3f8dc7c48c71ea102030a3', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:35:24,516 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,516 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-26 12:35:24,518 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:35:24,518 [INFO] - [generated in 0.00006s] ()
2025-03-26 12:35:24,519 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:35:24,519 [INFO] - [generated in 0.00009s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:35:24,520 [INFO] - COMMIT
2025-03-26 12:35:24,574 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,574 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:35:24,574 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 12:35:24,575 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:35:24,575 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:35:24,575 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:35:24,576 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,576 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-26 12:35:24,576 [INFO] - ROLLBACK
2025-03-26 12:35:24,576 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:24] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:35:24,578 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,579 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,579 [INFO] - [cached since 0.2253s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:24,579 [INFO] - ROLLBACK
2025-03-26 12:35:24,579 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:24,579 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,582 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:35:24,582 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 12:35:24,589 [INFO] - ROLLBACK
2025-03-26 12:35:24,589 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:24] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:24,591 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,591 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,591 [INFO] - [cached since 0.2379s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:24,591 [INFO] - ROLLBACK
2025-03-26 12:35:24,591 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:24,592 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,593 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,593 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 12:35:24,594 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:35:24,594 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:35:24,595 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:35:24,595 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-26 12:35:24,595 [INFO] - COMMIT
2025-03-26 12:35:24,640 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:35:24,640 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,642 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:35:24,642 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 12:35:24,643 [INFO] - ROLLBACK
2025-03-26 12:35:24,643 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:24] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:24,644 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,644 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,644 [INFO] - [cached since 0.291s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:24,645 [INFO] - ROLLBACK
2025-03-26 12:35:24,645 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:24,645 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,646 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,646 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 12:35:24,646 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:35:24,647 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:35:24,647 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:35:24,647 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:35:24,648 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:35:24,648 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:35:24,648 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:35:24,648 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:35:24,649 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:35:24,649 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:35:24,649 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:35:24,650 [INFO] - [generated in 0.00004s] (71,)
2025-03-26 12:35:24,650 [INFO] - COMMIT
2025-03-26 12:35:24,655 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:35:24,655 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:24] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:24,656 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,656 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:24,656 [INFO] - [cached since 0.3028s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:24,656 [INFO] - ROLLBACK
2025-03-26 12:35:24,656 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:24,656 [INFO] - BEGIN (implicit)
2025-03-26 12:35:24,657 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:35:24,658 [INFO] - [generated in 0.00010s] ()
2025-03-26 12:35:24,904 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 12:35:24,904 [INFO] - ROLLBACK
2025-03-26 12:35:24,908 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:24] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 12:35:41,614 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,615 [INFO] - [cached since 17.26s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:41,617 [INFO] - ROLLBACK
2025-03-26 12:35:41,618 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:41,619 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,619 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,619 [INFO] - [cached since 17.23s ago] ('test_student', 1, 0)
2025-03-26 12:35:41,619 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,619 [INFO] - [cached since 17.23s ago] ('john.doe@example.com', 1, 0)
2025-03-26 12:35:41,694 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:35:41,694 [INFO] - [cached since 17.23s ago] ('test_student', 'scrypt:32768:8:1$KSCdlE77ZlWCWlBc$e8a8cec0b05f337f0da4b7db1252366cffac7476da18c184c8d277c3727cd4a49fad8c9832bad036b8817635a335a38f90afabf977f83e5922ca9fda513bcca3', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:35:41,696 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,696 [INFO] - [cached since 17.18s ago] ('1', 1, 0)
2025-03-26 12:35:41,696 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:35:41,696 [INFO] - [cached since 17.18s ago] ()
2025-03-26 12:35:41,696 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:35:41,696 [INFO] - [cached since 17.18s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:35:41,697 [INFO] - COMMIT
2025-03-26 12:35:41,702 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,702 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:35:41,702 [INFO] - [cached since 17.13s ago] (71,)
2025-03-26 12:35:41,702 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:35:41,702 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:35:41,703 [INFO] - [cached since 17.13s ago] (71,)
2025-03-26 12:35:41,703 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,703 [INFO] - [cached since 17.13s ago] (1, 1, 0)
2025-03-26 12:35:41,703 [INFO] - ROLLBACK
2025-03-26 12:35:41,704 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:41] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:35:41,706 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,706 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,706 [INFO] - [cached since 17.35s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:41,706 [INFO] - ROLLBACK
2025-03-26 12:35:41,706 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:41,706 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,707 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:35:41,707 [INFO] - [cached since 17.12s ago] (3050, 1, 0)
2025-03-26 12:35:41,707 [INFO] - ROLLBACK
2025-03-26 12:35:41,707 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:41] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:41,709 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,709 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,709 [INFO] - [cached since 17.36s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:41,709 [INFO] - ROLLBACK
2025-03-26 12:35:41,709 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:41,709 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,709 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,709 [INFO] - [cached since 17.12s ago] (3050, 1, 0)
2025-03-26 12:35:41,710 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:35:41,710 [INFO] - [cached since 17.12s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:35:41,711 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:35:41,711 [INFO] - [cached since 17.12s ago] ('2005-05-16', 71)
2025-03-26 12:35:41,711 [INFO] - COMMIT
2025-03-26 12:35:41,716 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:35:41,716 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,716 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:35:41,716 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,716 [INFO] - ROLLBACK
2025-03-26 12:35:41,716 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:41] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:41,718 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,719 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,719 [INFO] - [cached since 17.37s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:41,719 [INFO] - ROLLBACK
2025-03-26 12:35:41,719 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:41,719 [INFO] - BEGIN (implicit)
2025-03-26 12:35:41,719 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:41,719 [INFO] - [cached since 17.07s ago] (3050, 1, 0)
2025-03-26 12:35:41,720 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:35:41,720 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,720 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:35:41,720 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,720 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:35:41,720 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,721 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:35:41,721 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,721 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:35:41,721 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,721 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:35:41,721 [INFO] - [cached since 17.07s ago] (71,)
2025-03-26 12:35:41,721 [INFO] - COMMIT
2025-03-26 12:35:41,727 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:35:41,727 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:41] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:50,174 [INFO] - BEGIN (implicit)
2025-03-26 12:35:50,174 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:50,174 [INFO] - [cached since 25.82s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-26 12:35:50,175 [INFO] - ROLLBACK
2025-03-26 12:35:50,175 [ERROR] - POST None - Unauthorized access from IP: 127.0.0.1
2025-03-26 12:35:50,176 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:50] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 401 -
2025-03-26 12:35:56,128 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,129 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,129 [INFO] - [cached since 31.78s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:56,130 [INFO] - ROLLBACK
2025-03-26 12:35:56,130 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:56,130 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,130 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,130 [INFO] - [cached since 31.74s ago] ('test_student', 1, 0)
2025-03-26 12:35:56,131 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,131 [INFO] - [cached since 31.74s ago] ('john.doe@example.com', 1, 0)
2025-03-26 12:35:56,202 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:35:56,202 [INFO] - [cached since 31.74s ago] ('test_student', 'scrypt:32768:8:1$EAjGJuigoyLqaher$958d33b2ef9641026e03271a4208a96f2ffdf16ebe65e17103d71cac8915846586b182181f574425144b1cdb1398a502654359003cf3bc045ea3044bb6883540', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:35:56,203 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,203 [INFO] - [cached since 31.69s ago] ('1', 1, 0)
2025-03-26 12:35:56,204 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:35:56,204 [INFO] - [cached since 31.69s ago] ()
2025-03-26 12:35:56,204 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:35:56,204 [INFO] - [cached since 31.68s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:35:56,204 [INFO] - COMMIT
2025-03-26 12:35:56,232 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,233 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:35:56,233 [INFO] - [cached since 31.66s ago] (71,)
2025-03-26 12:35:56,233 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:35:56,233 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:35:56,233 [INFO] - [cached since 31.66s ago] (71,)
2025-03-26 12:35:56,234 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,234 [INFO] - [cached since 31.66s ago] (1, 1, 0)
2025-03-26 12:35:56,234 [INFO] - ROLLBACK
2025-03-26 12:35:56,237 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:56] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:35:56,239 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,239 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,239 [INFO] - [cached since 31.89s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:56,239 [INFO] - ROLLBACK
2025-03-26 12:35:56,239 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:56,240 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,240 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:35:56,240 [INFO] - [cached since 31.66s ago] (3050, 1, 0)
2025-03-26 12:35:56,240 [INFO] - ROLLBACK
2025-03-26 12:35:56,240 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:56] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:56,242 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,242 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,242 [INFO] - [cached since 31.89s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:56,242 [INFO] - ROLLBACK
2025-03-26 12:35:56,242 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:56,242 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,243 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,243 [INFO] - [cached since 31.65s ago] (3050, 1, 0)
2025-03-26 12:35:56,243 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:35:56,243 [INFO] - [cached since 31.65s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:35:56,244 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:35:56,244 [INFO] - [cached since 31.65s ago] ('2005-05-16', 71)
2025-03-26 12:35:56,244 [INFO] - COMMIT
2025-03-26 12:35:56,249 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:35:56,249 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,250 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:35:56,250 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,250 [INFO] - ROLLBACK
2025-03-26 12:35:56,250 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:56] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:35:56,252 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,253 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,253 [INFO] - [cached since 31.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:35:56,253 [INFO] - ROLLBACK
2025-03-26 12:35:56,253 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:35:56,253 [INFO] - BEGIN (implicit)
2025-03-26 12:35:56,253 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:35:56,253 [INFO] - [cached since 31.61s ago] (3050, 1, 0)
2025-03-26 12:35:56,254 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:35:56,254 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,254 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:35:56,254 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,254 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:35:56,254 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,255 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:35:56,255 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,255 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:35:56,255 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,255 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:35:56,255 [INFO] - [cached since 31.61s ago] (71,)
2025-03-26 12:35:56,255 [INFO] - COMMIT
2025-03-26 12:35:56,259 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:35:56,260 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:35:56] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:36:01,984 [INFO] - BEGIN (implicit)
2025-03-26 12:36:01,987 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:36:01,987 [INFO] - [generated in 0.00041s] ('1',)
2025-03-26 12:36:01,988 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:36:01,989 [INFO] - BEGIN (implicit)
2025-03-26 12:36:01,990 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:01,990 [INFO] - [generated in 0.00019s] ('user1', 1, 0)
2025-03-26 12:36:01,991 [INFO] - ROLLBACK
2025-03-26 12:36:01,991 [INFO] - BEGIN (implicit)
2025-03-26 12:36:01,992 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:36:01,992 [INFO] - [cached since 37.33s ago] ()
2025-03-26 12:36:01,993 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:36:01,993 [INFO] - ROLLBACK
2025-03-26 12:36:02,037 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:36:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:36:02,111 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:36:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:36:03,161 [INFO] - BEGIN (implicit)
2025-03-26 12:36:03,161 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:36:03,162 [INFO] - [cached since 1.175s ago] ('1',)
2025-03-26 12:36:03,164 [INFO] - BEGIN (implicit)
2025-03-26 12:36:03,164 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:03,164 [INFO] - [cached since 38.57s ago] (3000, 1, 0)
2025-03-26 12:36:03,166 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:36:03,166 [INFO] - [generated in 0.00015s] ()
2025-03-26 12:36:03,212 [INFO] - ROLLBACK
2025-03-26 12:36:03,212 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:36:03] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:36:03,252 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:36:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:36:12,386 [INFO] - BEGIN (implicit)
2025-03-26 12:36:12,387 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:36:12,387 [INFO] - [cached since 10.4s ago] ('1',)
2025-03-26 12:36:12,388 [INFO] - BEGIN (implicit)
2025-03-26 12:36:12,389 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:12,389 [INFO] - [cached since 47.8s ago] (3000, 1, 0)
2025-03-26 12:36:12,389 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:36:12,389 [INFO] - [cached since 9.224s ago] ()
2025-03-26 12:36:12,391 [INFO] - PATCH /api/admin/student/3000 - IP: None, User: user1 (via session)
2025-03-26 12:36:12,391 [INFO] - BEGIN (implicit)
2025-03-26 12:36:12,391 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:12,391 [INFO] - [cached since 10.4s ago] ('user1', 1, 0)
2025-03-26 12:36:12,391 [INFO] - ROLLBACK
2025-03-26 12:36:12,391 [INFO] - BEGIN (implicit)
2025-03-26 12:36:12,391 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:12,391 [INFO] - [cached since 47.8s ago] (3000, 1, 0)
2025-03-26 12:36:12,392 [INFO] - ROLLBACK
2025-03-26 12:36:12,392 [INFO] - ROLLBACK
2025-03-26 12:36:12,392 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:36:12] "[35m[1mPOST /admin/student/3000 HTTP/1.1[0m" 500 -
2025-03-26 12:36:47,364 [INFO] - BEGIN (implicit)
2025-03-26 12:36:47,365 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:36:47,366 [INFO] - [cached since 45.38s ago] ('1',)
2025-03-26 12:36:47,371 [INFO] - BEGIN (implicit)
2025-03-26 12:36:47,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:47,371 [INFO] - [cached since 82.78s ago] (3000, 1, 0)
2025-03-26 12:36:47,372 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:36:47,372 [INFO] - [cached since 44.21s ago] ()
2025-03-26 12:36:47,373 [INFO] - PATCH /api/admin/student/3000 - IP: None, User: user1 (via session)
2025-03-26 12:36:47,373 [INFO] - BEGIN (implicit)
2025-03-26 12:36:47,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:47,373 [INFO] - [cached since 45.38s ago] ('user1', 1, 0)
2025-03-26 12:36:47,374 [INFO] - ROLLBACK
2025-03-26 12:36:47,374 [INFO] - BEGIN (implicit)
2025-03-26 12:36:47,374 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:36:47,374 [INFO] - [cached since 82.78s ago] (3000, 1, 0)
2025-03-26 12:36:47,374 [INFO] - ROLLBACK
2025-03-26 12:36:47,374 [INFO] - ROLLBACK
2025-03-26 12:36:47,375 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:36:47] "[35m[1mPOST /admin/student/3000 HTTP/1.1[0m" 500 -
2025-03-26 12:43:52,135 [INFO] - BEGIN (implicit)
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("users")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("students")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,136 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 12:43:52,136 [INFO] - [raw sql] ()
2025-03-26 12:43:52,137 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 12:43:52,137 [INFO] - [raw sql] ()
2025-03-26 12:43:52,137 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 12:43:52,137 [INFO] - [raw sql] ()
2025-03-26 12:43:52,137 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 12:43:52,137 [INFO] - [raw sql] ()
2025-03-26 12:43:52,137 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 12:43:52,137 [INFO] - [raw sql] ()
2025-03-26 12:43:52,137 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 12:43:52,137 [INFO] - [raw sql] ()
2025-03-26 12:43:52,137 [INFO] - COMMIT
2025-03-26 12:43:52,149 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 12:43:52,149 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 12:43:53,940 [INFO] - BEGIN (implicit)
2025-03-26 12:43:53,942 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:53,942 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:43:53,968 [INFO] - ROLLBACK
2025-03-26 12:43:53,968 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:43:53,968 [INFO] - BEGIN (implicit)
2025-03-26 12:43:53,969 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:53,969 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 12:43:53,969 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:53,969 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-26 12:43:54,045 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:43:54,046 [INFO] - [generated in 0.00015s] ('test_student', 'scrypt:32768:8:1$wTbfwvDrlYeYzVKz$7ffb8c8de5f3118f0892ddcbf1c3822f8ca985fd88bb0313cfc24732430517658ce3bd9d0f54ede1a26189c5bff85a9887cbf7bbb4c889ff161f7b51e29ff6cb', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:43:54,097 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,097 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-26 12:43:54,098 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:43:54,098 [INFO] - [generated in 0.00007s] ()
2025-03-26 12:43:54,098 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:43:54,099 [INFO] - [generated in 0.00011s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:43:54,099 [INFO] - COMMIT
2025-03-26 12:43:54,141 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,141 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:43:54,141 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 12:43:54,141 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:43:54,142 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:43:54,142 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:43:54,143 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,143 [INFO] - [generated in 0.00009s] (1, 1, 0)
2025-03-26 12:43:54,143 [INFO] - ROLLBACK
2025-03-26 12:43:54,143 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:43:54] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:43:54,145 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,145 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,145 [INFO] - [cached since 0.2037s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:43:54,146 [INFO] - ROLLBACK
2025-03-26 12:43:54,146 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:43:54,146 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,149 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:43:54,149 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 12:43:54,150 [INFO] - ROLLBACK
2025-03-26 12:43:54,150 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:43:54] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:43:54,152 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,152 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,152 [INFO] - [cached since 0.21s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:43:54,152 [INFO] - ROLLBACK
2025-03-26 12:43:54,152 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:43:54,152 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,153 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,153 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 12:43:54,154 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:43:54,155 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:43:54,218 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:43:54,218 [INFO] - [generated in 0.00008s] ('2005-05-16', 71)
2025-03-26 12:43:54,218 [INFO] - COMMIT
2025-03-26 12:43:54,274 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:43:54,274 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,276 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:43:54,276 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 12:43:54,276 [INFO] - ROLLBACK
2025-03-26 12:43:54,277 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:43:54] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:43:54,278 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,279 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,279 [INFO] - [cached since 0.3368s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:43:54,279 [INFO] - ROLLBACK
2025-03-26 12:43:54,279 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:43:54,279 [INFO] - BEGIN (implicit)
2025-03-26 12:43:54,280 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:43:54,280 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 12:43:54,281 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:43:54,281 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:43:54,300 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:43:54,301 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:43:54,301 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:43:54,301 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:43:54,302 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:43:54,302 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:43:54,302 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:43:54,302 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:43:54,312 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:43:54,312 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:43:54,312 [INFO] - COMMIT
2025-03-26 12:43:54,320 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:43:54,320 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:43:54] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:44:17,957 [INFO] - BEGIN (implicit)
2025-03-26 12:44:17,960 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:44:17,961 [INFO] - [generated in 0.00038s] ('1',)
2025-03-26 12:44:17,961 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:44:17,965 [INFO] - BEGIN (implicit)
2025-03-26 12:44:17,966 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:44:17,966 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 12:44:17,967 [INFO] - ROLLBACK
2025-03-26 12:44:17,967 [INFO] - BEGIN (implicit)
2025-03-26 12:44:17,969 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:44:17,969 [INFO] - [generated in 0.00010s] ()
2025-03-26 12:44:18,045 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:44:18,045 [INFO] - ROLLBACK
2025-03-26 12:44:18,076 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:44:18] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:44:18,169 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:44:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:44:19,490 [INFO] - BEGIN (implicit)
2025-03-26 12:44:19,491 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:44:19,491 [INFO] - [cached since 1.53s ago] ('1',)
2025-03-26 12:44:19,492 [INFO] - BEGIN (implicit)
2025-03-26 12:44:19,492 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:44:19,492 [INFO] - [cached since 25.34s ago] (3001, 1, 0)
2025-03-26 12:44:19,493 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:44:19,493 [INFO] - [generated in 0.00015s] ()
2025-03-26 12:44:19,529 [INFO] - ROLLBACK
2025-03-26 12:44:19,529 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:44:19] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 12:44:19,570 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:44:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:44:37,746 [INFO] - BEGIN (implicit)
2025-03-26 12:44:37,747 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:44:37,747 [INFO] - [cached since 19.79s ago] ('1',)
2025-03-26 12:44:37,750 [INFO] - BEGIN (implicit)
2025-03-26 12:44:37,750 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:44:37,750 [INFO] - [cached since 43.6s ago] (3001, 1, 0)
2025-03-26 12:44:37,751 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:44:37,751 [INFO] - [cached since 18.26s ago] ()
2025-03-26 12:44:37,753 [INFO] - PATCH /api/admin/student/3001 - IP: None, User: user1 (via session)
2025-03-26 12:44:37,753 [INFO] - BEGIN (implicit)
2025-03-26 12:44:37,753 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:44:37,753 [INFO] - [cached since 19.79s ago] ('user1', 1, 0)
2025-03-26 12:44:37,753 [INFO] - ROLLBACK
2025-03-26 12:44:37,754 [INFO] - BEGIN (implicit)
2025-03-26 12:44:37,754 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:44:37,754 [INFO] - [cached since 43.6s ago] (3001, 1, 0)
2025-03-26 12:44:37,754 [INFO] - ROLLBACK
2025-03-26 12:44:37,754 [INFO] - ROLLBACK
2025-03-26 12:44:37,754 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:44:37] "[35m[1mPOST /admin/student/3001 HTTP/1.1[0m" 500 -
2025-03-26 12:48:58,156 [INFO] - BEGIN (implicit)
2025-03-26 12:48:58,156 [INFO] - PRAGMA main.table_info("users")
2025-03-26 12:48:58,156 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("students")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 12:48:58,157 [INFO] - [raw sql] ()
2025-03-26 12:48:58,157 [INFO] - COMMIT
2025-03-26 12:48:58,170 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 12:48:58,170 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 12:49:01,418 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,419 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,419 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:01,434 [INFO] - ROLLBACK
2025-03-26 12:49:01,434 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:01,434 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,435 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,435 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 12:49:01,435 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,435 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-26 12:49:01,509 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:49:01,510 [INFO] - [generated in 0.00022s] ('test_student', 'scrypt:32768:8:1$QbSvsNaQyi6Q7Smc$57e6c757ee6be7d1dfa3bc9810e5d93cfea172bc369e639eeb8ca747de1ab326e6ef1acd47be945ccf595cfd84bfb5961ec44cae6af3279cc3b07f41e51c824c', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:49:01,540 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,540 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-26 12:49:01,542 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:49:01,542 [INFO] - [generated in 0.00009s] ()
2025-03-26 12:49:01,543 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:49:01,543 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:49:01,543 [INFO] - COMMIT
2025-03-26 12:49:01,620 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,620 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:49:01,620 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 12:49:01,621 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:49:01,621 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:49:01,621 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:49:01,622 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,622 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-26 12:49:01,622 [INFO] - ROLLBACK
2025-03-26 12:49:01,622 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:01] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:49:01,625 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,625 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,625 [INFO] - [cached since 0.2056s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:01,625 [INFO] - ROLLBACK
2025-03-26 12:49:01,625 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:01,625 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,628 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:49:01,628 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 12:49:01,642 [INFO] - ROLLBACK
2025-03-26 12:49:01,642 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:01] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:49:01,644 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,644 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,644 [INFO] - [cached since 0.2251s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:01,644 [INFO] - ROLLBACK
2025-03-26 12:49:01,644 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:01,645 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,646 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,646 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 12:49:01,647 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:49:01,647 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:49:01,647 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:49:01,647 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-26 12:49:01,648 [INFO] - COMMIT
2025-03-26 12:49:01,708 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:49:01,708 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,710 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:49:01,710 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 12:49:01,710 [INFO] - ROLLBACK
2025-03-26 12:49:01,710 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:01] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:49:01,712 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,712 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,712 [INFO] - [cached since 0.2929s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:01,712 [INFO] - ROLLBACK
2025-03-26 12:49:01,712 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:01,712 [INFO] - BEGIN (implicit)
2025-03-26 12:49:01,713 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:01,713 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 12:49:01,714 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:49:01,714 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:49:01,715 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:49:01,715 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:49:01,715 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:49:01,715 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 12:49:01,716 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:49:01,716 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 12:49:01,717 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:49:01,717 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 12:49:01,717 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:49:01,717 [INFO] - [generated in 0.00004s] (71,)
2025-03-26 12:49:01,717 [INFO] - COMMIT
2025-03-26 12:49:01,723 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:49:01,723 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:01] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:49:19,262 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,262 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,263 [INFO] - [cached since 17.84s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:19,263 [INFO] - ROLLBACK
2025-03-26 12:49:19,263 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:19,264 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,264 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,264 [INFO] - [cached since 17.83s ago] ('test_student', 1, 0)
2025-03-26 12:49:19,264 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,264 [INFO] - [cached since 17.83s ago] ('john.doe@example.com', 1, 0)
2025-03-26 12:49:19,337 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 12:49:19,338 [INFO] - [cached since 17.83s ago] ('test_student', 'scrypt:32768:8:1$DpwXjgfDxd7eK6qx$1200bdd70cb3696a3de0af810a35a5352cd0ebe5e915e75fa86e459987f98a01ce4721bd25b9f9ec287e23151677d95664d4332b48846fabf1ee07eb7ff2c585', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 12:49:19,338 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,339 [INFO] - [cached since 17.8s ago] ('1', 1, 0)
2025-03-26 12:49:19,339 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 12:49:19,339 [INFO] - [cached since 17.8s ago] ()
2025-03-26 12:49:19,339 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 12:49:19,339 [INFO] - [cached since 17.8s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 12:49:19,339 [INFO] - COMMIT
2025-03-26 12:49:19,368 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:49:19,368 [INFO] - [cached since 17.75s ago] (71,)
2025-03-26 12:49:19,368 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 12:49:19,368 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 12:49:19,368 [INFO] - [cached since 17.75s ago] (71,)
2025-03-26 12:49:19,368 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,369 [INFO] - [cached since 17.75s ago] (1, 1, 0)
2025-03-26 12:49:19,369 [INFO] - ROLLBACK
2025-03-26 12:49:19,369 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:19] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 12:49:19,371 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,371 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,371 [INFO] - [cached since 17.95s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:19,371 [INFO] - ROLLBACK
2025-03-26 12:49:19,371 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:19,372 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,372 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 12:49:19,372 [INFO] - [cached since 17.74s ago] (3050, 1, 0)
2025-03-26 12:49:19,372 [INFO] - ROLLBACK
2025-03-26 12:49:19,372 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:19] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:49:19,374 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,374 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,374 [INFO] - [cached since 17.95s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:19,374 [INFO] - ROLLBACK
2025-03-26 12:49:19,374 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:19,374 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,374 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,374 [INFO] - [cached since 17.73s ago] (3050, 1, 0)
2025-03-26 12:49:19,375 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 12:49:19,375 [INFO] - [cached since 17.73s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 12:49:19,375 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 12:49:19,375 [INFO] - [cached since 17.73s ago] ('2005-05-16', 71)
2025-03-26 12:49:19,375 [INFO] - COMMIT
2025-03-26 12:49:19,396 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 12:49:19,396 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,396 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:49:19,396 [INFO] - [cached since 17.69s ago] (71,)
2025-03-26 12:49:19,396 [INFO] - ROLLBACK
2025-03-26 12:49:19,397 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:19] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:49:19,398 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,398 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,398 [INFO] - [cached since 17.98s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:19,398 [INFO] - ROLLBACK
2025-03-26 12:49:19,398 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:19,398 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,398 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,398 [INFO] - [cached since 17.69s ago] (3050, 1, 0)
2025-03-26 12:49:19,399 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 12:49:19,399 [INFO] - [cached since 17.68s ago] (71,)
2025-03-26 12:49:19,399 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 12:49:19,399 [INFO] - [cached since 17.68s ago] (71,)
2025-03-26 12:49:19,399 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 12:49:19,399 [INFO] - [cached since 17.69s ago] (71,)
2025-03-26 12:49:19,399 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 12:49:19,399 [INFO] - [cached since 17.68s ago] (71,)
2025-03-26 12:49:19,400 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 12:49:19,400 [INFO] - [cached since 17.68s ago] (71,)
2025-03-26 12:49:19,400 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 12:49:19,400 [INFO] - [cached since 17.68s ago] (71,)
2025-03-26 12:49:19,400 [INFO] - COMMIT
2025-03-26 12:49:19,405 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 12:49:19,405 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:19] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 12:49:19,406 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,407 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:19,407 [INFO] - [cached since 17.99s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 12:49:19,407 [INFO] - ROLLBACK
2025-03-26 12:49:19,407 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 12:49:19,407 [INFO] - BEGIN (implicit)
2025-03-26 12:49:19,408 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:49:19,408 [INFO] - [generated in 0.00008s] ()
2025-03-26 12:49:19,410 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 12:49:19,410 [INFO] - ROLLBACK
2025-03-26 12:49:19,414 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:19] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 12:49:54,375 [INFO] - BEGIN (implicit)
2025-03-26 12:49:54,377 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:49:54,377 [INFO] - [generated in 0.00040s] ('1',)
2025-03-26 12:49:54,378 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:49:54,379 [INFO] - BEGIN (implicit)
2025-03-26 12:49:54,380 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:54,380 [INFO] - [generated in 0.00014s] ('user1', 1, 0)
2025-03-26 12:49:54,381 [INFO] - ROLLBACK
2025-03-26 12:49:54,382 [INFO] - BEGIN (implicit)
2025-03-26 12:49:54,382 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:49:54,382 [INFO] - [cached since 34.97s ago] ()
2025-03-26 12:49:54,482 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:49:54,482 [INFO] - ROLLBACK
2025-03-26 12:49:54,512 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:54] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:49:54,596 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:49:55,507 [INFO] - BEGIN (implicit)
2025-03-26 12:49:55,507 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:49:55,507 [INFO] - [cached since 1.13s ago] ('1',)
2025-03-26 12:49:55,509 [INFO] - BEGIN (implicit)
2025-03-26 12:49:55,509 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:49:55,509 [INFO] - [cached since 53.86s ago] (3000, 1, 0)
2025-03-26 12:49:55,511 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:49:55,511 [INFO] - [generated in 0.00017s] ()
2025-03-26 12:49:55,554 [INFO] - ROLLBACK
2025-03-26 12:49:55,554 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:55] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:49:55,598 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:49:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:50:06,327 [INFO] - BEGIN (implicit)
2025-03-26 12:50:06,329 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:06,329 [INFO] - [cached since 11.95s ago] ('1',)
2025-03-26 12:50:06,331 [INFO] - BEGIN (implicit)
2025-03-26 12:50:06,332 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:06,332 [INFO] - [cached since 64.69s ago] (3000, 1, 0)
2025-03-26 12:50:06,333 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:50:06,333 [INFO] - [cached since 10.82s ago] ()
2025-03-26 12:50:06,334 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:50:06,334 [INFO] - BEGIN (implicit)
2025-03-26 12:50:06,334 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:06,334 [INFO] - [cached since 11.95s ago] ('user1', 1, 0)
2025-03-26 12:50:06,335 [INFO] - ROLLBACK
2025-03-26 12:50:06,335 [INFO] - BEGIN (implicit)
2025-03-26 12:50:06,335 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:06,335 [INFO] - [cached since 64.69s ago] (3000, 1, 0)
2025-03-26 12:50:06,409 [INFO] - UPDATE users SET password_hash=?, phone_number=? WHERE users.user_id = ?
2025-03-26 12:50:06,409 [INFO] - [generated in 0.00017s] ('scrypt:32768:8:1$4EcxJA2NGcOKxqN1$70345608aae3f1e4941af1e7b780dda18330f64cb23bf1d09289ddaaa7e1642ea45b74ea9695cc9e30f1d0ee16d357c67092003dd0ddefeb5fae03843bf67319', '+7(900)000-00-00', 6)
2025-03-26 12:50:06,410 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 12:50:06,410 [INFO] - [generated in 0.00007s] ('1', 6)
2025-03-26 12:50:06,410 [INFO] - COMMIT
2025-03-26 12:50:06,413 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 12:50:06,413 [INFO] - BEGIN (implicit)
2025-03-26 12:50:06,413 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:50:06,413 [INFO] - [cached since 64.7s ago] (6,)
2025-03-26 12:50:06,414 [INFO] - ROLLBACK
2025-03-26 12:50:06,414 [INFO] - ROLLBACK
2025-03-26 12:50:06,414 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:06] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:50:10,474 [INFO] - BEGIN (implicit)
2025-03-26 12:50:10,475 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:10,475 [INFO] - [cached since 16.1s ago] ('1',)
2025-03-26 12:50:10,476 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:50:10,477 [INFO] - BEGIN (implicit)
2025-03-26 12:50:10,477 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:10,478 [INFO] - [cached since 16.1s ago] ('user1', 1, 0)
2025-03-26 12:50:10,478 [INFO] - ROLLBACK
2025-03-26 12:50:10,479 [INFO] - BEGIN (implicit)
2025-03-26 12:50:10,479 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:50:10,479 [INFO] - [cached since 51.07s ago] ()
2025-03-26 12:50:10,491 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:50:10,491 [INFO] - ROLLBACK
2025-03-26 12:50:10,495 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:10] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:50:10,552 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:50:16,336 [INFO] - BEGIN (implicit)
2025-03-26 12:50:16,337 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:16,338 [INFO] - [cached since 21.96s ago] ('1',)
2025-03-26 12:50:16,339 [INFO] - BEGIN (implicit)
2025-03-26 12:50:16,339 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:16,339 [INFO] - [cached since 74.69s ago] (3000, 1, 0)
2025-03-26 12:50:16,340 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:50:16,340 [INFO] - [cached since 20.83s ago] ()
2025-03-26 12:50:16,340 [INFO] - ROLLBACK
2025-03-26 12:50:16,341 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:16] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:50:16,371 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:50:21,196 [INFO] - BEGIN (implicit)
2025-03-26 12:50:21,196 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:21,196 [INFO] - [cached since 26.82s ago] ('1',)
2025-03-26 12:50:21,198 [INFO] - BEGIN (implicit)
2025-03-26 12:50:21,198 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:21,198 [INFO] - [cached since 79.55s ago] (3000, 1, 0)
2025-03-26 12:50:21,199 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:50:21,199 [INFO] - [cached since 25.69s ago] ()
2025-03-26 12:50:21,201 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:50:21,202 [INFO] - BEGIN (implicit)
2025-03-26 12:50:21,202 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:21,202 [INFO] - [cached since 26.82s ago] ('user1', 1, 0)
2025-03-26 12:50:21,203 [INFO] - ROLLBACK
2025-03-26 12:50:21,203 [INFO] - BEGIN (implicit)
2025-03-26 12:50:21,204 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:21,204 [INFO] - [cached since 79.56s ago] (3000, 1, 0)
2025-03-26 12:50:21,281 [INFO] - UPDATE users SET password_hash=?, phone_number=? WHERE users.user_id = ?
2025-03-26 12:50:21,281 [INFO] - [cached since 14.87s ago] ('scrypt:32768:8:1$3KYxLk0ukjwnLTMP$26acc9222b1945165b42d3426abcb172d28fccb398f7bad253502b883ce83a161a5fa7b2683a48d4f66699ebb50cf8aea4346a5cc16ac261587232b494105bd5', '+7(900)000-00-05', 6)
2025-03-26 12:50:21,282 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 12:50:21,282 [INFO] - [cached since 14.87s ago] ('1', 6)
2025-03-26 12:50:21,282 [INFO] - COMMIT
2025-03-26 12:50:21,285 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 12:50:21,285 [INFO] - BEGIN (implicit)
2025-03-26 12:50:21,285 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:50:21,285 [INFO] - [cached since 79.58s ago] (6,)
2025-03-26 12:50:21,285 [INFO] - ROLLBACK
2025-03-26 12:50:21,285 [INFO] - ROLLBACK
2025-03-26 12:50:21,286 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:21] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:50:22,813 [INFO] - BEGIN (implicit)
2025-03-26 12:50:22,813 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:22,814 [INFO] - [cached since 28.44s ago] ('1',)
2025-03-26 12:50:22,814 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:50:22,815 [INFO] - BEGIN (implicit)
2025-03-26 12:50:22,815 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:22,815 [INFO] - [cached since 28.44s ago] ('user1', 1, 0)
2025-03-26 12:50:22,816 [INFO] - ROLLBACK
2025-03-26 12:50:22,816 [INFO] - BEGIN (implicit)
2025-03-26 12:50:22,816 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:50:22,816 [INFO] - [cached since 63.41s ago] ()
2025-03-26 12:50:22,820 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:50:22,821 [INFO] - ROLLBACK
2025-03-26 12:50:22,827 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:22] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:50:22,865 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:50:28,073 [INFO] - BEGIN (implicit)
2025-03-26 12:50:28,074 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:28,075 [INFO] - [cached since 33.7s ago] ('1',)
2025-03-26 12:50:28,077 [INFO] - BEGIN (implicit)
2025-03-26 12:50:28,077 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:28,077 [INFO] - [cached since 86.43s ago] (3000, 1, 0)
2025-03-26 12:50:28,078 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:50:28,078 [INFO] - [cached since 32.57s ago] ()
2025-03-26 12:50:28,079 [INFO] - ROLLBACK
2025-03-26 12:50:28,080 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:28] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:50:28,123 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:50:45,330 [INFO] - BEGIN (implicit)
2025-03-26 12:50:45,331 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:45,331 [INFO] - [cached since 50.95s ago] ('1',)
2025-03-26 12:50:45,332 [INFO] - BEGIN (implicit)
2025-03-26 12:50:45,333 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:45,333 [INFO] - [cached since 103.7s ago] (3000, 1, 0)
2025-03-26 12:50:45,334 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:50:45,334 [INFO] - [cached since 49.82s ago] ()
2025-03-26 12:50:45,336 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:50:45,336 [INFO] - BEGIN (implicit)
2025-03-26 12:50:45,336 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:45,337 [INFO] - [cached since 50.96s ago] ('user1', 1, 0)
2025-03-26 12:50:45,337 [INFO] - ROLLBACK
2025-03-26 12:50:45,337 [INFO] - BEGIN (implicit)
2025-03-26 12:50:45,338 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:45,338 [INFO] - [cached since 103.7s ago] (3000, 1, 0)
2025-03-26 12:50:45,413 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 12:50:45,413 [INFO] - [generated in 0.00016s] ('scrypt:32768:8:1$AOz2Olpi5CUWU6YK$dc698264225f70f41fd82dd48abaa3c7f3c1eafc98ff44bf87a5fcbe999fd16625a1af97102860c5c48fc12638528dd5b27d3442a277cf30b2aafe948b9bf746', 6)
2025-03-26 12:50:45,413 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 12:50:45,413 [INFO] - [cached since 39s ago] ('1', 6)
2025-03-26 12:50:45,414 [INFO] - COMMIT
2025-03-26 12:50:45,416 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 12:50:45,416 [INFO] - BEGIN (implicit)
2025-03-26 12:50:45,416 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:50:45,416 [INFO] - [cached since 103.7s ago] (6,)
2025-03-26 12:50:45,417 [INFO] - ROLLBACK
2025-03-26 12:50:45,417 [INFO] - ROLLBACK
2025-03-26 12:50:45,417 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:45] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:50:46,859 [INFO] - BEGIN (implicit)
2025-03-26 12:50:46,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:46,860 [INFO] - [cached since 52.48s ago] ('1',)
2025-03-26 12:50:46,861 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:50:46,862 [INFO] - BEGIN (implicit)
2025-03-26 12:50:46,862 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:50:46,862 [INFO] - [cached since 52.48s ago] ('user1', 1, 0)
2025-03-26 12:50:46,863 [INFO] - ROLLBACK
2025-03-26 12:50:46,863 [INFO] - BEGIN (implicit)
2025-03-26 12:50:46,864 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:50:46,864 [INFO] - [cached since 87.46s ago] ()
2025-03-26 12:50:46,870 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:50:46,870 [INFO] - ROLLBACK
2025-03-26 12:50:46,875 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:46] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:50:46,915 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:50:56,832 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:56] "GET / HTTP/1.1" 200 -
2025-03-26 12:50:58,420 [INFO] - BEGIN (implicit)
2025-03-26 12:50:58,420 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:50:58,420 [INFO] - [cached since 64.04s ago] ('1',)
2025-03-26 12:50:58,427 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:58] "GET /student/ HTTP/1.1" 200 -
2025-03-26 12:50:58,473 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:50:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:03,029 [INFO] - BEGIN (implicit)
2025-03-26 12:51:03,029 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:51:03,029 [INFO] - [cached since 68.65s ago] ('1',)
2025-03-26 12:51:03,031 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:03] "[32mGET /student/logout HTTP/1.1[0m" 302 -
2025-03-26 12:51:03,035 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:03] "GET /student/ HTTP/1.1" 200 -
2025-03-26 12:51:03,096 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:04,051 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:04] "GET /student/login HTTP/1.1" 200 -
2025-03-26 12:51:04,097 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:18,779 [INFO] - BEGIN (implicit)
2025-03-26 12:51:18,782 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:51:18,782 [INFO] - [generated in 0.00036s] ('user6', 1, 0)
2025-03-26 12:51:18,858 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:18] "[32mPOST /student/login HTTP/1.1[0m" 302 -
2025-03-26 12:51:18,862 [INFO] - BEGIN (implicit)
2025-03-26 12:51:18,863 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:51:18,863 [INFO] - [cached since 84.49s ago] ('6',)
2025-03-26 12:51:18,865 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:18] "GET /student/ HTTP/1.1" 200 -
2025-03-26 12:51:18,938 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:21,864 [INFO] - BEGIN (implicit)
2025-03-26 12:51:21,865 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:51:21,865 [INFO] - [cached since 87.49s ago] ('6',)
2025-03-26 12:51:21,866 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:21] "[32mGET /student/logout HTTP/1.1[0m" 302 -
2025-03-26 12:51:21,870 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:21] "GET /student/ HTTP/1.1" 200 -
2025-03-26 12:51:21,932 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:23,065 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:23] "GET /student/login HTTP/1.1" 200 -
2025-03-26 12:51:23,105 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:23] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:30,196 [INFO] - BEGIN (implicit)
2025-03-26 12:51:30,197 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:51:30,197 [INFO] - [cached since 11.42s ago] ('user6', 1, 0)
2025-03-26 12:51:30,276 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:30] "POST /student/login HTTP/1.1" 200 -
2025-03-26 12:51:30,309 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:34,347 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 12:51:34,347 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:34] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 12:51:38,957 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:38] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 12:51:38,970 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:41,313 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:41] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 12:51:41,355 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:54,979 [INFO] - BEGIN (implicit)
2025-03-26 12:51:54,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:51:54,980 [INFO] - [cached since 120.6s ago] ('user1', 1, 0)
2025-03-26 12:51:55,058 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:55] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 12:51:55,066 [INFO] - BEGIN (implicit)
2025-03-26 12:51:55,066 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:51:55,066 [INFO] - [cached since 120.7s ago] ('1',)
2025-03-26 12:51:55,066 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 12:51:55,141 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:57,940 [INFO] - BEGIN (implicit)
2025-03-26 12:51:57,941 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:51:57,941 [INFO] - [cached since 123.6s ago] ('1',)
2025-03-26 12:51:57,942 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:51:57,943 [INFO] - BEGIN (implicit)
2025-03-26 12:51:57,943 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:51:57,943 [INFO] - [cached since 123.6s ago] ('user1', 1, 0)
2025-03-26 12:51:57,944 [INFO] - ROLLBACK
2025-03-26 12:51:57,944 [INFO] - BEGIN (implicit)
2025-03-26 12:51:57,945 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:51:57,945 [INFO] - [cached since 158.5s ago] ()
2025-03-26 12:51:57,952 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:51:57,952 [INFO] - ROLLBACK
2025-03-26 12:51:57,957 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:57] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:51:57,997 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:51:58,945 [INFO] - BEGIN (implicit)
2025-03-26 12:51:58,946 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:51:58,946 [INFO] - [cached since 124.6s ago] ('1',)
2025-03-26 12:51:58,947 [INFO] - BEGIN (implicit)
2025-03-26 12:51:58,947 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:51:58,947 [INFO] - [cached since 177.3s ago] (3000, 1, 0)
2025-03-26 12:51:58,948 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:51:58,948 [INFO] - [cached since 123.4s ago] ()
2025-03-26 12:51:58,949 [INFO] - ROLLBACK
2025-03-26 12:51:58,949 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:58] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:51:58,986 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:51:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:52:04,033 [INFO] - BEGIN (implicit)
2025-03-26 12:52:04,033 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:52:04,033 [INFO] - [cached since 129.7s ago] ('1',)
2025-03-26 12:52:04,034 [INFO] - BEGIN (implicit)
2025-03-26 12:52:04,035 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:04,035 [INFO] - [cached since 182.4s ago] (3000, 1, 0)
2025-03-26 12:52:04,036 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:52:04,036 [INFO] - [cached since 128.5s ago] ()
2025-03-26 12:52:04,037 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:52:04,038 [INFO] - BEGIN (implicit)
2025-03-26 12:52:04,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:04,039 [INFO] - [cached since 129.7s ago] ('user1', 1, 0)
2025-03-26 12:52:04,040 [INFO] - ROLLBACK
2025-03-26 12:52:04,040 [INFO] - BEGIN (implicit)
2025-03-26 12:52:04,040 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:04,040 [INFO] - [cached since 182.4s ago] (3000, 1, 0)
2025-03-26 12:52:04,115 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 12:52:04,116 [INFO] - [cached since 78.7s ago] ('scrypt:32768:8:1$sCdW6t7ckfM8B8OJ$8185f9a3581058e7a55efe7486c81720d486b43cecdde4a37619a84056d99d0308eb8a06813232a7842236f9d5dc02f057432d6ba5a642cf6bb7075bc7ce2177', 6)
2025-03-26 12:52:04,116 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 12:52:04,116 [INFO] - [cached since 117.7s ago] ('1', 6)
2025-03-26 12:52:04,117 [INFO] - COMMIT
2025-03-26 12:52:04,118 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 12:52:04,118 [INFO] - BEGIN (implicit)
2025-03-26 12:52:04,119 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:52:04,119 [INFO] - [cached since 182.4s ago] (6,)
2025-03-26 12:52:04,119 [INFO] - ROLLBACK
2025-03-26 12:52:04,119 [INFO] - ROLLBACK
2025-03-26 12:52:04,119 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:04] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:52:05,833 [INFO] - BEGIN (implicit)
2025-03-26 12:52:05,834 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:52:05,834 [INFO] - [cached since 131.5s ago] ('1',)
2025-03-26 12:52:05,835 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:52:05,835 [INFO] - BEGIN (implicit)
2025-03-26 12:52:05,836 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:05,836 [INFO] - [cached since 131.5s ago] ('user1', 1, 0)
2025-03-26 12:52:05,836 [INFO] - ROLLBACK
2025-03-26 12:52:05,837 [INFO] - BEGIN (implicit)
2025-03-26 12:52:05,837 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:52:05,837 [INFO] - [cached since 166.4s ago] ()
2025-03-26 12:52:05,843 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:52:05,843 [INFO] - ROLLBACK
2025-03-26 12:52:05,848 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:05] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:52:05,888 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:52:22,239 [INFO] - BEGIN (implicit)
2025-03-26 12:52:22,240 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:52:22,241 [INFO] - [cached since 147.9s ago] ('1',)
2025-03-26 12:52:22,244 [INFO] - BEGIN (implicit)
2025-03-26 12:52:22,245 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:22,245 [INFO] - [cached since 200.6s ago] (3049, 1, 0)
2025-03-26 12:52:22,245 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:52:22,245 [INFO] - [cached since 146.7s ago] ()
2025-03-26 12:52:22,246 [INFO] - ROLLBACK
2025-03-26 12:52:22,246 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:22] "GET /admin/student/3049 HTTP/1.1" 200 -
2025-03-26 12:52:22,279 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:52:26,277 [INFO] - BEGIN (implicit)
2025-03-26 12:52:26,277 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:52:26,277 [INFO] - [cached since 151.9s ago] ('1',)
2025-03-26 12:52:26,278 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:52:26,279 [INFO] - BEGIN (implicit)
2025-03-26 12:52:26,279 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:26,279 [INFO] - [cached since 151.9s ago] ('user1', 1, 0)
2025-03-26 12:52:26,280 [INFO] - ROLLBACK
2025-03-26 12:52:26,280 [INFO] - BEGIN (implicit)
2025-03-26 12:52:26,280 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:52:26,280 [INFO] - [cached since 186.9s ago] ()
2025-03-26 12:52:26,285 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:52:26,285 [INFO] - ROLLBACK
2025-03-26 12:52:26,291 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:26] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:52:26,334 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:52:27,116 [INFO] - BEGIN (implicit)
2025-03-26 12:52:27,117 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:52:27,117 [INFO] - [cached since 152.7s ago] ('1',)
2025-03-26 12:52:27,118 [INFO] - BEGIN (implicit)
2025-03-26 12:52:27,118 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:52:27,119 [INFO] - [cached since 205.5s ago] (3000, 1, 0)
2025-03-26 12:52:27,119 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:52:27,119 [INFO] - [cached since 151.6s ago] ()
2025-03-26 12:52:27,120 [INFO] - ROLLBACK
2025-03-26 12:52:27,121 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:27] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:52:27,162 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:52:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:54:27,739 [INFO] - BEGIN (implicit)
2025-03-26 12:54:27,750 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:27,750 [INFO] - [cached since 273.4s ago] ('1',)
2025-03-26 12:54:27,755 [INFO] - BEGIN (implicit)
2025-03-26 12:54:27,755 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:27,755 [INFO] - [cached since 326.1s ago] (3000, 1, 0)
2025-03-26 12:54:27,781 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:54:27,781 [INFO] - [cached since 272.3s ago] ()
2025-03-26 12:54:27,786 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:54:27,786 [INFO] - BEGIN (implicit)
2025-03-26 12:54:27,786 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:27,786 [INFO] - [cached since 273.4s ago] ('user1', 1, 0)
2025-03-26 12:54:27,802 [INFO] - ROLLBACK
2025-03-26 12:54:27,803 [INFO] - BEGIN (implicit)
2025-03-26 12:54:27,803 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:27,803 [INFO] - [cached since 326.2s ago] (3000, 1, 0)
2025-03-26 12:54:27,879 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 12:54:27,879 [INFO] - [generated in 0.00016s] ('scrypt:32768:8:1$83yDqL1SlYEY4mal$d1e38079d8bc40bb93c0f8a325d3d1a06f54233fdde5f1c4141341a70bfbeff39c36d9d915a2dd1a4dc7fdf17ac9b8efd6a86ff90d17bdf9ea7cfe0ead691000', 'iVBORw0KGgoAAAANSUhEUgAABLAAAASwCAYAAADrIbPPAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwwAADsMBx2+oZAAA//9JREFUeJzsvWmX4zjWrXcAkJQiIocasqburve+177fbP8lL3/3b ... (823742 characters truncated) ... JCnUa/NU6G7eOjyl8yqfonLCd8BhFT+On76x53JjHd942+RONLlj/R+23weusR2A9b/t4bAnbB0Musofu8aKuKE5SisuaikVJ88mMxtkVJaOh6+DopZfPl/8HeqfXB+WfNe0AAAAASUVORK5CYII=', 6)
2025-03-26 12:54:27,893 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 12:54:27,893 [INFO] - [cached since 261.5s ago] ('1', 6)
2025-03-26 12:54:27,894 [INFO] - COMMIT
2025-03-26 12:54:28,073 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 12:54:28,074 [INFO] - BEGIN (implicit)
2025-03-26 12:54:28,074 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:54:28,074 [INFO] - [cached since 326.4s ago] (6,)
2025-03-26 12:54:28,075 [INFO] - ROLLBACK
2025-03-26 12:54:28,075 [INFO] - ROLLBACK
2025-03-26 12:54:28,076 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:28] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:54:29,701 [INFO] - BEGIN (implicit)
2025-03-26 12:54:29,702 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:29,702 [INFO] - [cached since 275.3s ago] ('1',)
2025-03-26 12:54:29,703 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:54:29,705 [INFO] - BEGIN (implicit)
2025-03-26 12:54:29,705 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:29,706 [INFO] - [cached since 275.3s ago] ('user1', 1, 0)
2025-03-26 12:54:29,707 [INFO] - ROLLBACK
2025-03-26 12:54:29,707 [INFO] - BEGIN (implicit)
2025-03-26 12:54:29,707 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:54:29,708 [INFO] - [cached since 310.3s ago] ()
2025-03-26 12:54:29,896 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:54:29,896 [INFO] - ROLLBACK
2025-03-26 12:54:29,910 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:29] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:54:29,936 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:54:32,740 [INFO] - BEGIN (implicit)
2025-03-26 12:54:32,741 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:32,741 [INFO] - [cached since 278.4s ago] ('1',)
2025-03-26 12:54:32,742 [INFO] - BEGIN (implicit)
2025-03-26 12:54:32,743 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:32,743 [INFO] - [cached since 331.1s ago] (3000, 1, 0)
2025-03-26 12:54:32,797 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:54:32,797 [INFO] - [cached since 277.3s ago] ()
2025-03-26 12:54:32,799 [INFO] - ROLLBACK
2025-03-26 12:54:32,800 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:32] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:54:32,848 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:54:40,438 [INFO] - BEGIN (implicit)
2025-03-26 12:54:40,439 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:40,439 [INFO] - [cached since 286.1s ago] ('1',)
2025-03-26 12:54:40,439 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:54:40,440 [INFO] - BEGIN (implicit)
2025-03-26 12:54:40,440 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:40,440 [INFO] - [cached since 286.1s ago] ('user1', 1, 0)
2025-03-26 12:54:40,440 [INFO] - ROLLBACK
2025-03-26 12:54:40,441 [INFO] - BEGIN (implicit)
2025-03-26 12:54:40,441 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:54:40,441 [INFO] - [cached since 321s ago] ()
2025-03-26 12:54:40,448 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:54:40,448 [INFO] - ROLLBACK
2025-03-26 12:54:40,455 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:54:40,503 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:54:44,758 [INFO] - BEGIN (implicit)
2025-03-26 12:54:44,758 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:44,758 [INFO] - [cached since 290.4s ago] ('1',)
2025-03-26 12:54:44,759 [INFO] - BEGIN (implicit)
2025-03-26 12:54:44,759 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:44,760 [INFO] - [cached since 343.1s ago] (3000, 1, 0)
2025-03-26 12:54:44,766 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:54:44,766 [INFO] - [cached since 289.3s ago] ()
2025-03-26 12:54:44,769 [INFO] - ROLLBACK
2025-03-26 12:54:44,770 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:44] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:54:44,819 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:54:55,682 [INFO] - BEGIN (implicit)
2025-03-26 12:54:55,684 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:55,684 [INFO] - [cached since 301.3s ago] ('1',)
2025-03-26 12:54:55,685 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:54:55,685 [INFO] - BEGIN (implicit)
2025-03-26 12:54:55,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:55,686 [INFO] - [cached since 301.3s ago] ('user1', 1, 0)
2025-03-26 12:54:55,689 [INFO] - ROLLBACK
2025-03-26 12:54:55,689 [INFO] - BEGIN (implicit)
2025-03-26 12:54:55,690 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:54:55,690 [INFO] - [cached since 336.3s ago] ()
2025-03-26 12:54:55,702 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:54:55,702 [INFO] - ROLLBACK
2025-03-26 12:54:55,708 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:55] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:54:55,743 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:54:57,599 [INFO] - BEGIN (implicit)
2025-03-26 12:54:57,600 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:54:57,600 [INFO] - [cached since 303.2s ago] ('1',)
2025-03-26 12:54:57,601 [INFO] - BEGIN (implicit)
2025-03-26 12:54:57,601 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:54:57,601 [INFO] - [cached since 356s ago] (3000, 1, 0)
2025-03-26 12:54:57,605 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:54:57,605 [INFO] - [cached since 302.1s ago] ()
2025-03-26 12:54:57,609 [INFO] - ROLLBACK
2025-03-26 12:54:57,610 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:57] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:54:57,659 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:54:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 12:55:24,689 [INFO] - BEGIN (implicit)
2025-03-26 12:55:24,691 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:55:24,691 [INFO] - [cached since 330.3s ago] ('1',)
2025-03-26 12:55:24,692 [INFO] - BEGIN (implicit)
2025-03-26 12:55:24,693 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:55:24,693 [INFO] - [cached since 383s ago] (3000, 1, 0)
2025-03-26 12:55:24,696 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 12:55:24,697 [INFO] - [cached since 329.2s ago] ()
2025-03-26 12:55:24,699 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:55:24,700 [INFO] - BEGIN (implicit)
2025-03-26 12:55:24,700 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:55:24,700 [INFO] - [cached since 330.3s ago] ('user1', 1, 0)
2025-03-26 12:55:24,701 [INFO] - ROLLBACK
2025-03-26 12:55:24,701 [INFO] - BEGIN (implicit)
2025-03-26 12:55:24,701 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 12:55:24,701 [INFO] - [cached since 383.1s ago] (3000, 1, 0)
2025-03-26 12:55:24,776 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 12:55:24,776 [INFO] - [cached since 56.9s ago] ('scrypt:32768:8:1$aOVrf5ZfOB3f3xA2$aa8f74bfa4d57d7d8d4092bca8e5361c81144894b4edaaea70d448edac133919c97b6c9f44c57f04beec3dd1dbdd1ba89e0bf72ed308ea9b90dfea96d0b9080e', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 6)
2025-03-26 12:55:24,777 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 12:55:24,777 [INFO] - [cached since 318.4s ago] ('1', 6)
2025-03-26 12:55:24,777 [INFO] - COMMIT
2025-03-26 12:55:24,830 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 12:55:24,830 [INFO] - BEGIN (implicit)
2025-03-26 12:55:24,830 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 12:55:24,830 [INFO] - [cached since 383.1s ago] (6,)
2025-03-26 12:55:24,830 [INFO] - ROLLBACK
2025-03-26 12:55:24,830 [INFO] - ROLLBACK
2025-03-26 12:55:24,831 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:55:24] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 12:55:26,263 [INFO] - BEGIN (implicit)
2025-03-26 12:55:26,264 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 12:55:26,264 [INFO] - [cached since 331.9s ago] ('1',)
2025-03-26 12:55:26,264 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 12:55:26,265 [INFO] - BEGIN (implicit)
2025-03-26 12:55:26,265 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 12:55:26,265 [INFO] - [cached since 331.9s ago] ('user1', 1, 0)
2025-03-26 12:55:26,268 [INFO] - ROLLBACK
2025-03-26 12:55:26,268 [INFO] - BEGIN (implicit)
2025-03-26 12:55:26,269 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 12:55:26,269 [INFO] - [cached since 366.9s ago] ()
2025-03-26 12:55:26,281 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 12:55:26,281 [INFO] - ROLLBACK
2025-03-26 12:55:26,285 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:55:26] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 12:55:26,327 [INFO] - 127.0.0.1 - - [26/Mar/2025 12:55:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:03:46,038 [INFO] - BEGIN (implicit)
2025-03-26 13:03:46,038 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:03:46,038 [INFO] - [raw sql] ()
2025-03-26 13:03:46,038 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:03:46,039 [INFO] - [raw sql] ()
2025-03-26 13:03:46,039 [INFO] - COMMIT
2025-03-26 13:03:46,052 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:03:46,052 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:03:48,847 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,849 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,849 [INFO] - [generated in 0.00013s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:48,861 [INFO] - ROLLBACK
2025-03-26 13:03:48,861 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:48,861 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,862 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,862 [INFO] - [generated in 0.00012s] ('test_student', 1, 0)
2025-03-26 13:03:48,862 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,862 [INFO] - [generated in 0.00008s] ('john.doe@example.com', 1, 0)
2025-03-26 13:03:48,932 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 13:03:48,932 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$6l4289KegrAgkKg7$c2214e966090b6ace2f4f860ae1fc4c33e55dff0eed4d93fe0550cf942dfe925604215ee21cc89f562b0a200a478db9237968ab13bf6131cb6e4dd8aba99e292', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 13:03:48,969 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,969 [INFO] - [generated in 0.00011s] ('1', 1, 0)
2025-03-26 13:03:48,970 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 13:03:48,970 [INFO] - [generated in 0.00006s] ()
2025-03-26 13:03:48,970 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 13:03:48,971 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 13:03:48,971 [INFO] - COMMIT
2025-03-26 13:03:48,985 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,986 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:03:48,986 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 13:03:48,986 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 13:03:48,986 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 13:03:48,986 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:03:48,987 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,987 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-26 13:03:48,987 [INFO] - ROLLBACK
2025-03-26 13:03:48,987 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:48] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 13:03:48,989 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,989 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,989 [INFO] - [cached since 0.1405s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:48,990 [INFO] - ROLLBACK
2025-03-26 13:03:48,990 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:48,990 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,993 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 13:03:48,993 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 13:03:48,994 [INFO] - ROLLBACK
2025-03-26 13:03:48,994 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:48] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:03:48,996 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,996 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,996 [INFO] - [cached since 0.1468s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:48,996 [INFO] - ROLLBACK
2025-03-26 13:03:48,996 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:48,996 [INFO] - BEGIN (implicit)
2025-03-26 13:03:48,997 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:48,997 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-26 13:03:48,998 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 13:03:48,998 [INFO] - [generated in 0.00006s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 13:03:48,999 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 13:03:48,999 [INFO] - [generated in 0.00005s] ('2005-05-16', 71)
2025-03-26 13:03:48,999 [INFO] - COMMIT
2025-03-26 13:03:49,045 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 13:03:49,046 [INFO] - BEGIN (implicit)
2025-03-26 13:03:49,047 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:03:49,047 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 13:03:49,047 [INFO] - ROLLBACK
2025-03-26 13:03:49,048 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:49] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:03:49,049 [INFO] - BEGIN (implicit)
2025-03-26 13:03:49,049 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:49,049 [INFO] - [cached since 0.2005s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:49,050 [INFO] - ROLLBACK
2025-03-26 13:03:49,050 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:49,050 [INFO] - BEGIN (implicit)
2025-03-26 13:03:49,051 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:49,051 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 13:03:49,052 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 13:03:49,052 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:03:49,053 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 13:03:49,053 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:03:49,053 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 13:03:49,053 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:03:49,054 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 13:03:49,054 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:03:49,055 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 13:03:49,055 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:03:49,055 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 13:03:49,055 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:03:49,056 [INFO] - COMMIT
2025-03-26 13:03:49,062 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 13:03:49,063 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:49] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:03:49,065 [INFO] - BEGIN (implicit)
2025-03-26 13:03:49,065 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:49,065 [INFO] - [cached since 0.2157s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:49,065 [INFO] - ROLLBACK
2025-03-26 13:03:49,065 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:49,065 [INFO] - BEGIN (implicit)
2025-03-26 13:03:49,066 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:03:49,066 [INFO] - [generated in 0.00012s] ()
2025-03-26 13:03:49,183 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 13:03:49,183 [INFO] - ROLLBACK
2025-03-26 13:03:49,187 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:49] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 13:03:55,931 [INFO] - BEGIN (implicit)
2025-03-26 13:03:55,932 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:55,932 [INFO] - [cached since 7.083s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:55,933 [INFO] - ROLLBACK
2025-03-26 13:03:55,933 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:55,933 [INFO] - BEGIN (implicit)
2025-03-26 13:03:55,934 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:55,934 [INFO] - [cached since 7.072s ago] ('test_student', 1, 0)
2025-03-26 13:03:55,934 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:55,934 [INFO] - [cached since 7.072s ago] ('john.doe@example.com', 1, 0)
2025-03-26 13:03:56,007 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 13:03:56,007 [INFO] - [cached since 7.075s ago] ('test_student', 'scrypt:32768:8:1$5pN01knqkRapsyqs$dae0985be91907d2943a11c3349c1fc7d406d6da882778eebe8941c35b643f6868a47f403ceb68f834a80a07856788378f97e5d828346c9971a2ffccfa62ab5b', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 13:03:56,008 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,008 [INFO] - [cached since 7.039s ago] ('1', 1, 0)
2025-03-26 13:03:56,008 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 13:03:56,009 [INFO] - [cached since 7.039s ago] ()
2025-03-26 13:03:56,009 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 13:03:56,009 [INFO] - [cached since 7.038s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 13:03:56,009 [INFO] - COMMIT
2025-03-26 13:03:56,036 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,036 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:03:56,036 [INFO] - [cached since 7.05s ago] (71,)
2025-03-26 13:03:56,036 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 13:03:56,036 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 13:03:56,036 [INFO] - [cached since 7.05s ago] (71,)
2025-03-26 13:03:56,037 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,037 [INFO] - [cached since 7.05s ago] (1, 1, 0)
2025-03-26 13:03:56,037 [INFO] - ROLLBACK
2025-03-26 13:03:56,037 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:56] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 13:03:56,039 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,039 [INFO] - [cached since 7.19s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:56,040 [INFO] - ROLLBACK
2025-03-26 13:03:56,040 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:56,040 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,040 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 13:03:56,040 [INFO] - [cached since 7.047s ago] (3050, 1, 0)
2025-03-26 13:03:56,041 [INFO] - ROLLBACK
2025-03-26 13:03:56,041 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:56] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:03:56,043 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,043 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,043 [INFO] - [cached since 7.194s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:56,043 [INFO] - ROLLBACK
2025-03-26 13:03:56,043 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:56,043 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,043 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,043 [INFO] - [cached since 7.046s ago] (3050, 1, 0)
2025-03-26 13:03:56,044 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 13:03:56,044 [INFO] - [cached since 7.046s ago] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 13:03:56,044 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 13:03:56,044 [INFO] - [cached since 7.045s ago] ('2005-05-16', 71)
2025-03-26 13:03:56,044 [INFO] - COMMIT
2025-03-26 13:03:56,067 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 13:03:56,067 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,067 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:03:56,068 [INFO] - [cached since 7.021s ago] (71,)
2025-03-26 13:03:56,068 [INFO] - ROLLBACK
2025-03-26 13:03:56,068 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:56] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:03:56,069 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,070 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,070 [INFO] - [cached since 7.221s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:03:56,070 [INFO] - ROLLBACK
2025-03-26 13:03:56,070 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:03:56,070 [INFO] - BEGIN (implicit)
2025-03-26 13:03:56,070 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:03:56,070 [INFO] - [cached since 7.019s ago] (3050, 1, 0)
2025-03-26 13:03:56,070 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 13:03:56,070 [INFO] - [cached since 7.017s ago] (71,)
2025-03-26 13:03:56,071 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 13:03:56,071 [INFO] - [cached since 7.017s ago] (71,)
2025-03-26 13:03:56,071 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 13:03:56,071 [INFO] - [cached since 7.019s ago] (71,)
2025-03-26 13:03:56,071 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 13:03:56,071 [INFO] - [cached since 7.019s ago] (71,)
2025-03-26 13:03:56,071 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 13:03:56,071 [INFO] - [cached since 7.017s ago] (71,)
2025-03-26 13:03:56,077 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 13:03:56,077 [INFO] - [cached since 7.022s ago] (71,)
2025-03-26 13:03:56,078 [INFO] - COMMIT
2025-03-26 13:03:56,083 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 13:03:56,083 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:03:56] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:04:06,564 [INFO] - BEGIN (implicit)
2025-03-26 13:04:06,567 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:04:06,568 [INFO] - [generated in 0.00054s] ('1',)
2025-03-26 13:04:06,569 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:04:06,570 [INFO] - BEGIN (implicit)
2025-03-26 13:04:06,570 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:06,570 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-26 13:04:06,616 [INFO] - ROLLBACK
2025-03-26 13:04:06,616 [INFO] - BEGIN (implicit)
2025-03-26 13:04:06,616 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:04:06,616 [INFO] - [cached since 17.55s ago] ()
2025-03-26 13:04:06,638 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:04:06,639 [INFO] - ROLLBACK
2025-03-26 13:04:06,672 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:04:06,754 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:04:07,780 [INFO] - BEGIN (implicit)
2025-03-26 13:04:07,781 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:04:07,781 [INFO] - [cached since 1.214s ago] ('1',)
2025-03-26 13:04:07,782 [INFO] - BEGIN (implicit)
2025-03-26 13:04:07,782 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:07,782 [INFO] - [cached since 18.79s ago] (3000, 1, 0)
2025-03-26 13:04:07,783 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:04:07,783 [INFO] - [generated in 0.00017s] ()
2025-03-26 13:04:07,825 [INFO] - ROLLBACK
2025-03-26 13:04:07,825 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:07] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:04:07,872 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:04:17,341 [INFO] - BEGIN (implicit)
2025-03-26 13:04:17,342 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:04:17,343 [INFO] - [cached since 10.78s ago] ('1',)
2025-03-26 13:04:17,344 [INFO] - BEGIN (implicit)
2025-03-26 13:04:17,344 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:17,344 [INFO] - [cached since 28.35s ago] (3000, 1, 0)
2025-03-26 13:04:17,382 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:04:17,382 [INFO] - [cached since 9.599s ago] ()
2025-03-26 13:04:17,386 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:04:17,386 [INFO] - BEGIN (implicit)
2025-03-26 13:04:17,386 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:17,386 [INFO] - [cached since 10.82s ago] ('user1', 1, 0)
2025-03-26 13:04:17,387 [INFO] - ROLLBACK
2025-03-26 13:04:17,387 [INFO] - BEGIN (implicit)
2025-03-26 13:04:17,388 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:17,388 [INFO] - [cached since 28.39s ago] (3000, 1, 0)
2025-03-26 13:04:17,909 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:04:17,909 [INFO] - [generated in 0.00013s] ('scrypt:32768:8:1$pZz3mNAi5uVX7f8n$6f729fda3371ef8e2cb7ea080610630599cfc7739be3d6ccd8e3be9048176447210b42d8198f7495334b0d00d574db58b1900b460c1fb88bc71989a1effaf06f', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAOa0lEQVR4nI1ZyXMc13l/e+89KxaCFEiCpCxqsRwllq1Eju2rb6nkkkvKh9xyS1Uu+SNyyX+QlCuVSg7WJanEJcmJnNhVimRJpESDG ... (4702 characters truncated) ... ccAIPtvYn4wlIbaiVyVROUqVyRokFqDOfI2IxTHWaDIdR4AWv3rj2kx86jbhMWaGsT7dHUlpNcZnGWYspJh6FMu3HOJWpLmSpq6UzLn8XSLe65Y8hJ9Xo/wFkLnYxsRx8AgAAAABJRU5ErkJggg==', 6)
2025-03-26 13:04:17,910 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:04:17,910 [INFO] - [generated in 0.00006s] ('1', 6)
2025-03-26 13:04:17,910 [INFO] - COMMIT
2025-03-26 13:04:17,913 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:04:17,913 [INFO] - BEGIN (implicit)
2025-03-26 13:04:17,913 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:04:17,913 [INFO] - [cached since 28.87s ago] (6,)
2025-03-26 13:04:17,913 [INFO] - ROLLBACK
2025-03-26 13:04:17,914 [INFO] - ROLLBACK
2025-03-26 13:04:17,914 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:17] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:04:19,843 [INFO] - BEGIN (implicit)
2025-03-26 13:04:19,844 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:04:19,844 [INFO] - [cached since 13.28s ago] ('1',)
2025-03-26 13:04:19,844 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:04:19,845 [INFO] - BEGIN (implicit)
2025-03-26 13:04:19,845 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:19,845 [INFO] - [cached since 13.27s ago] ('user1', 1, 0)
2025-03-26 13:04:19,845 [INFO] - ROLLBACK
2025-03-26 13:04:19,846 [INFO] - BEGIN (implicit)
2025-03-26 13:04:19,846 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:04:19,846 [INFO] - [cached since 30.78s ago] ()
2025-03-26 13:04:19,864 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:04:19,864 [INFO] - ROLLBACK
2025-03-26 13:04:19,868 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:19] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:04:19,910 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:04:24,178 [INFO] - BEGIN (implicit)
2025-03-26 13:04:24,178 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:04:24,178 [INFO] - [cached since 17.61s ago] ('1',)
2025-03-26 13:04:24,179 [INFO] - BEGIN (implicit)
2025-03-26 13:04:24,180 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:04:24,180 [INFO] - [cached since 35.18s ago] (3000, 1, 0)
2025-03-26 13:04:24,180 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:04:24,181 [INFO] - [cached since 16.4s ago] ()
2025-03-26 13:04:24,181 [INFO] - ROLLBACK
2025-03-26 13:04:24,182 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:24] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:04:24,216 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:04:24] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:08:50,743 [INFO] - BEGIN (implicit)
2025-03-26 13:08:50,743 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:08:50,743 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:08:50,744 [INFO] - [raw sql] ()
2025-03-26 13:08:50,744 [INFO] - COMMIT
2025-03-26 13:08:50,760 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:08:50,760 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:08:54,516 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,518 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,521 [INFO] - [generated in 0.00013s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:08:54,531 [INFO] - ROLLBACK
2025-03-26 13:08:54,531 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:08:54,532 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,532 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,532 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 13:08:54,533 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,533 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-26 13:08:54,608 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 13:08:54,608 [INFO] - [generated in 0.00014s] ('test_student', 'scrypt:32768:8:1$j7DcDF3UJ82JnOGs$ad8d2d27f0583ebc062c7e56de56ba78531ed5149d0900f715f49394038dfd94389901923d3762fbbae1e914c851cea5f077d10e9c8ed119d4489a1a1eafc536', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 13:08:54,630 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,630 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-26 13:08:54,632 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 13:08:54,632 [INFO] - [generated in 0.00007s] ()
2025-03-26 13:08:54,633 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 13:08:54,633 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 13:08:54,634 [INFO] - COMMIT
2025-03-26 13:08:54,699 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,699 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:08:54,699 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 13:08:54,699 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 13:08:54,700 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 13:08:54,700 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 13:08:54,701 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,701 [INFO] - [generated in 0.00010s] (1, 1, 0)
2025-03-26 13:08:54,701 [INFO] - ROLLBACK
2025-03-26 13:08:54,701 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:08:54] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 13:08:54,703 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,704 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,704 [INFO] - [cached since 0.186s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:08:54,704 [INFO] - ROLLBACK
2025-03-26 13:08:54,704 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:08:54,704 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,708 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 13:08:54,708 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-26 13:08:54,717 [INFO] - ROLLBACK
2025-03-26 13:08:54,718 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:08:54] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:08:54,719 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,720 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,720 [INFO] - [cached since 0.202s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:08:54,720 [INFO] - ROLLBACK
2025-03-26 13:08:54,720 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:08:54,720 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,721 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,721 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 13:08:54,722 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 13:08:54,722 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 13:08:54,723 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 13:08:54,723 [INFO] - [generated in 0.00007s] ('2005-05-16', 71)
2025-03-26 13:08:54,723 [INFO] - COMMIT
2025-03-26 13:08:54,750 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 13:08:54,750 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,751 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:08:54,751 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 13:08:54,752 [INFO] - ROLLBACK
2025-03-26 13:08:54,752 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:08:54] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:08:54,753 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,753 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,753 [INFO] - [cached since 0.2357s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:08:54,753 [INFO] - ROLLBACK
2025-03-26 13:08:54,753 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:08:54,754 [INFO] - BEGIN (implicit)
2025-03-26 13:08:54,755 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:08:54,755 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 13:08:54,755 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 13:08:54,755 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 13:08:54,756 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 13:08:54,756 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:08:54,757 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 13:08:54,757 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:08:54,757 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 13:08:54,757 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 13:08:54,758 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 13:08:54,758 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:08:54,758 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 13:08:54,758 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:08:54,759 [INFO] - COMMIT
2025-03-26 13:08:54,765 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 13:08:54,765 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:08:54] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:09:10,161 [INFO] - BEGIN (implicit)
2025-03-26 13:09:10,164 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:10,164 [INFO] - [generated in 0.00026s] ('1',)
2025-03-26 13:09:10,204 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:10,205 [INFO] - BEGIN (implicit)
2025-03-26 13:09:10,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:10,206 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 13:09:10,208 [INFO] - ROLLBACK
2025-03-26 13:09:10,208 [INFO] - BEGIN (implicit)
2025-03-26 13:09:10,210 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:09:10,210 [INFO] - [generated in 0.00008s] ()
2025-03-26 13:09:10,387 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:09:10,387 [INFO] - ROLLBACK
2025-03-26 13:09:10,409 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:10] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:09:10,492 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:09:11,839 [INFO] - BEGIN (implicit)
2025-03-26 13:09:11,839 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:11,839 [INFO] - [cached since 1.675s ago] ('1',)
2025-03-26 13:09:11,840 [INFO] - BEGIN (implicit)
2025-03-26 13:09:11,840 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:11,840 [INFO] - [cached since 17.12s ago] (3000, 1, 0)
2025-03-26 13:09:11,841 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:09:11,841 [INFO] - [generated in 0.00013s] ()
2025-03-26 13:09:11,876 [INFO] - ROLLBACK
2025-03-26 13:09:11,876 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:11] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:09:11,920 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:09:17,592 [INFO] - BEGIN (implicit)
2025-03-26 13:09:17,593 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:17,593 [INFO] - [cached since 7.43s ago] ('1',)
2025-03-26 13:09:17,595 [INFO] - BEGIN (implicit)
2025-03-26 13:09:17,595 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:17,595 [INFO] - [cached since 22.87s ago] (3000, 1, 0)
2025-03-26 13:09:17,602 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:09:17,602 [INFO] - [cached since 5.761s ago] ()
2025-03-26 13:09:17,607 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:17,608 [INFO] - BEGIN (implicit)
2025-03-26 13:09:17,608 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:17,608 [INFO] - [cached since 7.402s ago] ('user1', 1, 0)
2025-03-26 13:09:17,608 [INFO] - ROLLBACK
2025-03-26 13:09:17,608 [INFO] - BEGIN (implicit)
2025-03-26 13:09:17,609 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:17,609 [INFO] - [cached since 22.89s ago] (3000, 1, 0)
2025-03-26 13:09:17,783 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:09:17,783 [INFO] - [generated in 0.00013s] ('scrypt:32768:8:1$c2tjQXXCcW9bTOK7$5a53b88b914eb8668f4b0550280aa149d696d64dd92ed1b4cf5c3e73f98387b54a1c0d9ca0287b262091050c4926ed822e4c9efb4bf68084b16d9f2fdd137f56', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQfElEQVR4nJ2ayXNcx33HP9391pl5MwAGGymJqyhLsmU5SizbiZzYV99SySWXlA+55ZaqXPJH5JL/IClXKpUcrEtSictLYid2lWNbC ... (5406 characters truncated) ... lSWUoRkOKwZiynHqA7mDiQlDDuaURlmE1ZtTtktVT6q9f5sJ3/oh4sYl1UregNWz0CgpToVzPx7hwL/whR6rsDOwLwbgYU+XFzB+dbXjfkIzv7M3+r+IEP/g/Q0t3MDdnm0AAAAAASUVORK5CYII=', 6)
2025-03-26 13:09:17,794 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:09:17,794 [INFO] - [generated in 0.00006s] ('1', 6)
2025-03-26 13:09:17,794 [INFO] - COMMIT
2025-03-26 13:09:17,797 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:09:17,797 [INFO] - BEGIN (implicit)
2025-03-26 13:09:17,797 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:09:17,797 [INFO] - [cached since 23.05s ago] (6,)
2025-03-26 13:09:17,798 [INFO] - ROLLBACK
2025-03-26 13:09:17,798 [INFO] - ROLLBACK
2025-03-26 13:09:17,798 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:17] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:09:19,143 [INFO] - BEGIN (implicit)
2025-03-26 13:09:19,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:19,144 [INFO] - [cached since 8.98s ago] ('1',)
2025-03-26 13:09:19,144 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:19,146 [INFO] - BEGIN (implicit)
2025-03-26 13:09:19,147 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:19,147 [INFO] - [cached since 8.942s ago] ('user1', 1, 0)
2025-03-26 13:09:19,197 [INFO] - ROLLBACK
2025-03-26 13:09:19,197 [INFO] - BEGIN (implicit)
2025-03-26 13:09:19,197 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:09:19,197 [INFO] - [cached since 8.987s ago] ()
2025-03-26 13:09:19,208 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:09:19,208 [INFO] - ROLLBACK
2025-03-26 13:09:19,212 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:19] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:09:19,265 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:09:22,850 [INFO] - BEGIN (implicit)
2025-03-26 13:09:22,851 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:22,851 [INFO] - [cached since 12.69s ago] ('1',)
2025-03-26 13:09:22,852 [INFO] - BEGIN (implicit)
2025-03-26 13:09:22,852 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:22,852 [INFO] - [cached since 28.13s ago] (3000, 1, 0)
2025-03-26 13:09:22,853 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:09:22,853 [INFO] - [cached since 11.01s ago] ()
2025-03-26 13:09:22,854 [INFO] - ROLLBACK
2025-03-26 13:09:22,854 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:22] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:09:22,899 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:09:27,456 [INFO] - BEGIN (implicit)
2025-03-26 13:09:27,457 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:27,457 [INFO] - [cached since 17.29s ago] ('1',)
2025-03-26 13:09:27,460 [INFO] - BEGIN (implicit)
2025-03-26 13:09:27,460 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:27,460 [INFO] - [cached since 32.74s ago] (3000, 1, 0)
2025-03-26 13:09:27,461 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:09:27,461 [INFO] - [cached since 15.62s ago] ()
2025-03-26 13:09:27,465 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:27,466 [INFO] - BEGIN (implicit)
2025-03-26 13:09:27,466 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:27,466 [INFO] - [cached since 17.26s ago] ('user1', 1, 0)
2025-03-26 13:09:27,471 [INFO] - ROLLBACK
2025-03-26 13:09:27,471 [INFO] - BEGIN (implicit)
2025-03-26 13:09:27,471 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:27,471 [INFO] - [cached since 32.75s ago] (3000, 1, 0)
2025-03-26 13:09:27,577 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:09:27,577 [INFO] - [cached since 9.795s ago] ('scrypt:32768:8:1$pbhtpv81rF2u4Eaj$75ada0e53accfc28e05d95c77117d289020aec60fe18b65c05fd2dfb8b296b7b7c5dd5b31b5109259a46e9176141b999b33f91b8e242b42eb833909db3d4802e', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGx0lEQVR4nO2Y+4skVxXHP+fequrueceQuG40mw3RxEhQDGh+2Pgg4k/iL8Efgn+gvwlqUAkKIopBZCFEd10UDWR2cTI7j52e7uquu ... (2094 characters truncated) ... T5+wuufnFtXOgYgjpwt6t6S4Sm8UaI1fig585tWkPZXMLin6jIf3Apd+EvEuokxKsIfqAWEssR8TjYauN+R1Ixeobm+rRUL8ILop+SUta0pKWtKQlLYlz9F+8VTkj09V/VAAAAABJRU5ErkJggg==', 6)
2025-03-26 13:09:27,579 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:09:27,579 [INFO] - [cached since 9.785s ago] ('1', 6)
2025-03-26 13:09:27,579 [INFO] - COMMIT
2025-03-26 13:09:27,637 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:09:27,637 [INFO] - BEGIN (implicit)
2025-03-26 13:09:27,638 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:09:27,638 [INFO] - [cached since 32.89s ago] (6,)
2025-03-26 13:09:27,638 [INFO] - ROLLBACK
2025-03-26 13:09:27,638 [INFO] - ROLLBACK
2025-03-26 13:09:27,638 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:27] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:09:28,684 [INFO] - BEGIN (implicit)
2025-03-26 13:09:28,684 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:28,685 [INFO] - [cached since 18.52s ago] ('1',)
2025-03-26 13:09:28,686 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:28,686 [INFO] - BEGIN (implicit)
2025-03-26 13:09:28,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:28,686 [INFO] - [cached since 18.48s ago] ('user1', 1, 0)
2025-03-26 13:09:28,687 [INFO] - ROLLBACK
2025-03-26 13:09:28,687 [INFO] - BEGIN (implicit)
2025-03-26 13:09:28,688 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:09:28,688 [INFO] - [cached since 18.48s ago] ()
2025-03-26 13:09:28,716 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:09:28,716 [INFO] - ROLLBACK
2025-03-26 13:09:28,720 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:28] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:09:28,764 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:09:33,274 [INFO] - BEGIN (implicit)
2025-03-26 13:09:33,274 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:33,275 [INFO] - [cached since 23.11s ago] ('1',)
2025-03-26 13:09:33,276 [INFO] - BEGIN (implicit)
2025-03-26 13:09:33,276 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:33,276 [INFO] - [cached since 38.56s ago] (3000, 1, 0)
2025-03-26 13:09:33,277 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:09:33,277 [INFO] - [cached since 21.44s ago] ()
2025-03-26 13:09:33,277 [INFO] - ROLLBACK
2025-03-26 13:09:33,278 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:33] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:09:33,316 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:09:41,195 [INFO] - BEGIN (implicit)
2025-03-26 13:09:41,196 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:41,196 [INFO] - [cached since 31.03s ago] ('1',)
2025-03-26 13:09:41,197 [INFO] - BEGIN (implicit)
2025-03-26 13:09:41,197 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:41,197 [INFO] - [cached since 46.48s ago] (3000, 1, 0)
2025-03-26 13:09:41,198 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:09:41,198 [INFO] - [cached since 29.36s ago] ()
2025-03-26 13:09:41,204 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:41,205 [INFO] - BEGIN (implicit)
2025-03-26 13:09:41,205 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:41,205 [INFO] - [cached since 31s ago] ('user1', 1, 0)
2025-03-26 13:09:41,207 [INFO] - ROLLBACK
2025-03-26 13:09:41,208 [INFO] - BEGIN (implicit)
2025-03-26 13:09:41,208 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:41,208 [INFO] - [cached since 46.49s ago] (3000, 1, 0)
2025-03-26 13:09:41,306 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:09:41,306 [INFO] - [cached since 23.52s ago] ('scrypt:32768:8:1$bqBwZ0G22eLAkebz$af5ae14a4e9fb9734207af8b64cf5f7d3a76e2f523d27b98a37c1af4675bb841facd3c66f0f8d406e20688cba6bd45bf8869fc75cc9d4dd30c4f28356c71fc1e', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQfElEQVR4nJ2ayXNcx33HP9391pl5MwAGGymJqyhLsmU5SizbiZzYV99SySWXlA+55ZaqXPJH5JL/IClXKpUcrEtSictLYid2lWNbC ... (5406 characters truncated) ... lSWUoRkOKwZiynHqA7mDiQlDDuaURlmE1ZtTtktVT6q9f5sJ3/oh4sYl1UregNWz0CgpToVzPx7hwL/whR6rsDOwLwbgYU+XFzB+dbXjfkIzv7M3+r+IEP/g/Q0t3MDdnm0AAAAAASUVORK5CYII=', 6)
2025-03-26 13:09:41,355 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:09:41,355 [INFO] - [cached since 23.56s ago] ('1', 6)
2025-03-26 13:09:41,355 [INFO] - COMMIT
2025-03-26 13:09:41,373 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:09:41,373 [INFO] - BEGIN (implicit)
2025-03-26 13:09:41,373 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:09:41,373 [INFO] - [cached since 46.62s ago] (6,)
2025-03-26 13:09:41,374 [INFO] - ROLLBACK
2025-03-26 13:09:41,374 [INFO] - ROLLBACK
2025-03-26 13:09:41,374 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:41] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:09:42,588 [INFO] - BEGIN (implicit)
2025-03-26 13:09:42,588 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:09:42,588 [INFO] - [cached since 32.42s ago] ('1',)
2025-03-26 13:09:42,589 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:09:42,589 [INFO] - BEGIN (implicit)
2025-03-26 13:09:42,590 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:09:42,590 [INFO] - [cached since 32.38s ago] ('user1', 1, 0)
2025-03-26 13:09:42,590 [INFO] - ROLLBACK
2025-03-26 13:09:42,591 [INFO] - BEGIN (implicit)
2025-03-26 13:09:42,591 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:09:42,591 [INFO] - [cached since 32.38s ago] ()
2025-03-26 13:09:42,620 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:09:42,620 [INFO] - ROLLBACK
2025-03-26 13:09:42,624 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:09:42,673 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:09:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:07,621 [INFO] - BEGIN (implicit)
2025-03-26 13:13:07,621 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:13:07,621 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:13:07,622 [INFO] - [raw sql] ()
2025-03-26 13:13:07,622 [INFO] - COMMIT
2025-03-26 13:13:07,633 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:13:07,633 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:13:10,493 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,494 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,494 [INFO] - [generated in 0.00014s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:13:10,499 [INFO] - ROLLBACK
2025-03-26 13:13:10,499 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:13:10,500 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,500 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,500 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 13:13:10,501 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,501 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-26 13:13:10,578 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 13:13:10,578 [INFO] - [generated in 0.00025s] ('test_student', 'scrypt:32768:8:1$qiazcjnXOQtxUvSQ$9d6d347a7ee11fbd481237c27f88fd3c09451316be1bba114e1a74d6e082fa957d9dc5f17c3703a6a04492ff010251f96f5bd811322d632d816b4e83441542b5', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 13:13:10,608 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,608 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-26 13:13:10,610 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 13:13:10,610 [INFO] - [generated in 0.00006s] ()
2025-03-26 13:13:10,610 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 13:13:10,610 [INFO] - [generated in 0.00008s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 13:13:10,610 [INFO] - COMMIT
2025-03-26 13:13:10,637 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,637 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:10,637 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 13:13:10,638 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 13:13:10,638 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 13:13:10,638 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:13:10,639 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,639 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-26 13:13:10,639 [INFO] - ROLLBACK
2025-03-26 13:13:10,639 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:10] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 13:13:10,641 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,642 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,642 [INFO] - [cached since 0.1474s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:13:10,642 [INFO] - ROLLBACK
2025-03-26 13:13:10,642 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:13:10,642 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,646 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 13:13:10,646 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 13:13:10,654 [INFO] - ROLLBACK
2025-03-26 13:13:10,654 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:10] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:13:10,656 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,656 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,656 [INFO] - [cached since 0.1618s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:13:10,656 [INFO] - ROLLBACK
2025-03-26 13:13:10,656 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:13:10,656 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,657 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,657 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-26 13:13:10,659 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 13:13:10,659 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 13:13:10,664 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 13:13:10,664 [INFO] - [generated in 0.00007s] ('2005-05-16', 71)
2025-03-26 13:13:10,664 [INFO] - COMMIT
2025-03-26 13:13:10,668 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 13:13:10,668 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,670 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:13:10,670 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 13:13:10,670 [INFO] - ROLLBACK
2025-03-26 13:13:10,670 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:10] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:13:10,671 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,672 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,672 [INFO] - [cached since 0.1775s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:13:10,672 [INFO] - ROLLBACK
2025-03-26 13:13:10,672 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:13:10,672 [INFO] - BEGIN (implicit)
2025-03-26 13:13:10,673 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:10,673 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 13:13:10,674 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 13:13:10,674 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:13:10,674 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 13:13:10,674 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:13:10,675 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 13:13:10,675 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 13:13:10,676 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 13:13:10,676 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:13:10,676 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 13:13:10,676 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:13:10,677 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 13:13:10,677 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:13:10,677 [INFO] - COMMIT
2025-03-26 13:13:10,687 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 13:13:10,687 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:10] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:13:17,107 [INFO] - BEGIN (implicit)
2025-03-26 13:13:17,109 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:17,109 [INFO] - [generated in 0.00031s] ('1',)
2025-03-26 13:13:17,110 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:17,111 [INFO] - BEGIN (implicit)
2025-03-26 13:13:17,112 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:17,112 [INFO] - [generated in 0.00026s] ('user1', 1, 0)
2025-03-26 13:13:17,115 [INFO] - ROLLBACK
2025-03-26 13:13:17,116 [INFO] - BEGIN (implicit)
2025-03-26 13:13:17,119 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:13:17,119 [INFO] - [generated in 0.00020s] ()
2025-03-26 13:13:17,282 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:13:17,282 [INFO] - ROLLBACK
2025-03-26 13:13:17,312 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:17] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:13:17,342 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:18,068 [INFO] - BEGIN (implicit)
2025-03-26 13:13:18,069 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:18,069 [INFO] - [cached since 0.9609s ago] ('1',)
2025-03-26 13:13:18,070 [INFO] - BEGIN (implicit)
2025-03-26 13:13:18,071 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:18,071 [INFO] - [cached since 7.414s ago] (3000, 1, 0)
2025-03-26 13:13:18,072 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:18,072 [INFO] - [generated in 0.00016s] ()
2025-03-26 13:13:18,110 [INFO] - ROLLBACK
2025-03-26 13:13:18,110 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:18] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:13:18,148 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:23,952 [INFO] - BEGIN (implicit)
2025-03-26 13:13:23,952 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:23,952 [INFO] - [cached since 6.844s ago] ('1',)
2025-03-26 13:13:23,954 [INFO] - BEGIN (implicit)
2025-03-26 13:13:23,955 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:23,955 [INFO] - [cached since 13.3s ago] (3000, 1, 0)
2025-03-26 13:13:23,962 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:23,962 [INFO] - [cached since 5.89s ago] ()
2025-03-26 13:13:23,966 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:23,966 [INFO] - BEGIN (implicit)
2025-03-26 13:13:23,966 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:23,966 [INFO] - [cached since 6.855s ago] ('user1', 1, 0)
2025-03-26 13:13:23,967 [INFO] - ROLLBACK
2025-03-26 13:13:23,967 [INFO] - BEGIN (implicit)
2025-03-26 13:13:23,967 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:23,967 [INFO] - [cached since 13.31s ago] (3000, 1, 0)
2025-03-26 13:13:24,116 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 13:13:24,117 [INFO] - [generated in 0.00051s] ('scrypt:32768:8:1$l0ZoNEVSQI1GcG3o$15b03a8e1072d48f173d219d853409b10c1510449d67a230a3f40a29afc6652adc40f1c450e845d26bc4b44332cea39240ca3d634daa5def68d0a1e9d8d9228f', 6)
2025-03-26 13:13:24,117 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:13:24,117 [INFO] - [generated in 0.00006s] ('1', 6)
2025-03-26 13:13:24,117 [INFO] - COMMIT
2025-03-26 13:13:24,119 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:13:24,120 [INFO] - BEGIN (implicit)
2025-03-26 13:13:24,120 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:13:24,120 [INFO] - [cached since 13.45s ago] (6,)
2025-03-26 13:13:24,120 [INFO] - ROLLBACK
2025-03-26 13:13:24,120 [INFO] - ROLLBACK
2025-03-26 13:13:24,121 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:24] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:13:25,420 [INFO] - BEGIN (implicit)
2025-03-26 13:13:25,421 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:25,421 [INFO] - [cached since 8.312s ago] ('1',)
2025-03-26 13:13:25,422 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:25,422 [INFO] - BEGIN (implicit)
2025-03-26 13:13:25,422 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:25,423 [INFO] - [cached since 8.311s ago] ('user1', 1, 0)
2025-03-26 13:13:25,425 [INFO] - ROLLBACK
2025-03-26 13:13:25,426 [INFO] - BEGIN (implicit)
2025-03-26 13:13:25,426 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:13:25,426 [INFO] - [cached since 8.308s ago] ()
2025-03-26 13:13:25,452 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:13:25,452 [INFO] - ROLLBACK
2025-03-26 13:13:25,457 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:25] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:13:25,500 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:28,416 [INFO] - BEGIN (implicit)
2025-03-26 13:13:28,417 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:28,417 [INFO] - [cached since 11.31s ago] ('1',)
2025-03-26 13:13:28,418 [INFO] - BEGIN (implicit)
2025-03-26 13:13:28,418 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:28,418 [INFO] - [cached since 17.76s ago] (3000, 1, 0)
2025-03-26 13:13:28,419 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:28,419 [INFO] - [cached since 10.35s ago] ()
2025-03-26 13:13:28,420 [INFO] - ROLLBACK
2025-03-26 13:13:28,420 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:28] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:13:28,452 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:33,042 [INFO] - BEGIN (implicit)
2025-03-26 13:13:33,043 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:33,043 [INFO] - [cached since 15.93s ago] ('1',)
2025-03-26 13:13:33,045 [INFO] - BEGIN (implicit)
2025-03-26 13:13:33,045 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:33,045 [INFO] - [cached since 22.39s ago] (3000, 1, 0)
2025-03-26 13:13:33,046 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:33,046 [INFO] - [cached since 14.97s ago] ()
2025-03-26 13:13:33,052 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:33,053 [INFO] - BEGIN (implicit)
2025-03-26 13:13:33,053 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:33,053 [INFO] - [cached since 15.94s ago] ('user1', 1, 0)
2025-03-26 13:13:33,057 [INFO] - ROLLBACK
2025-03-26 13:13:33,058 [INFO] - BEGIN (implicit)
2025-03-26 13:13:33,058 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:33,058 [INFO] - [cached since 22.4s ago] (3000, 1, 0)
2025-03-26 13:13:33,158 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 13:13:33,158 [INFO] - [cached since 9.04s ago] ('scrypt:32768:8:1$L7dkv5oD9f5BOp4x$23e3215108029acdceb876e9350d35d45f1107373b6b1a5284fd0ef3135114f9abd6afd5048bfb162a181a73fa03db7b9b3910e3bc91b7f4064f057134410e37', 6)
2025-03-26 13:13:33,158 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:13:33,158 [INFO] - [cached since 9.04s ago] ('1', 6)
2025-03-26 13:13:33,158 [INFO] - COMMIT
2025-03-26 13:13:33,160 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:13:33,161 [INFO] - BEGIN (implicit)
2025-03-26 13:13:33,161 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:13:33,161 [INFO] - [cached since 22.49s ago] (6,)
2025-03-26 13:13:33,161 [INFO] - ROLLBACK
2025-03-26 13:13:33,161 [INFO] - ROLLBACK
2025-03-26 13:13:33,162 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:33] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:13:34,614 [INFO] - BEGIN (implicit)
2025-03-26 13:13:34,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:34,615 [INFO] - [cached since 17.5s ago] ('1',)
2025-03-26 13:13:34,616 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:34,619 [INFO] - BEGIN (implicit)
2025-03-26 13:13:34,619 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:34,620 [INFO] - [cached since 17.51s ago] ('user1', 1, 0)
2025-03-26 13:13:34,620 [INFO] - ROLLBACK
2025-03-26 13:13:34,621 [INFO] - BEGIN (implicit)
2025-03-26 13:13:34,621 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:13:34,621 [INFO] - [cached since 17.5s ago] ()
2025-03-26 13:13:34,648 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:13:34,648 [INFO] - ROLLBACK
2025-03-26 13:13:34,652 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:34] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:13:34,694 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:34] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:35,801 [INFO] - BEGIN (implicit)
2025-03-26 13:13:35,802 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:35,802 [INFO] - [cached since 18.69s ago] ('1',)
2025-03-26 13:13:35,803 [INFO] - BEGIN (implicit)
2025-03-26 13:13:35,803 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:35,803 [INFO] - [cached since 25.14s ago] (3001, 1, 0)
2025-03-26 13:13:35,804 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:35,804 [INFO] - [cached since 17.73s ago] ()
2025-03-26 13:13:35,804 [INFO] - ROLLBACK
2025-03-26 13:13:35,805 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:35] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:13:35,836 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:40,051 [INFO] - BEGIN (implicit)
2025-03-26 13:13:40,052 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:40,052 [INFO] - [cached since 22.94s ago] ('1',)
2025-03-26 13:13:40,084 [INFO] - BEGIN (implicit)
2025-03-26 13:13:40,085 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:40,085 [INFO] - [cached since 29.42s ago] (3001, 1, 0)
2025-03-26 13:13:40,085 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:40,085 [INFO] - [cached since 22.01s ago] ()
2025-03-26 13:13:40,088 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:40,088 [INFO] - BEGIN (implicit)
2025-03-26 13:13:40,088 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:40,088 [INFO] - [cached since 22.97s ago] ('user1', 1, 0)
2025-03-26 13:13:40,089 [INFO] - ROLLBACK
2025-03-26 13:13:40,089 [INFO] - BEGIN (implicit)
2025-03-26 13:13:40,089 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:40,090 [INFO] - [cached since 29.43s ago] (3001, 1, 0)
2025-03-26 13:13:40,189 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:13:40,189 [INFO] - [generated in 0.00016s] ('scrypt:32768:8:1$xl3a7gBy7AVVPR8M$76893c9c102f31ac344f8242e5ce5c97d8a6883b2324e6ab35288a0f96bf15ff1a74fd4ee89124796d289c24d5aa027b7053851f8da2b7e83f5345f371cdafdb', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQfElEQVR4nJ2ayXNcx33HP9391pl5MwAGGymJqyhLsmU5SizbiZzYV99SySWXlA+55ZaqXPJH5JL/IClXKpUcrEtSictLYid2lWNbC ... (5406 characters truncated) ... lSWUoRkOKwZiynHqA7mDiQlDDuaURlmE1ZtTtktVT6q9f5sJ3/oh4sYl1UregNWz0CgpToVzPx7hwL/whR6rsDOwLwbgYU+XFzB+dbXjfkIzv7M3+r+IEP/g/Q0t3MDdnm0AAAAAASUVORK5CYII=', 7)
2025-03-26 13:13:40,190 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:13:40,190 [INFO] - [cached since 16.07s ago] ('1', 7)
2025-03-26 13:13:40,190 [INFO] - COMMIT
2025-03-26 13:13:40,198 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:13:40,198 [INFO] - BEGIN (implicit)
2025-03-26 13:13:40,198 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:13:40,198 [INFO] - [cached since 29.52s ago] (7,)
2025-03-26 13:13:40,198 [INFO] - ROLLBACK
2025-03-26 13:13:40,198 [INFO] - ROLLBACK
2025-03-26 13:13:40,199 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:40] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:13:41,655 [INFO] - BEGIN (implicit)
2025-03-26 13:13:41,656 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:41,656 [INFO] - [cached since 24.54s ago] ('1',)
2025-03-26 13:13:41,657 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:13:41,658 [INFO] - BEGIN (implicit)
2025-03-26 13:13:41,658 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:41,658 [INFO] - [cached since 24.54s ago] ('user1', 1, 0)
2025-03-26 13:13:41,659 [INFO] - ROLLBACK
2025-03-26 13:13:41,659 [INFO] - BEGIN (implicit)
2025-03-26 13:13:41,659 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:13:41,659 [INFO] - [cached since 24.54s ago] ()
2025-03-26 13:13:41,687 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:13:41,687 [INFO] - ROLLBACK
2025-03-26 13:13:41,692 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:13:41,732 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:13:59,104 [INFO] - BEGIN (implicit)
2025-03-26 13:13:59,106 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:13:59,106 [INFO] - [cached since 41.99s ago] ('1',)
2025-03-26 13:13:59,107 [INFO] - BEGIN (implicit)
2025-03-26 13:13:59,107 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:13:59,107 [INFO] - [cached since 48.44s ago] (3001, 1, 0)
2025-03-26 13:13:59,110 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:13:59,110 [INFO] - [cached since 41.03s ago] ()
2025-03-26 13:13:59,111 [INFO] - ROLLBACK
2025-03-26 13:13:59,111 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:59] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:13:59,156 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:13:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:14:13,250 [INFO] - BEGIN (implicit)
2025-03-26 13:14:13,290 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:14:13,291 [INFO] - [cached since 56.17s ago] ('1',)
2025-03-26 13:14:13,291 [INFO] - BEGIN (implicit)
2025-03-26 13:14:13,291 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:14:13,291 [INFO] - [cached since 62.63s ago] (3001, 1, 0)
2025-03-26 13:14:13,292 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:14:13,292 [INFO] - [cached since 55.21s ago] ()
2025-03-26 13:14:13,293 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:14:13,293 [INFO] - BEGIN (implicit)
2025-03-26 13:14:13,293 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:14:13,293 [INFO] - [cached since 56.17s ago] ('user1', 1, 0)
2025-03-26 13:14:13,294 [INFO] - ROLLBACK
2025-03-26 13:14:13,294 [INFO] - BEGIN (implicit)
2025-03-26 13:14:13,295 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:14:13,295 [INFO] - [cached since 62.63s ago] (3001, 1, 0)
2025-03-26 13:14:13,371 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:14:13,371 [INFO] - [cached since 33.18s ago] ('scrypt:32768:8:1$69KUyzBHoghwDtek$9ba566430fa53de5955cc9a9963cb843da9cf93a49ff480768d74b7731fdbb2726a348e3e8b44cfe40b22769e61bd000088dc768c6d5da470ec3d777c34d811f', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGHUlEQVR4nO1Yu0scaxQ/M46rJupGxVaSEDQqaSzVzgfYhBD7tBapLAQL/4BUNvZC/oUUAcU2iJAUwQc+EiURNCQkPjar+3Qvv3P3t ... (1866 characters truncated) ... FpiYBxjMy0Mcl32WEl06nC/Y8ED5AAFyHCdaJ/QjFvLXLmFWAjYEtMm/OAXZ4VZIfXu0D13m0ElApepU/gM3rMD9bE6RpMDzCOJXgtjrXoQ51qEMd6iD/VfgD2HFGkaMNk5cAAAAASUVORK5CYII=', 7)
2025-03-26 13:14:13,372 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:14:13,372 [INFO] - [cached since 49.25s ago] ('1', 7)
2025-03-26 13:14:13,372 [INFO] - COMMIT
2025-03-26 13:14:13,375 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:14:13,375 [INFO] - BEGIN (implicit)
2025-03-26 13:14:13,375 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:14:13,375 [INFO] - [cached since 62.7s ago] (7,)
2025-03-26 13:14:13,375 [INFO] - ROLLBACK
2025-03-26 13:14:13,375 [INFO] - ROLLBACK
2025-03-26 13:14:13,376 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:14:13] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:14:14,869 [INFO] - BEGIN (implicit)
2025-03-26 13:14:14,870 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:14:14,870 [INFO] - [cached since 57.75s ago] ('1',)
2025-03-26 13:14:14,871 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:14:14,871 [INFO] - BEGIN (implicit)
2025-03-26 13:14:14,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:14:14,872 [INFO] - [cached since 57.75s ago] ('user1', 1, 0)
2025-03-26 13:14:14,872 [INFO] - ROLLBACK
2025-03-26 13:14:14,873 [INFO] - BEGIN (implicit)
2025-03-26 13:14:14,873 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:14:14,873 [INFO] - [cached since 57.75s ago] ()
2025-03-26 13:14:14,901 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:14:14,901 [INFO] - ROLLBACK
2025-03-26 13:14:14,905 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:14:14] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:14:14,946 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:14:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:16:52,567 [INFO] - BEGIN (implicit)
2025-03-26 13:16:52,567 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:16:52,567 [INFO] - [raw sql] ()
2025-03-26 13:16:52,567 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:16:52,567 [INFO] - [raw sql] ()
2025-03-26 13:16:52,567 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:16:52,567 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:16:52,568 [INFO] - [raw sql] ()
2025-03-26 13:16:52,568 [INFO] - COMMIT
2025-03-26 13:16:52,579 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:16:52,579 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:16:54,892 [INFO] - BEGIN (implicit)
2025-03-26 13:16:54,894 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:54,894 [INFO] - [generated in 0.00012s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:16:54,901 [INFO] - ROLLBACK
2025-03-26 13:16:54,901 [INFO] - POST None - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:16:54,902 [INFO] - BEGIN (implicit)
2025-03-26 13:16:54,902 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:54,902 [INFO] - [generated in 0.00008s] ('test_student', 1, 0)
2025-03-26 13:16:54,903 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:54,903 [INFO] - [generated in 0.00006s] ('john.doe@example.com', 1, 0)
2025-03-26 13:16:54,978 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 13:16:54,978 [INFO] - [generated in 0.00015s] ('test_student', 'scrypt:32768:8:1$3JB7KONGOFeKj2lb$94b3ccdb1a6de630b38ad02443d761901623c7e71e7c9e5987323786b8e1879926dd9e497cda3d23d62c4dd0b6c7cbd07d66ce2b1417fccee7950b3a9c317696', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 13:16:54,998 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:54,998 [INFO] - [generated in 0.00009s] ('1', 1, 0)
2025-03-26 13:16:54,999 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 13:16:54,999 [INFO] - [generated in 0.00007s] ()
2025-03-26 13:16:55,000 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 13:16:55,000 [INFO] - [generated in 0.00007s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 13:16:55,000 [INFO] - COMMIT
2025-03-26 13:16:55,007 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,008 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:16:55,008 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 13:16:55,008 [INFO] - POST /api/admin/students - Created student with user_id 71 by user2
2025-03-26 13:16:55,008 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 13:16:55,008 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:16:55,009 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:55,009 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-26 13:16:55,009 [INFO] - ROLLBACK
2025-03-26 13:16:55,009 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:16:55] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 13:16:55,011 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,012 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:55,012 [INFO] - [cached since 0.118s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:16:55,012 [INFO] - ROLLBACK
2025-03-26 13:16:55,012 [INFO] - GET /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:16:55,012 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,016 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 13:16:55,016 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 13:16:55,033 [INFO] - ROLLBACK
2025-03-26 13:16:55,034 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:16:55] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:16:55,036 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,036 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:55,036 [INFO] - [cached since 0.1421s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:16:55,036 [INFO] - ROLLBACK
2025-03-26 13:16:55,036 [INFO] - PATCH /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:16:55,036 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,037 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:55,037 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 13:16:55,038 [INFO] - UPDATE users SET first_name=?, email=? WHERE users.user_id = ?
2025-03-26 13:16:55,039 [INFO] - [generated in 0.00007s] ('Johnny', 'johnny.doe@example.com', 71)
2025-03-26 13:16:55,048 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 13:16:55,048 [INFO] - [generated in 0.00008s] ('2005-05-16', 71)
2025-03-26 13:16:55,049 [INFO] - COMMIT
2025-03-26 13:16:55,061 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2
2025-03-26 13:16:55,061 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,062 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:16:55,062 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 13:16:55,063 [INFO] - ROLLBACK
2025-03-26 13:16:55,063 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:16:55] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:16:55,065 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,065 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:55,065 [INFO] - [cached since 0.1712s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 13:16:55,065 [INFO] - ROLLBACK
2025-03-26 13:16:55,065 [INFO] - DELETE /api/admin/student/3050 - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 13:16:55,065 [INFO] - BEGIN (implicit)
2025-03-26 13:16:55,066 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:16:55,066 [INFO] - [generated in 0.00006s] (3050, 1, 0)
2025-03-26 13:16:55,067 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 13:16:55,067 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:16:55,067 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 13:16:55,067 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:16:55,068 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 13:16:55,068 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:16:55,069 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 13:16:55,069 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:16:55,069 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 13:16:55,070 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 13:16:55,080 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 13:16:55,080 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 13:16:55,080 [INFO] - COMMIT
2025-03-26 13:16:55,086 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 13:16:55,087 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:16:55] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 13:17:04,066 [INFO] - BEGIN (implicit)
2025-03-26 13:17:04,069 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:04,069 [INFO] - [generated in 0.00032s] ('1',)
2025-03-26 13:17:04,070 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:04,070 [INFO] - BEGIN (implicit)
2025-03-26 13:17:04,071 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:04,072 [INFO] - [generated in 0.00027s] ('user1', 1, 0)
2025-03-26 13:17:04,113 [INFO] - ROLLBACK
2025-03-26 13:17:04,113 [INFO] - BEGIN (implicit)
2025-03-26 13:17:04,115 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:17:04,115 [INFO] - [generated in 0.00008s] ()
2025-03-26 13:17:04,184 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:17:04,184 [INFO] - ROLLBACK
2025-03-26 13:17:04,215 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:04] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:17:04,263 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:17:05,977 [INFO] - BEGIN (implicit)
2025-03-26 13:17:05,978 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:05,978 [INFO] - [cached since 1.909s ago] ('1',)
2025-03-26 13:17:05,978 [INFO] - BEGIN (implicit)
2025-03-26 13:17:05,979 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:05,979 [INFO] - [cached since 10.94s ago] (3000, 1, 0)
2025-03-26 13:17:05,980 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:17:05,980 [INFO] - [generated in 0.00017s] ()
2025-03-26 13:17:06,022 [INFO] - ROLLBACK
2025-03-26 13:17:06,022 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:06] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:17:06,064 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:17:12,173 [INFO] - BEGIN (implicit)
2025-03-26 13:17:12,175 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:12,175 [INFO] - [cached since 8.106s ago] ('1',)
2025-03-26 13:17:12,176 [INFO] - BEGIN (implicit)
2025-03-26 13:17:12,176 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:12,177 [INFO] - [cached since 17.14s ago] (3000, 1, 0)
2025-03-26 13:17:12,212 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:17:12,212 [INFO] - [cached since 6.232s ago] ()
2025-03-26 13:17:12,216 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:12,216 [INFO] - BEGIN (implicit)
2025-03-26 13:17:12,216 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:12,216 [INFO] - [cached since 8.145s ago] ('user1', 1, 0)
2025-03-26 13:17:12,217 [INFO] - ROLLBACK
2025-03-26 13:17:12,217 [INFO] - BEGIN (implicit)
2025-03-26 13:17:12,217 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:12,217 [INFO] - [cached since 17.18s ago] (3000, 1, 0)
2025-03-26 13:17:12,362 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 13:17:12,362 [INFO] - [generated in 0.00013s] ('scrypt:32768:8:1$9smXbWpcgShcmZ4c$5b20f04b767dda1291d9495e4e68086d687ff6b30b2282f5fdbdc6e049d587037f7bf0c09dbd03dadbc8bac04dd46e5f46e779ca2865ca87de016bd3f4e0413b', 6)
2025-03-26 13:17:12,363 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:17:12,363 [INFO] - [generated in 0.00008s] ('1', 6)
2025-03-26 13:17:12,363 [INFO] - COMMIT
2025-03-26 13:17:12,366 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:17:12,366 [INFO] - BEGIN (implicit)
2025-03-26 13:17:12,366 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:17:12,366 [INFO] - [cached since 17.3s ago] (6,)
2025-03-26 13:17:12,366 [INFO] - ROLLBACK
2025-03-26 13:17:12,366 [INFO] - ROLLBACK
2025-03-26 13:17:12,367 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:12] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:17:13,658 [INFO] - BEGIN (implicit)
2025-03-26 13:17:13,658 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:13,660 [INFO] - [cached since 9.591s ago] ('1',)
2025-03-26 13:17:13,663 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:13,664 [INFO] - BEGIN (implicit)
2025-03-26 13:17:13,664 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:13,665 [INFO] - [cached since 9.593s ago] ('user1', 1, 0)
2025-03-26 13:17:13,667 [INFO] - ROLLBACK
2025-03-26 13:17:13,668 [INFO] - BEGIN (implicit)
2025-03-26 13:17:13,668 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:17:13,668 [INFO] - [cached since 9.553s ago] ()
2025-03-26 13:17:13,694 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:17:13,694 [INFO] - ROLLBACK
2025-03-26 13:17:13,698 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:13] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:17:13,739 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:17:15,005 [INFO] - BEGIN (implicit)
2025-03-26 13:17:15,005 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:15,005 [INFO] - [cached since 10.94s ago] ('1',)
2025-03-26 13:17:15,006 [INFO] - BEGIN (implicit)
2025-03-26 13:17:15,006 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:15,006 [INFO] - [cached since 19.97s ago] (3001, 1, 0)
2025-03-26 13:17:15,006 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:17:15,006 [INFO] - [cached since 9.026s ago] ()
2025-03-26 13:17:15,007 [INFO] - ROLLBACK
2025-03-26 13:17:15,007 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:15] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:17:15,046 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:17:20,937 [INFO] - BEGIN (implicit)
2025-03-26 13:17:20,938 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:20,938 [INFO] - [cached since 16.87s ago] ('1',)
2025-03-26 13:17:20,940 [INFO] - BEGIN (implicit)
2025-03-26 13:17:20,940 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:20,940 [INFO] - [cached since 25.9s ago] (3001, 1, 0)
2025-03-26 13:17:20,941 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:17:20,941 [INFO] - [cached since 14.96s ago] ()
2025-03-26 13:17:20,946 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:20,947 [INFO] - BEGIN (implicit)
2025-03-26 13:17:20,947 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:20,948 [INFO] - [cached since 16.88s ago] ('user1', 1, 0)
2025-03-26 13:17:20,952 [INFO] - ROLLBACK
2025-03-26 13:17:20,952 [INFO] - BEGIN (implicit)
2025-03-26 13:17:20,953 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:20,953 [INFO] - [cached since 25.92s ago] (3001, 1, 0)
2025-03-26 13:17:21,053 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:17:21,053 [INFO] - [generated in 0.00015s] ('scrypt:32768:8:1$l1uTshLYUvsFIcMa$428d7471d74f14c238a08e632fe97c76f3f482a3963ebfa085aba18036b550fc83b836a1cbd48d6a82b3b896493986e3113f13d3c012875305eac59705eb83cf', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQfElEQVR4nJ2ayXNcx33HP9391pl5MwAGGymJqyhLsmU5SizbiZzYV99SySWXlA+55ZaqXPJH5JL/IClXKpUcrEtSictLYid2lWNbC ... (5406 characters truncated) ... lSWUoRkOKwZiynHqA7mDiQlDDuaURlmE1ZtTtktVT6q9f5sJ3/oh4sYl1UregNWz0CgpToVzPx7hwL/whR6rsDOwLwbgYU+XFzB+dbXjfkIzv7M3+r+IEP/g/Q0t3MDdnm0AAAAAASUVORK5CYII=', 7)
2025-03-26 13:17:21,055 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:17:21,055 [INFO] - [cached since 8.691s ago] ('1', 7)
2025-03-26 13:17:21,055 [INFO] - COMMIT
2025-03-26 13:17:21,058 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:17:21,058 [INFO] - BEGIN (implicit)
2025-03-26 13:17:21,058 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:17:21,058 [INFO] - [cached since 26s ago] (7,)
2025-03-26 13:17:21,059 [INFO] - ROLLBACK
2025-03-26 13:17:21,059 [INFO] - ROLLBACK
2025-03-26 13:17:21,059 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:21] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:17:22,625 [INFO] - BEGIN (implicit)
2025-03-26 13:17:22,626 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:22,626 [INFO] - [cached since 18.56s ago] ('1',)
2025-03-26 13:17:22,627 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:22,627 [INFO] - BEGIN (implicit)
2025-03-26 13:17:22,628 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:22,628 [INFO] - [cached since 18.56s ago] ('user1', 1, 0)
2025-03-26 13:17:22,628 [INFO] - ROLLBACK
2025-03-26 13:17:22,628 [INFO] - BEGIN (implicit)
2025-03-26 13:17:22,628 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:17:22,628 [INFO] - [cached since 18.51s ago] ()
2025-03-26 13:17:22,653 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:17:22,654 [INFO] - ROLLBACK
2025-03-26 13:17:22,660 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:22] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:17:22,706 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:17:29,528 [INFO] - BEGIN (implicit)
2025-03-26 13:17:29,529 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:29,529 [INFO] - [cached since 25.46s ago] ('1',)
2025-03-26 13:17:29,530 [INFO] - BEGIN (implicit)
2025-03-26 13:17:29,531 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:29,531 [INFO] - [cached since 34.49s ago] (3001, 1, 0)
2025-03-26 13:17:29,534 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:17:29,534 [INFO] - [cached since 23.55s ago] ()
2025-03-26 13:17:29,535 [INFO] - ROLLBACK
2025-03-26 13:17:29,536 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:29] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:17:29,575 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:17:42,784 [INFO] - BEGIN (implicit)
2025-03-26 13:17:42,785 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:42,786 [INFO] - [cached since 38.72s ago] ('1',)
2025-03-26 13:17:42,787 [INFO] - BEGIN (implicit)
2025-03-26 13:17:42,788 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:42,788 [INFO] - [cached since 47.75s ago] (3001, 1, 0)
2025-03-26 13:17:42,788 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:17:42,789 [INFO] - [cached since 36.81s ago] ()
2025-03-26 13:17:42,790 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:42,790 [INFO] - BEGIN (implicit)
2025-03-26 13:17:42,790 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:42,790 [INFO] - [cached since 38.72s ago] ('user1', 1, 0)
2025-03-26 13:17:42,791 [INFO] - ROLLBACK
2025-03-26 13:17:42,791 [INFO] - BEGIN (implicit)
2025-03-26 13:17:42,791 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:42,791 [INFO] - [cached since 47.75s ago] (3001, 1, 0)
2025-03-26 13:17:42,868 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:17:42,868 [INFO] - [cached since 21.82s ago] ('scrypt:32768:8:1$RrkFZyAD8oUyjf0Y$715da1762b7d99eefe9609e73f082ce8dda1736595e1e1d47227f4c560c5e68e11f7b06e4738dc030d54f40fe16ece2714632ae61db631a9dd9daf2bc16ff89d', 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAKQ0lEQVR4nNWaSYgUSRSGX6XVLu1W7h4UNxTB5SC4gMtBBRVEEAS9eHG5eFM8KN4EDx48q0cvQquICyoKHgS3g4gK7uICLqD2Ypfd1 ... (3282 characters truncated) ... I766goa/6XzsmxmFRXREhUCGJJ3jPd8aFNAMy/wVAX2EYnpeqJNd+we/P+O8PYgzG2qTTwnNSBKt40jmp/p8hpNGFIOBDGnjpDq4nGpQNgYf3dtrShjTMVn8AYyeKeg+tR6QAAAAASUVORK5CYII=', 7)
2025-03-26 13:17:42,869 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:17:42,869 [INFO] - [cached since 30.51s ago] ('1', 7)
2025-03-26 13:17:42,869 [INFO] - COMMIT
2025-03-26 13:17:42,872 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:17:42,873 [INFO] - BEGIN (implicit)
2025-03-26 13:17:42,873 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:17:42,873 [INFO] - [cached since 47.81s ago] (7,)
2025-03-26 13:17:42,873 [INFO] - ROLLBACK
2025-03-26 13:17:42,873 [INFO] - ROLLBACK
2025-03-26 13:17:42,874 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:42] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:17:44,324 [INFO] - BEGIN (implicit)
2025-03-26 13:17:44,324 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:17:44,324 [INFO] - [cached since 40.26s ago] ('1',)
2025-03-26 13:17:44,325 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:17:44,325 [INFO] - BEGIN (implicit)
2025-03-26 13:17:44,326 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:17:44,326 [INFO] - [cached since 40.25s ago] ('user1', 1, 0)
2025-03-26 13:17:44,329 [INFO] - ROLLBACK
2025-03-26 13:17:44,329 [INFO] - BEGIN (implicit)
2025-03-26 13:17:44,329 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:17:44,329 [INFO] - [cached since 40.21s ago] ()
2025-03-26 13:17:44,358 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:17:44,358 [INFO] - ROLLBACK
2025-03-26 13:17:44,362 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:44] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:17:44,401 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:17:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:18:17,193 [INFO] - BEGIN (implicit)
2025-03-26 13:18:17,193 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:18:17,193 [INFO] - [raw sql] ()
2025-03-26 13:18:17,193 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:18:17,194 [INFO] - [raw sql] ()
2025-03-26 13:18:17,194 [INFO] - COMMIT
2025-03-26 13:18:17,205 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:18:17,205 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:18:20,061 [INFO] - BEGIN (implicit)
2025-03-26 13:18:20,062 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:20,063 [INFO] - [generated in 0.00012s] ('1',)
2025-03-26 13:18:20,099 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:18:20,100 [INFO] - BEGIN (implicit)
2025-03-26 13:18:20,100 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:20,100 [INFO] - [generated in 0.00011s] ('user1', 1, 0)
2025-03-26 13:18:20,120 [INFO] - ROLLBACK
2025-03-26 13:18:20,121 [INFO] - BEGIN (implicit)
2025-03-26 13:18:20,122 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:18:20,122 [INFO] - [generated in 0.00008s] ()
2025-03-26 13:18:20,219 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:18:20,219 [INFO] - ROLLBACK
2025-03-26 13:18:20,249 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:20] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:18:20,276 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:18:20,992 [INFO] - BEGIN (implicit)
2025-03-26 13:18:20,992 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:20,993 [INFO] - [cached since 0.9302s ago] ('1',)
2025-03-26 13:18:20,993 [INFO] - BEGIN (implicit)
2025-03-26 13:18:20,997 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:20,997 [INFO] - [generated in 0.00025s] (3001, 1, 0)
2025-03-26 13:18:20,999 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:18:20,999 [INFO] - [generated in 0.00015s] ()
2025-03-26 13:18:21,006 [INFO] - ROLLBACK
2025-03-26 13:18:21,006 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:21] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:18:21,041 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:18:25,407 [INFO] - BEGIN (implicit)
2025-03-26 13:18:25,408 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:25,408 [INFO] - [cached since 5.345s ago] ('1',)
2025-03-26 13:18:25,409 [INFO] - BEGIN (implicit)
2025-03-26 13:18:25,409 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:25,409 [INFO] - [cached since 4.412s ago] (3001, 1, 0)
2025-03-26 13:18:25,410 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:18:25,410 [INFO] - [cached since 4.411s ago] ()
2025-03-26 13:18:25,412 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:18:25,413 [INFO] - BEGIN (implicit)
2025-03-26 13:18:25,413 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:25,413 [INFO] - [cached since 5.313s ago] ('user1', 1, 0)
2025-03-26 13:18:25,414 [INFO] - ROLLBACK
2025-03-26 13:18:25,414 [INFO] - BEGIN (implicit)
2025-03-26 13:18:25,415 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:25,415 [INFO] - [cached since 4.418s ago] (3001, 1, 0)
2025-03-26 13:18:25,558 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 13:18:25,558 [INFO] - [generated in 0.00011s] ('scrypt:32768:8:1$RSAehz6Zw8Q3ndbb$5afc1c3f00f0d731f802bc943f68e9aa24c41e686df777842fa86e0e4997ff65bba234a702cd2ccff14178985662ae5fe590b436421b70ee0ed55caeea70971e', 7)
2025-03-26 13:18:25,558 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:18:25,558 [INFO] - [generated in 0.00006s] ('1', 7)
2025-03-26 13:18:25,559 [INFO] - COMMIT
2025-03-26 13:18:25,560 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:18:25,561 [INFO] - BEGIN (implicit)
2025-03-26 13:18:25,562 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:18:25,562 [INFO] - [generated in 0.00008s] (7,)
2025-03-26 13:18:25,562 [INFO] - ROLLBACK
2025-03-26 13:18:25,562 [INFO] - ROLLBACK
2025-03-26 13:18:25,562 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:25] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:18:26,939 [INFO] - BEGIN (implicit)
2025-03-26 13:18:26,940 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:26,940 [INFO] - [cached since 6.878s ago] ('1',)
2025-03-26 13:18:26,977 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:18:26,977 [INFO] - BEGIN (implicit)
2025-03-26 13:18:26,977 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:26,977 [INFO] - [cached since 6.877s ago] ('user1', 1, 0)
2025-03-26 13:18:26,978 [INFO] - ROLLBACK
2025-03-26 13:18:26,979 [INFO] - BEGIN (implicit)
2025-03-26 13:18:26,979 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:18:26,979 [INFO] - [cached since 6.857s ago] ()
2025-03-26 13:18:26,989 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:18:26,989 [INFO] - ROLLBACK
2025-03-26 13:18:26,993 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:26] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:18:27,040 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:18:28,031 [INFO] - BEGIN (implicit)
2025-03-26 13:18:28,031 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:28,031 [INFO] - [cached since 7.969s ago] ('1',)
2025-03-26 13:18:28,032 [INFO] - BEGIN (implicit)
2025-03-26 13:18:28,033 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:28,033 [INFO] - [cached since 7.036s ago] (3001, 1, 0)
2025-03-26 13:18:28,033 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:18:28,033 [INFO] - [cached since 7.035s ago] ()
2025-03-26 13:18:28,034 [INFO] - ROLLBACK
2025-03-26 13:18:28,035 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:28] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:18:28,071 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:18:44,570 [INFO] - BEGIN (implicit)
2025-03-26 13:18:44,571 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:44,572 [INFO] - [cached since 24.51s ago] ('1',)
2025-03-26 13:18:44,575 [INFO] - BEGIN (implicit)
2025-03-26 13:18:44,575 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:44,576 [INFO] - [cached since 23.58s ago] (3001, 1, 0)
2025-03-26 13:18:44,576 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:18:44,576 [INFO] - [cached since 23.58s ago] ()
2025-03-26 13:18:44,577 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:18:44,578 [INFO] - BEGIN (implicit)
2025-03-26 13:18:44,578 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:44,578 [INFO] - [cached since 24.48s ago] ('user1', 1, 0)
2025-03-26 13:18:44,620 [INFO] - ROLLBACK
2025-03-26 13:18:44,620 [INFO] - BEGIN (implicit)
2025-03-26 13:18:44,621 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:44,621 [INFO] - [cached since 23.62s ago] (3001, 1, 0)
2025-03-26 13:18:44,699 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 13:18:44,700 [INFO] - [cached since 19.14s ago] ('scrypt:32768:8:1$lrianFVIEbrIjI8J$c3bd05be324aa01b079a28c8d2017a49121feeea10110c0eec19ea16f86b16e6c63c39e61f89e7703527ab8bdad56bc9c62a67e86116311c013e81d9c49f31f7', 7)
2025-03-26 13:18:44,700 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:18:44,700 [INFO] - [cached since 19.14s ago] ('1', 7)
2025-03-26 13:18:44,700 [INFO] - COMMIT
2025-03-26 13:18:44,702 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:18:44,702 [INFO] - BEGIN (implicit)
2025-03-26 13:18:44,703 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:18:44,703 [INFO] - [cached since 19.14s ago] (7,)
2025-03-26 13:18:44,703 [INFO] - ROLLBACK
2025-03-26 13:18:44,703 [INFO] - ROLLBACK
2025-03-26 13:18:44,703 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:44] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:18:46,365 [INFO] - BEGIN (implicit)
2025-03-26 13:18:46,366 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:18:46,366 [INFO] - [cached since 26.3s ago] ('1',)
2025-03-26 13:18:46,367 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:18:46,367 [INFO] - BEGIN (implicit)
2025-03-26 13:18:46,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:18:46,368 [INFO] - [cached since 26.27s ago] ('user1', 1, 0)
2025-03-26 13:18:46,368 [INFO] - ROLLBACK
2025-03-26 13:18:46,368 [INFO] - BEGIN (implicit)
2025-03-26 13:18:46,368 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:18:46,369 [INFO] - [cached since 26.25s ago] ()
2025-03-26 13:18:46,395 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:18:46,395 [INFO] - ROLLBACK
2025-03-26 13:18:46,400 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:46] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:18:46,446 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:18:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:18,914 [INFO] - BEGIN (implicit)
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,915 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:19:18,915 [INFO] - [raw sql] ()
2025-03-26 13:19:18,916 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:19:18,916 [INFO] - [raw sql] ()
2025-03-26 13:19:18,916 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:19:18,916 [INFO] - [raw sql] ()
2025-03-26 13:19:18,916 [INFO] - COMMIT
2025-03-26 13:19:18,935 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:19:18,936 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:19:19,514 [INFO] - BEGIN (implicit)
2025-03-26 13:19:19,515 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:19,516 [INFO] - [generated in 0.00015s] ('1',)
2025-03-26 13:19:19,550 [INFO] - BEGIN (implicit)
2025-03-26 13:19:19,555 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:19,555 [INFO] - [generated in 0.00017s] (3000, 1, 0)
2025-03-26 13:19:19,556 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:19:19,556 [INFO] - [generated in 0.00007s] ()
2025-03-26 13:19:19,579 [INFO] - ROLLBACK
2025-03-26 13:19:19,579 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:19] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:19:19,625 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:23,202 [INFO] - BEGIN (implicit)
2025-03-26 13:19:23,203 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:23,203 [INFO] - [cached since 3.687s ago] ('1',)
2025-03-26 13:19:23,237 [INFO] - BEGIN (implicit)
2025-03-26 13:19:23,237 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:23,237 [INFO] - [cached since 3.682s ago] (3000, 1, 0)
2025-03-26 13:19:23,239 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:19:23,239 [INFO] - [cached since 3.683s ago] ()
2025-03-26 13:19:23,240 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:19:23,240 [INFO] - BEGIN (implicit)
2025-03-26 13:19:23,241 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:23,241 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 13:19:23,242 [INFO] - ROLLBACK
2025-03-26 13:19:23,242 [INFO] - BEGIN (implicit)
2025-03-26 13:19:23,242 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:23,242 [INFO] - [cached since 3.687s ago] (3000, 1, 0)
2025-03-26 13:19:23,316 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:19:23,316 [INFO] - [generated in 0.00014s] ('scrypt:32768:8:1$fOxSxjRwVAR73SWP$1f3eeb45eb9e5674ccceaed5d3f6d791b29f7d51d0bde3a57b97a8b56b5d4e4325553eaf625f488319518dce69df9059b783346213c06a54748f762a59982408', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 6)
2025-03-26 13:19:23,318 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:19:23,318 [INFO] - [generated in 0.00008s] ('1', 6)
2025-03-26 13:19:23,318 [INFO] - COMMIT
2025-03-26 13:19:23,359 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:19:23,360 [INFO] - BEGIN (implicit)
2025-03-26 13:19:23,361 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:19:23,361 [INFO] - [generated in 0.00008s] (6,)
2025-03-26 13:19:23,361 [INFO] - ROLLBACK
2025-03-26 13:19:23,362 [INFO] - ROLLBACK
2025-03-26 13:19:23,362 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:23] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:19:24,792 [INFO] - BEGIN (implicit)
2025-03-26 13:19:24,793 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:24,793 [INFO] - [cached since 5.277s ago] ('1',)
2025-03-26 13:19:24,793 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:19:24,794 [INFO] - BEGIN (implicit)
2025-03-26 13:19:24,794 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:24,794 [INFO] - [cached since 1.553s ago] ('user1', 1, 0)
2025-03-26 13:19:24,794 [INFO] - ROLLBACK
2025-03-26 13:19:24,795 [INFO] - BEGIN (implicit)
2025-03-26 13:19:24,799 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:19:24,799 [INFO] - [generated in 0.00025s] ()
2025-03-26 13:19:24,920 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:19:24,920 [INFO] - ROLLBACK
2025-03-26 13:19:24,944 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:24] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:19:25,019 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:27,579 [INFO] - BEGIN (implicit)
2025-03-26 13:19:27,579 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:27,579 [INFO] - [cached since 8.064s ago] ('1',)
2025-03-26 13:19:27,581 [INFO] - BEGIN (implicit)
2025-03-26 13:19:27,581 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:27,581 [INFO] - [cached since 8.026s ago] (3001, 1, 0)
2025-03-26 13:19:27,582 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:19:27,582 [INFO] - [cached since 8.026s ago] ()
2025-03-26 13:19:27,583 [INFO] - ROLLBACK
2025-03-26 13:19:27,583 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:27] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:19:27,624 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:30,688 [INFO] - BEGIN (implicit)
2025-03-26 13:19:30,689 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:30,689 [INFO] - [cached since 11.17s ago] ('1',)
2025-03-26 13:19:30,692 [INFO] - BEGIN (implicit)
2025-03-26 13:19:30,693 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:30,693 [INFO] - [cached since 11.14s ago] (3001, 1, 0)
2025-03-26 13:19:30,694 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:19:30,694 [INFO] - [cached since 11.14s ago] ()
2025-03-26 13:19:30,696 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:19:30,696 [INFO] - BEGIN (implicit)
2025-03-26 13:19:30,697 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:30,697 [INFO] - [cached since 7.456s ago] ('user1', 1, 0)
2025-03-26 13:19:30,732 [INFO] - ROLLBACK
2025-03-26 13:19:30,733 [INFO] - BEGIN (implicit)
2025-03-26 13:19:30,733 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:30,733 [INFO] - [cached since 11.18s ago] (3001, 1, 0)
2025-03-26 13:19:30,807 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:19:30,807 [INFO] - [cached since 7.491s ago] ('scrypt:32768:8:1$CfPUl3h9OWcSy10i$2c28205b4f61f18c5bf72eee6d9807d0dde83fc78041d73db2343e244cdea24a87b922ae788b829cdaa1ed57a779a6af1465258e756ff82476731c6a93067bc2', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 7)
2025-03-26 13:19:30,807 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:19:30,807 [INFO] - [cached since 7.49s ago] ('1', 7)
2025-03-26 13:19:30,808 [INFO] - COMMIT
2025-03-26 13:19:30,827 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:19:30,828 [INFO] - BEGIN (implicit)
2025-03-26 13:19:30,828 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:19:30,828 [INFO] - [cached since 7.467s ago] (7,)
2025-03-26 13:19:30,828 [INFO] - ROLLBACK
2025-03-26 13:19:30,828 [INFO] - ROLLBACK
2025-03-26 13:19:30,828 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:30] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:19:32,203 [INFO] - BEGIN (implicit)
2025-03-26 13:19:32,204 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:32,204 [INFO] - [cached since 12.69s ago] ('1',)
2025-03-26 13:19:32,205 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:19:32,205 [INFO] - BEGIN (implicit)
2025-03-26 13:19:32,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:32,206 [INFO] - [cached since 8.965s ago] ('user1', 1, 0)
2025-03-26 13:19:32,206 [INFO] - ROLLBACK
2025-03-26 13:19:32,207 [INFO] - BEGIN (implicit)
2025-03-26 13:19:32,207 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:19:32,207 [INFO] - [cached since 7.408s ago] ()
2025-03-26 13:19:32,264 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:19:32,264 [INFO] - ROLLBACK
2025-03-26 13:19:32,268 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:32] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:19:32,314 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:36,104 [INFO] - BEGIN (implicit)
2025-03-26 13:19:36,105 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:36,105 [INFO] - [cached since 16.59s ago] ('1',)
2025-03-26 13:19:36,107 [INFO] - BEGIN (implicit)
2025-03-26 13:19:36,107 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:36,107 [INFO] - [cached since 16.55s ago] (3000, 1, 0)
2025-03-26 13:19:36,108 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:19:36,108 [INFO] - [cached since 16.55s ago] ()
2025-03-26 13:19:36,109 [INFO] - ROLLBACK
2025-03-26 13:19:36,110 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:36] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:19:36,149 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:40,080 [INFO] - BEGIN (implicit)
2025-03-26 13:19:40,081 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:40,081 [INFO] - [cached since 20.57s ago] ('1',)
2025-03-26 13:19:40,083 [INFO] - BEGIN (implicit)
2025-03-26 13:19:40,083 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:40,083 [INFO] - [cached since 20.53s ago] (3000, 1, 0)
2025-03-26 13:19:40,084 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:19:40,084 [INFO] - [cached since 20.53s ago] ()
2025-03-26 13:19:40,090 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:19:40,091 [INFO] - BEGIN (implicit)
2025-03-26 13:19:40,091 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:40,091 [INFO] - [cached since 16.85s ago] ('user1', 1, 0)
2025-03-26 13:19:40,092 [INFO] - ROLLBACK
2025-03-26 13:19:40,092 [INFO] - BEGIN (implicit)
2025-03-26 13:19:40,092 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:40,092 [INFO] - [cached since 20.54s ago] (3000, 1, 0)
2025-03-26 13:19:40,166 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:19:40,166 [INFO] - [cached since 16.85s ago] ('scrypt:32768:8:1$4ojNjkafh8s8DhER$328ad61a2b424983f37ba95a4870f593ff42bb1cfedf3f7f9c9dcb965006ab4584e6f57ace681f08012c71f1d399bc4a37fb65e929868c55b9be36d4f1a5fea8', 'iVBORw0KGgoAAAANSUhEUgAABLAAAASwCAYAAADrIbPPAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwwAADsMBx2+oZAAA//9JREFUeJzsvWmX4zjWrXcAkJQiIocasqburve+177fbP8lL3/3b ... (823742 characters truncated) ... JCnUa/NU6G7eOjyl8yqfonLCd8BhFT+On76x53JjHd942+RONLlj/R+23weusR2A9b/t4bAnbB0Musofu8aKuKE5SisuaikVJ88mMxtkVJaOh6+DopZfPl/8HeqfXB+WfNe0AAAAASUVORK5CYII=', 6)
2025-03-26 13:19:40,169 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:19:40,169 [INFO] - [cached since 16.85s ago] ('1', 6)
2025-03-26 13:19:40,169 [INFO] - COMMIT
2025-03-26 13:19:40,319 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:19:40,320 [INFO] - BEGIN (implicit)
2025-03-26 13:19:40,320 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:19:40,320 [INFO] - [cached since 16.96s ago] (6,)
2025-03-26 13:19:40,321 [INFO] - ROLLBACK
2025-03-26 13:19:40,321 [INFO] - ROLLBACK
2025-03-26 13:19:40,322 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:40] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:19:41,712 [INFO] - BEGIN (implicit)
2025-03-26 13:19:41,712 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:41,713 [INFO] - [cached since 22.2s ago] ('1',)
2025-03-26 13:19:41,714 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:19:41,714 [INFO] - BEGIN (implicit)
2025-03-26 13:19:41,715 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:19:41,715 [INFO] - [cached since 18.47s ago] ('user1', 1, 0)
2025-03-26 13:19:41,718 [INFO] - ROLLBACK
2025-03-26 13:19:41,719 [INFO] - BEGIN (implicit)
2025-03-26 13:19:41,719 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:19:41,719 [INFO] - [cached since 16.92s ago] ()
2025-03-26 13:19:41,786 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:19:41,786 [INFO] - ROLLBACK
2025-03-26 13:19:41,796 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:41] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:19:41,848 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:48,851 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:48] "GET / HTTP/1.1" 200 -
2025-03-26 13:19:50,435 [INFO] - BEGIN (implicit)
2025-03-26 13:19:50,438 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:50,438 [INFO] - [cached since 30.92s ago] ('1',)
2025-03-26 13:19:50,442 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:50] "GET /student/ HTTP/1.1" 200 -
2025-03-26 13:19:50,489 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:51,855 [INFO] - BEGIN (implicit)
2025-03-26 13:19:51,855 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:19:51,855 [INFO] - [cached since 32.34s ago] ('1',)
2025-03-26 13:19:51,856 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:51] "[32mGET /student/logout HTTP/1.1[0m" 302 -
2025-03-26 13:19:51,860 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:51] "GET /student/ HTTP/1.1" 200 -
2025-03-26 13:19:51,922 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:19:53,099 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:53] "GET /student/login HTTP/1.1" 200 -
2025-03-26 13:19:53,141 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:19:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:02,766 [INFO] - BEGIN (implicit)
2025-03-26 13:20:02,770 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:02,770 [INFO] - [generated in 0.00032s] ('user6', 1, 0)
2025-03-26 13:20:02,849 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:02] "POST /student/login HTTP/1.1" 200 -
2025-03-26 13:20:02,891 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:06,721 [INFO] - BEGIN (implicit)
2025-03-26 13:20:06,721 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:06,722 [INFO] - [cached since 3.952s ago] ('user6', 1, 0)
2025-03-26 13:20:06,799 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:06] "POST /student/login HTTP/1.1" 200 -
2025-03-26 13:20:06,836 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:13,485 [INFO] - BEGIN (implicit)
2025-03-26 13:20:13,486 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:13,486 [INFO] - [cached since 10.72s ago] ('user6', 1, 0)
2025-03-26 13:20:13,565 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:13] "POST /student/login HTTP/1.1" 200 -
2025-03-26 13:20:13,597 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:18,677 [INFO] - BEGIN (implicit)
2025-03-26 13:20:18,677 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:18,678 [INFO] - [cached since 15.91s ago] ('user6', 1, 0)
2025-03-26 13:20:18,756 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:18] "POST /student/login HTTP/1.1" 200 -
2025-03-26 13:20:18,793 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:21,160 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:21] "[31m[1mGET /admin/student/3000 HTTP/1.1[0m" 401 -
2025-03-26 13:20:25,187 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:25] "GET / HTTP/1.1" 200 -
2025-03-26 13:20:33,617 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:33] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:20:33,697 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:35,373 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:35] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 13:20:35,413 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:39,148 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 13:20:39,149 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:39] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 13:20:50,258 [INFO] - BEGIN (implicit)
2025-03-26 13:20:50,259 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:50,259 [INFO] - [cached since 87.02s ago] ('user1', 1, 0)
2025-03-26 13:20:50,337 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:50] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 13:20:50,343 [INFO] - BEGIN (implicit)
2025-03-26 13:20:50,343 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:20:50,343 [INFO] - [cached since 90.83s ago] ('1',)
2025-03-26 13:20:50,343 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:50] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:20:50,413 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:53,667 [INFO] - BEGIN (implicit)
2025-03-26 13:20:53,668 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:20:53,668 [INFO] - [cached since 94.15s ago] ('1',)
2025-03-26 13:20:53,668 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:20:53,669 [INFO] - BEGIN (implicit)
2025-03-26 13:20:53,670 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:53,670 [INFO] - [cached since 90.43s ago] ('user1', 1, 0)
2025-03-26 13:20:53,675 [INFO] - ROLLBACK
2025-03-26 13:20:53,676 [INFO] - BEGIN (implicit)
2025-03-26 13:20:53,676 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:20:53,676 [INFO] - [cached since 88.88s ago] ()
2025-03-26 13:20:53,743 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:20:53,743 [INFO] - ROLLBACK
2025-03-26 13:20:53,749 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:53] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:20:53,795 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:20:55,722 [INFO] - BEGIN (implicit)
2025-03-26 13:20:55,722 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:20:55,722 [INFO] - [cached since 96.21s ago] ('1',)
2025-03-26 13:20:55,724 [INFO] - BEGIN (implicit)
2025-03-26 13:20:55,724 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:20:55,724 [INFO] - [cached since 96.17s ago] (3000, 1, 0)
2025-03-26 13:20:55,726 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:20:55,726 [INFO] - [cached since 96.17s ago] ()
2025-03-26 13:20:55,729 [INFO] - ROLLBACK
2025-03-26 13:20:55,730 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:55] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:20:55,771 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:20:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:04,248 [INFO] - BEGIN (implicit)
2025-03-26 13:21:04,248 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:04,248 [INFO] - [cached since 104.7s ago] ('1',)
2025-03-26 13:21:04,249 [INFO] - BEGIN (implicit)
2025-03-26 13:21:04,249 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:21:04,249 [INFO] - [cached since 104.7s ago] (3000, 1, 0)
2025-03-26 13:21:04,252 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:21:04,252 [INFO] - [cached since 104.7s ago] ()
2025-03-26 13:21:04,254 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:21:04,255 [INFO] - BEGIN (implicit)
2025-03-26 13:21:04,255 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:21:04,255 [INFO] - [cached since 101s ago] ('user1', 1, 0)
2025-03-26 13:21:04,260 [INFO] - ROLLBACK
2025-03-26 13:21:04,261 [INFO] - BEGIN (implicit)
2025-03-26 13:21:04,261 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:21:04,261 [INFO] - [cached since 104.7s ago] (3000, 1, 0)
2025-03-26 13:21:04,337 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 13:21:04,337 [INFO] - [generated in 0.00051s] ('scrypt:32768:8:1$NqpvatltAwsOzB4l$fde93a53d280b6c524cd49859f96ad3a1575a02957861b62ec021a359ce94d3a3d671204fac537659146a95acddbe55fd8c7f4792fbec3dcf88621f1210dfef2', 6)
2025-03-26 13:21:04,348 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:21:04,349 [INFO] - [cached since 101s ago] ('1', 6)
2025-03-26 13:21:04,349 [INFO] - COMMIT
2025-03-26 13:21:04,351 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 13:21:04,351 [INFO] - BEGIN (implicit)
2025-03-26 13:21:04,351 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:21:04,351 [INFO] - [cached since 101s ago] (6,)
2025-03-26 13:21:04,352 [INFO] - ROLLBACK
2025-03-26 13:21:04,352 [INFO] - ROLLBACK
2025-03-26 13:21:04,352 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:04] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:21:05,597 [INFO] - BEGIN (implicit)
2025-03-26 13:21:05,597 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:05,597 [INFO] - [cached since 106.1s ago] ('1',)
2025-03-26 13:21:05,598 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:21:05,599 [INFO] - BEGIN (implicit)
2025-03-26 13:21:05,599 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:21:05,599 [INFO] - [cached since 102.4s ago] ('user1', 1, 0)
2025-03-26 13:21:05,599 [INFO] - ROLLBACK
2025-03-26 13:21:05,600 [INFO] - BEGIN (implicit)
2025-03-26 13:21:05,600 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:21:05,601 [INFO] - [cached since 100.8s ago] ()
2025-03-26 13:21:05,665 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:21:05,665 [INFO] - ROLLBACK
2025-03-26 13:21:05,671 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:05] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:21:05,720 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:10,617 [INFO] - BEGIN (implicit)
2025-03-26 13:21:10,618 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:10,618 [INFO] - [cached since 111.1s ago] ('1',)
2025-03-26 13:21:10,619 [ERROR] - Exception on /student/login [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/student/routes.py", line 18, in login
    if current_user.is_authenticated and db_sess.query(Student).filter(user=current_user).first():
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Query.filter() got an unexpected keyword argument 'user'
2025-03-26 13:21:10,714 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:10] "[35m[1mPOST /student/login HTTP/1.1[0m" 500 -
2025-03-26 13:21:14,749 [INFO] - BEGIN (implicit)
2025-03-26 13:21:14,750 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:14,750 [INFO] - [cached since 115.2s ago] ('1',)
2025-03-26 13:21:14,752 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:14] "GET /student/ HTTP/1.1" 200 -
2025-03-26 13:21:14,816 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:16,409 [INFO] - BEGIN (implicit)
2025-03-26 13:21:16,409 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:16,409 [INFO] - [cached since 116.9s ago] ('1',)
2025-03-26 13:21:16,411 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:16] "[32mGET /student/logout HTTP/1.1[0m" 302 -
2025-03-26 13:21:16,414 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:16] "GET /student/ HTTP/1.1" 200 -
2025-03-26 13:21:16,478 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:17,504 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:17] "GET /student/login HTTP/1.1" 200 -
2025-03-26 13:21:17,543 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:30,154 [INFO] - BEGIN (implicit)
2025-03-26 13:21:30,156 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN students ON users.user_id = students.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:21:30,156 [INFO] - [cached since 87.39s ago] ('user6', 1, 0)
2025-03-26 13:21:30,236 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:30] "[32mPOST /student/login HTTP/1.1[0m" 302 -
2025-03-26 13:21:30,243 [INFO] - BEGIN (implicit)
2025-03-26 13:21:30,243 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:30,243 [INFO] - [cached since 130.7s ago] ('6',)
2025-03-26 13:21:30,250 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:30] "GET /student/ HTTP/1.1" 200 -
2025-03-26 13:21:30,328 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:38,713 [INFO] - BEGIN (implicit)
2025-03-26 13:21:38,714 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:38,714 [INFO] - [cached since 139.2s ago] ('6',)
2025-03-26 13:21:38,720 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:38] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 13:21:38,723 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:38] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:21:38,789 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:40,155 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:40] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 13:21:40,196 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:21:47,736 [INFO] - BEGIN (implicit)
2025-03-26 13:21:47,736 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:21:47,736 [INFO] - [cached since 144.5s ago] ('user1', 1, 0)
2025-03-26 13:21:47,817 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:47] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 13:21:47,822 [INFO] - BEGIN (implicit)
2025-03-26 13:21:47,822 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:21:47,822 [INFO] - [cached since 148.3s ago] ('1',)
2025-03-26 13:21:47,823 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:47] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:21:47,899 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:21:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:22:04,425 [INFO] - BEGIN (implicit)
2025-03-26 13:22:04,426 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:22:04,427 [INFO] - [cached since 164.9s ago] ('1',)
2025-03-26 13:22:04,432 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:22:04,433 [INFO] - BEGIN (implicit)
2025-03-26 13:22:04,433 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:22:04,433 [INFO] - [cached since 161.2s ago] ('user1', 1, 0)
2025-03-26 13:22:04,434 [INFO] - ROLLBACK
2025-03-26 13:22:04,435 [INFO] - BEGIN (implicit)
2025-03-26 13:22:04,435 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:22:04,435 [INFO] - [cached since 159.6s ago] ()
2025-03-26 13:22:04,499 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:22:04,500 [INFO] - ROLLBACK
2025-03-26 13:22:04,506 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:22:04] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:22:04,546 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:22:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:26:38,488 [INFO] - BEGIN (implicit)
2025-03-26 13:26:38,488 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:26:38,488 [INFO] - [raw sql] ()
2025-03-26 13:26:38,488 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:26:38,488 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,489 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:26:38,489 [INFO] - [raw sql] ()
2025-03-26 13:26:38,490 [INFO] - COMMIT
2025-03-26 13:26:38,499 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:26:38,499 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:26:42,463 [INFO] - BEGIN (implicit)
2025-03-26 13:26:42,464 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:26:42,464 [INFO] - [generated in 0.00011s] ('1',)
2025-03-26 13:26:42,517 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:26:42,518 [INFO] - BEGIN (implicit)
2025-03-26 13:26:42,519 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:26:42,519 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 13:26:42,532 [INFO] - ROLLBACK
2025-03-26 13:26:42,533 [INFO] - BEGIN (implicit)
2025-03-26 13:26:42,534 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:26:42,534 [INFO] - [generated in 0.00008s] ()
2025-03-26 13:26:42,793 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:26:42,793 [INFO] - ROLLBACK
2025-03-26 13:26:42,824 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:26:42,858 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:26:43,448 [INFO] - BEGIN (implicit)
2025-03-26 13:26:43,448 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:26:43,448 [INFO] - [cached since 0.9841s ago] ('1',)
2025-03-26 13:26:43,449 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:43] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 13:26:43,455 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:26:43,524 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:26:44,357 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 13:26:44,358 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:44] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 13:26:55,221 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:26:58,791 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 13:26:58,792 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:26:58] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 13:27:40,056 [INFO] - BEGIN (implicit)
2025-03-26 13:27:40,056 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:27:40,057 [INFO] - [raw sql] ()
2025-03-26 13:27:40,057 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:27:40,058 [INFO] - [raw sql] ()
2025-03-26 13:27:40,058 [INFO] - COMMIT
2025-03-26 13:27:40,071 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:27:40,071 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:27:43,875 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:27:43,914 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:27:44,884 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 13:27:44,885 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:44] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 13:27:49,609 [ERROR] - GET /api/admin/students - Unauthorized access from IP: 127.0.0.1
2025-03-26 13:27:49,611 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:49] "[31m[1mGET /admin/students HTTP/1.1[0m" 401 -
2025-03-26 13:27:50,958 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:50] "[33mGET /admin/student1 HTTP/1.1[0m" 404 -
2025-03-26 13:27:56,820 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:56] "[32mGET /admin/student/1 HTTP/1.1[0m" 302 -
2025-03-26 13:27:56,831 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:56] "GET /admin/login?next=/admin/student/1 HTTP/1.1" 200 -
2025-03-26 13:27:56,897 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:27:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:28:21,653 [INFO] - BEGIN (implicit)
2025-03-26 13:28:21,653 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:28:21,654 [INFO] - [raw sql] ()
2025-03-26 13:28:21,655 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:28:21,656 [INFO] - [raw sql] ()
2025-03-26 13:28:21,656 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:28:21,656 [INFO] - [raw sql] ()
2025-03-26 13:28:21,657 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:28:21,657 [INFO] - [raw sql] ()
2025-03-26 13:28:21,657 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:28:21,657 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,658 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:28:21,658 [INFO] - [raw sql] ()
2025-03-26 13:28:21,659 [INFO] - COMMIT
2025-03-26 13:28:21,677 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:28:21,677 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:28:27,682 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:27] "GET / HTTP/1.1" 200 -
2025-03-26 13:28:30,213 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:30] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:28:30,237 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:28:31,163 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:31] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:28:31,218 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:28:33,876 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:33] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 13:28:33,886 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:33] "GET /admin/login?next=/admin/students HTTP/1.1" 200 -
2025-03-26 13:28:33,950 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:28:35,304 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:35] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 13:28:35,308 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:35] "GET /admin/login?next=/admin/students HTTP/1.1" 200 -
2025-03-26 13:28:35,372 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:28:53,498 [INFO] - BEGIN (implicit)
2025-03-26 13:28:53,500 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:28:53,500 [INFO] - [generated in 0.00015s] ('user1', 1, 0)
2025-03-26 13:28:53,607 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:53] "[32mPOST /admin/login?next=/admin/students HTTP/1.1[0m" 302 -
2025-03-26 13:28:53,613 [INFO] - BEGIN (implicit)
2025-03-26 13:28:53,615 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:28:53,615 [INFO] - [generated in 0.00014s] (1,)
2025-03-26 13:28:53,617 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:53] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:28:53,682 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:28:57,862 [INFO] - BEGIN (implicit)
2025-03-26 13:28:57,862 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:28:57,862 [INFO] - [cached since 4.248s ago] (1,)
2025-03-26 13:28:57,863 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:28:57,864 [INFO] - BEGIN (implicit)
2025-03-26 13:28:57,865 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:28:57,865 [INFO] - [cached since 4.365s ago] ('user1', 1, 0)
2025-03-26 13:28:57,866 [INFO] - ROLLBACK
2025-03-26 13:28:57,866 [INFO] - BEGIN (implicit)
2025-03-26 13:28:57,871 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:28:57,871 [INFO] - [generated in 0.00026s] ()
2025-03-26 13:28:58,105 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:28:58,105 [INFO] - ROLLBACK
2025-03-26 13:28:58,122 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:58] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:28:58,171 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:28:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:29:06,084 [INFO] - BEGIN (implicit)
2025-03-26 13:29:06,086 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:29:06,086 [INFO] - [cached since 12.47s ago] (1,)
2025-03-26 13:29:06,088 [INFO] - BEGIN (implicit)
2025-03-26 13:29:06,092 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:06,092 [INFO] - [generated in 0.00032s] (3001, 1, 0)
2025-03-26 13:29:06,096 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:29:06,096 [INFO] - [generated in 0.00014s] ()
2025-03-26 13:29:06,135 [INFO] - ROLLBACK
2025-03-26 13:29:06,136 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:06] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:29:06,184 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:29:18,993 [INFO] - BEGIN (implicit)
2025-03-26 13:29:18,995 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:29:18,995 [INFO] - [cached since 25.37s ago] (1,)
2025-03-26 13:29:18,996 [INFO] - BEGIN (implicit)
2025-03-26 13:29:18,996 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:18,996 [INFO] - [cached since 12.9s ago] (3001, 1, 0)
2025-03-26 13:29:18,997 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:29:18,997 [INFO] - [cached since 12.9s ago] ()
2025-03-26 13:29:19,002 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:29:19,005 [INFO] - BEGIN (implicit)
2025-03-26 13:29:19,005 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:19,005 [INFO] - [cached since 25.5s ago] ('user1', 1, 0)
2025-03-26 13:29:19,010 [INFO] - ROLLBACK
2025-03-26 13:29:19,010 [INFO] - BEGIN (implicit)
2025-03-26 13:29:19,011 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:19,011 [INFO] - [cached since 12.92s ago] (3001, 1, 0)
2025-03-26 13:29:19,092 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:29:19,092 [INFO] - [generated in 0.00012s] ('scrypt:32768:8:1$R1v3JtVN925ZkSIm$f679321adb646d8f0b3ee1ab0bb7f8a22d98291cae54e85e6a909f59f59d2448f2c2139545fe1312a665f779f962ec8c71d432453e05ccf3d7d131af2c071eed', 'iVBORw0KGgoAAAANSUhEUgAACgAAAAWgCAYAAACSABrfAAAAAXNSR0IArs4c6QAAIABJREFUeF7sXQV4VNfWXaOZuBAX3N3doVBcira0pUqNtq/evrq7K3VaKBQpXry4u7uFEHebjNz7/2uHyQMKS ... (350274 characters truncated) ... BBRRQQAEFFFBAgQELRADwwIBbsQEFFFBAAQUUUKAUAqdPqmLkhKqiuj64N0P3rkxRz/qQAgoooIACCiiggAIKKKCAAgoooIACCiiggAIKKKCAAgoooIACg0DgfxxOsqzxR1fvAAAAAElFTkSuQmCC', 7)
2025-03-26 13:29:19,148 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:29:19,148 [INFO] - [generated in 0.00011s] ('1', 7)
2025-03-26 13:29:19,148 [INFO] - COMMIT
2025-03-26 13:29:19,205 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:29:19,205 [INFO] - BEGIN (implicit)
2025-03-26 13:29:19,206 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:29:19,206 [INFO] - [generated in 0.00009s] (7,)
2025-03-26 13:29:19,207 [INFO] - ROLLBACK
2025-03-26 13:29:19,207 [INFO] - ROLLBACK
2025-03-26 13:29:19,207 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:19] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:29:20,611 [INFO] - BEGIN (implicit)
2025-03-26 13:29:20,611 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:29:20,612 [INFO] - [cached since 26.99s ago] (1,)
2025-03-26 13:29:20,612 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:29:20,613 [INFO] - BEGIN (implicit)
2025-03-26 13:29:20,613 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:20,613 [INFO] - [cached since 27.11s ago] ('user1', 1, 0)
2025-03-26 13:29:20,613 [INFO] - ROLLBACK
2025-03-26 13:29:20,614 [INFO] - BEGIN (implicit)
2025-03-26 13:29:20,614 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:29:20,614 [INFO] - [cached since 22.74s ago] ()
2025-03-26 13:29:20,638 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:29:20,638 [INFO] - ROLLBACK
2025-03-26 13:29:20,645 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:20] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:29:20,681 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:29:25,669 [INFO] - BEGIN (implicit)
2025-03-26 13:29:25,671 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:29:25,671 [INFO] - [cached since 32.05s ago] (1,)
2025-03-26 13:29:25,672 [INFO] - BEGIN (implicit)
2025-03-26 13:29:25,673 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:25,673 [INFO] - [cached since 19.58s ago] (3001, 1, 0)
2025-03-26 13:29:25,674 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:29:25,674 [INFO] - [cached since 19.57s ago] ()
2025-03-26 13:29:25,676 [INFO] - ROLLBACK
2025-03-26 13:29:25,677 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:25] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:29:25,716 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:29:51,292 [INFO] - BEGIN (implicit)
2025-03-26 13:29:51,294 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:29:51,294 [INFO] - [cached since 57.67s ago] (1,)
2025-03-26 13:29:51,295 [INFO] - BEGIN (implicit)
2025-03-26 13:29:51,296 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:51,296 [INFO] - [cached since 45.2s ago] (3001, 1, 0)
2025-03-26 13:29:51,300 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:29:51,300 [INFO] - [cached since 45.2s ago] ()
2025-03-26 13:29:51,302 [INFO] - PATCH /api/admin/student/3001 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:29:51,302 [INFO] - BEGIN (implicit)
2025-03-26 13:29:51,302 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:51,302 [INFO] - [cached since 57.79s ago] ('user1', 1, 0)
2025-03-26 13:29:51,303 [INFO] - ROLLBACK
2025-03-26 13:29:51,303 [INFO] - BEGIN (implicit)
2025-03-26 13:29:51,303 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:51,303 [INFO] - [cached since 45.21s ago] (3001, 1, 0)
2025-03-26 13:29:51,377 [INFO] - UPDATE users SET password_hash=?, profile_picture=? WHERE users.user_id = ?
2025-03-26 13:29:51,377 [INFO] - [cached since 32.28s ago] ('scrypt:32768:8:1$8024ddQIrgQGQV8H$413b4241b55ac8e8a27487c62020e54a933b2ee0328d4178044a3d9822f92e108a1a4764ce7484d1facca0ce57df1d00ec5e8133d090a615b3d5b432360afa50', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 7)
2025-03-26 13:29:51,378 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 13:29:51,378 [INFO] - [cached since 32.23s ago] ('1', 7)
2025-03-26 13:29:51,378 [INFO] - COMMIT
2025-03-26 13:29:51,381 [INFO] - PATCH /api/admin/student/3001 - Updated by user user1
2025-03-26 13:29:51,381 [INFO] - BEGIN (implicit)
2025-03-26 13:29:51,381 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 13:29:51,381 [INFO] - [cached since 32.17s ago] (7,)
2025-03-26 13:29:51,382 [INFO] - ROLLBACK
2025-03-26 13:29:51,382 [INFO] - ROLLBACK
2025-03-26 13:29:51,382 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:51] "POST /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:29:52,727 [INFO] - BEGIN (implicit)
2025-03-26 13:29:52,728 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:29:52,728 [INFO] - [cached since 59.1s ago] (1,)
2025-03-26 13:29:52,728 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:29:52,729 [INFO] - BEGIN (implicit)
2025-03-26 13:29:52,729 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:29:52,729 [INFO] - [cached since 59.22s ago] ('user1', 1, 0)
2025-03-26 13:29:52,732 [INFO] - ROLLBACK
2025-03-26 13:29:52,732 [INFO] - BEGIN (implicit)
2025-03-26 13:29:52,733 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:29:52,733 [INFO] - [cached since 54.85s ago] ()
2025-03-26 13:29:52,758 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:29:52,758 [INFO] - ROLLBACK
2025-03-26 13:29:52,766 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:52] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:29:52,799 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:29:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:30:11,730 [INFO] - BEGIN (implicit)
2025-03-26 13:30:11,732 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:30:11,732 [INFO] - [cached since 78.11s ago] (1,)
2025-03-26 13:30:11,733 [INFO] - BEGIN (implicit)
2025-03-26 13:30:11,733 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:30:11,733 [INFO] - [cached since 65.64s ago] (3000, 1, 0)
2025-03-26 13:30:11,744 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:30:11,744 [INFO] - [cached since 65.64s ago] ()
2025-03-26 13:30:11,746 [INFO] - ROLLBACK
2025-03-26 13:30:11,747 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:30:11] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:30:11,787 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:30:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:30:25,895 [INFO] - BEGIN (implicit)
2025-03-26 13:30:25,898 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:30:25,899 [INFO] - [cached since 92.28s ago] (1,)
2025-03-26 13:30:25,899 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:30:25,900 [INFO] - BEGIN (implicit)
2025-03-26 13:30:25,900 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:30:25,900 [INFO] - [cached since 92.39s ago] ('user1', 1, 0)
2025-03-26 13:30:25,901 [INFO] - ROLLBACK
2025-03-26 13:30:25,901 [INFO] - BEGIN (implicit)
2025-03-26 13:30:25,902 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:30:25,902 [INFO] - [cached since 88.02s ago] ()
2025-03-26 13:30:25,926 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:30:25,926 [INFO] - ROLLBACK
2025-03-26 13:30:25,932 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:30:25] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:30:25,968 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:30:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:25,439 [INFO] - BEGIN (implicit)
2025-03-26 13:46:25,439 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:46:25,439 [INFO] - [raw sql] ()
2025-03-26 13:46:25,439 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:46:25,439 [INFO] - [raw sql] ()
2025-03-26 13:46:25,439 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:46:25,440 [INFO] - [raw sql] ()
2025-03-26 13:46:25,440 [INFO] - COMMIT
2025-03-26 13:46:25,453 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:46:25,453 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:46:26,875 [INFO] - BEGIN (implicit)
2025-03-26 13:46:26,876 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:26,876 [INFO] - [generated in 0.00013s] (1,)
2025-03-26 13:46:26,879 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:26] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:46:26,977 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:30,622 [INFO] - BEGIN (implicit)
2025-03-26 13:46:30,623 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:30,623 [INFO] - [cached since 3.746s ago] (1,)
2025-03-26 13:46:30,667 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:46:30,667 [INFO] - BEGIN (implicit)
2025-03-26 13:46:30,668 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:46:30,668 [INFO] - [generated in 0.00011s] ('user1', 1, 0)
2025-03-26 13:46:30,669 [INFO] - ROLLBACK
2025-03-26 13:46:30,670 [INFO] - BEGIN (implicit)
2025-03-26 13:46:30,671 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:46:30,671 [INFO] - [generated in 0.00008s] ()
2025-03-26 13:46:30,930 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:46:30,930 [INFO] - ROLLBACK
2025-03-26 13:46:30,951 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:30] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:46:31,002 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:32,813 [INFO] - BEGIN (implicit)
2025-03-26 13:46:32,813 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:32,813 [INFO] - [cached since 5.937s ago] (1,)
2025-03-26 13:46:32,814 [INFO] - BEGIN (implicit)
2025-03-26 13:46:32,818 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:46:32,818 [INFO] - [generated in 0.00026s] (3000, 1, 0)
2025-03-26 13:46:32,823 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:46:32,823 [INFO] - [generated in 0.00016s] ()
2025-03-26 13:46:32,859 [INFO] - ROLLBACK
2025-03-26 13:46:32,860 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:32] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:46:32,904 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:49,402 [INFO] - BEGIN (implicit)
2025-03-26 13:46:49,402 [INFO] - PRAGMA main.table_info("users")
2025-03-26 13:46:49,402 [INFO] - [raw sql] ()
2025-03-26 13:46:49,403 [INFO] - PRAGMA main.table_info("students")
2025-03-26 13:46:49,403 [INFO] - [raw sql] ()
2025-03-26 13:46:49,403 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 13:46:49,403 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 13:46:49,404 [INFO] - [raw sql] ()
2025-03-26 13:46:49,404 [INFO] - COMMIT
2025-03-26 13:46:49,420 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 13:46:49,420 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 13:46:51,897 [INFO] - BEGIN (implicit)
2025-03-26 13:46:51,898 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:51,898 [INFO] - [generated in 0.00011s] (1,)
2025-03-26 13:46:51,901 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:51] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:46:51,952 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:54,476 [INFO] - BEGIN (implicit)
2025-03-26 13:46:54,476 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:54,476 [INFO] - [cached since 2.578s ago] (1,)
2025-03-26 13:46:54,477 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:46:54,478 [INFO] - BEGIN (implicit)
2025-03-26 13:46:54,480 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:46:54,481 [INFO] - [generated in 0.00026s] ('user1', 1, 0)
2025-03-26 13:46:54,484 [INFO] - ROLLBACK
2025-03-26 13:46:54,485 [INFO] - BEGIN (implicit)
2025-03-26 13:46:54,488 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:46:54,488 [INFO] - [generated in 0.00012s] ()
2025-03-26 13:46:54,537 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:46:54,537 [INFO] - ROLLBACK
2025-03-26 13:46:54,544 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:54] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:46:54,586 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:55,958 [INFO] - BEGIN (implicit)
2025-03-26 13:46:55,995 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:55,995 [INFO] - [cached since 4.096s ago] (1,)
2025-03-26 13:46:55,995 [INFO] - BEGIN (implicit)
2025-03-26 13:46:55,997 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:46:55,997 [INFO] - [generated in 0.00011s] (3001, 1, 0)
2025-03-26 13:46:55,998 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:46:55,998 [INFO] - [generated in 0.00007s] ()
2025-03-26 13:46:56,002 [INFO] - ROLLBACK
2025-03-26 13:46:56,002 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:56] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:46:56,039 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:57,879 [INFO] - BEGIN (implicit)
2025-03-26 13:46:57,879 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:57,880 [INFO] - [cached since 5.981s ago] (1,)
2025-03-26 13:46:57,880 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:46:57,881 [INFO] - BEGIN (implicit)
2025-03-26 13:46:57,881 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:46:57,881 [INFO] - [cached since 3.401s ago] ('user1', 1, 0)
2025-03-26 13:46:57,882 [INFO] - ROLLBACK
2025-03-26 13:46:57,882 [INFO] - BEGIN (implicit)
2025-03-26 13:46:57,882 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:46:57,882 [INFO] - [cached since 3.394s ago] ()
2025-03-26 13:46:57,888 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:46:57,888 [INFO] - ROLLBACK
2025-03-26 13:46:57,895 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:57] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:46:57,940 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:46:58,642 [INFO] - BEGIN (implicit)
2025-03-26 13:46:58,642 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:46:58,642 [INFO] - [cached since 6.744s ago] (1,)
2025-03-26 13:46:58,643 [INFO] - BEGIN (implicit)
2025-03-26 13:46:58,643 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:46:58,643 [INFO] - [cached since 2.647s ago] (3000, 1, 0)
2025-03-26 13:46:58,645 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:46:58,645 [INFO] - [cached since 2.647s ago] ()
2025-03-26 13:46:58,648 [INFO] - ROLLBACK
2025-03-26 13:46:58,650 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:58] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:46:58,689 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:46:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:47:04,506 [INFO] - BEGIN (implicit)
2025-03-26 13:47:04,507 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:47:04,507 [INFO] - [cached since 12.61s ago] (1,)
2025-03-26 13:47:04,507 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:47:04,508 [INFO] - BEGIN (implicit)
2025-03-26 13:47:04,508 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:47:04,508 [INFO] - [cached since 10.03s ago] ('user1', 1, 0)
2025-03-26 13:47:04,511 [INFO] - ROLLBACK
2025-03-26 13:47:04,511 [INFO] - BEGIN (implicit)
2025-03-26 13:47:04,511 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:47:04,512 [INFO] - [cached since 10.02s ago] ()
2025-03-26 13:47:04,519 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:47:04,519 [INFO] - ROLLBACK
2025-03-26 13:47:04,525 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:47:04] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:47:04,574 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:47:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:47:13,899 [INFO] - BEGIN (implicit)
2025-03-26 13:47:13,900 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:47:13,900 [INFO] - [cached since 22s ago] (1,)
2025-03-26 13:47:13,901 [INFO] - BEGIN (implicit)
2025-03-26 13:47:13,902 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:47:13,902 [INFO] - [cached since 17.91s ago] (3001, 1, 0)
2025-03-26 13:47:13,903 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:47:13,903 [INFO] - [cached since 17.9s ago] ()
2025-03-26 13:47:13,904 [INFO] - ROLLBACK
2025-03-26 13:47:13,904 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:47:13] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 13:47:13,936 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:47:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:47:22,796 [INFO] - BEGIN (implicit)
2025-03-26 13:47:22,796 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:47:22,796 [INFO] - [cached since 30.9s ago] (1,)
2025-03-26 13:47:22,797 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:47:22,797 [INFO] - BEGIN (implicit)
2025-03-26 13:47:22,798 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:47:22,798 [INFO] - [cached since 28.32s ago] ('user1', 1, 0)
2025-03-26 13:47:22,798 [INFO] - ROLLBACK
2025-03-26 13:47:22,798 [INFO] - BEGIN (implicit)
2025-03-26 13:47:22,799 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:47:22,799 [INFO] - [cached since 28.31s ago] ()
2025-03-26 13:47:22,813 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:47:22,813 [INFO] - ROLLBACK
2025-03-26 13:47:22,819 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:47:22] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:47:22,863 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:47:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:05,083 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:05] "[33mGET /admin/student/new HTTP/1.1[0m" 404 -
2025-03-26 13:49:15,118 [INFO] - BEGIN (implicit)
2025-03-26 13:49:15,119 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:49:15,119 [INFO] - [cached since 143.2s ago] (1,)
2025-03-26 13:49:15,121 [INFO] - BEGIN (implicit)
2025-03-26 13:49:15,122 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:49:15,122 [INFO] - [cached since 139.1s ago] (3049, 1, 0)
2025-03-26 13:49:15,126 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:49:15,126 [INFO] - [cached since 139.1s ago] ()
2025-03-26 13:49:15,127 [INFO] - ROLLBACK
2025-03-26 13:49:15,128 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:15] "GET /admin/student/3049 HTTP/1.1" 200 -
2025-03-26 13:49:15,169 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:21,732 [INFO] - BEGIN (implicit)
2025-03-26 13:49:21,733 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:49:21,734 [INFO] - [cached since 149.8s ago] (1,)
2025-03-26 13:49:21,734 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:49:21,735 [INFO] - BEGIN (implicit)
2025-03-26 13:49:21,735 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:49:21,735 [INFO] - [cached since 147.3s ago] ('user1', 1, 0)
2025-03-26 13:49:21,736 [INFO] - ROLLBACK
2025-03-26 13:49:21,736 [INFO] - BEGIN (implicit)
2025-03-26 13:49:21,737 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:49:21,737 [INFO] - [cached since 147.2s ago] ()
2025-03-26 13:49:21,751 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:49:21,751 [INFO] - ROLLBACK
2025-03-26 13:49:21,757 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:21] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:49:21,798 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:46,871 [INFO] - BEGIN (implicit)
2025-03-26 13:49:46,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:49:46,872 [INFO] - [cached since 175s ago] (1,)
2025-03-26 13:49:46,872 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:49:46,873 [INFO] - BEGIN (implicit)
2025-03-26 13:49:46,873 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:49:46,873 [INFO] - [cached since 172.4s ago] ('user1', 1, 0)
2025-03-26 13:49:46,873 [INFO] - ROLLBACK
2025-03-26 13:49:46,874 [INFO] - BEGIN (implicit)
2025-03-26 13:49:46,874 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:49:46,874 [INFO] - [cached since 172.4s ago] ()
2025-03-26 13:49:46,879 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:49:46,880 [INFO] - ROLLBACK
2025-03-26 13:49:46,887 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:46] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:49:46,924 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:49,212 [INFO] - BEGIN (implicit)
2025-03-26 13:49:49,213 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:49:49,213 [INFO] - [cached since 177.3s ago] (1,)
2025-03-26 13:49:49,214 [INFO] - BEGIN (implicit)
2025-03-26 13:49:49,214 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 13:49:49,215 [INFO] - [cached since 173.2s ago] (3000, 1, 0)
2025-03-26 13:49:49,224 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 13:49:49,224 [INFO] - [cached since 173.2s ago] ()
2025-03-26 13:49:49,226 [INFO] - ROLLBACK
2025-03-26 13:49:49,227 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:49] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 13:49:49,275 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:49] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:50,919 [INFO] - BEGIN (implicit)
2025-03-26 13:49:50,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:49:50,920 [INFO] - [cached since 179s ago] (1,)
2025-03-26 13:49:50,921 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 13:49:50,922 [INFO] - BEGIN (implicit)
2025-03-26 13:49:50,922 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 13:49:50,922 [INFO] - [cached since 176.4s ago] ('user1', 1, 0)
2025-03-26 13:49:50,923 [INFO] - ROLLBACK
2025-03-26 13:49:50,923 [INFO] - BEGIN (implicit)
2025-03-26 13:49:50,923 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 13:49:50,923 [INFO] - [cached since 176.4s ago] ()
2025-03-26 13:49:50,934 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 13:49:50,934 [INFO] - ROLLBACK
2025-03-26 13:49:50,940 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:50] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 13:49:50,988 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:51,596 [INFO] - BEGIN (implicit)
2025-03-26 13:49:51,596 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 13:49:51,597 [INFO] - [cached since 179.7s ago] (1,)
2025-03-26 13:49:51,598 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:51] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 13:49:51,604 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:51] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 13:49:51,671 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:52,706 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:52] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 13:49:52,937 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:52] "GET /admin/login?next=/admin/students HTTP/1.1" 200 -
2025-03-26 13:49:53,018 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 13:49:54,522 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:54] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 13:49:54,527 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:54] "GET /admin/login?next=/admin/students HTTP/1.1" 200 -
2025-03-26 13:49:54,591 [INFO] - 127.0.0.1 - - [26/Mar/2025 13:49:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:01,904 [INFO] - BEGIN (implicit)
2025-03-26 14:04:01,904 [INFO] - PRAGMA main.table_info("users")
2025-03-26 14:04:01,904 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("students")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 14:04:01,915 [INFO] - [raw sql] ()
2025-03-26 14:04:01,915 [INFO] - COMMIT
2025-03-26 14:04:01,932 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 14:04:01,932 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 14:04:08,323 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:08] "GET /admin/login?next=/admin/students HTTP/1.1" 200 -
2025-03-26 14:04:08,383 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:21,354 [INFO] - BEGIN (implicit)
2025-03-26 14:04:21,357 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 14:04:21,357 [INFO] - [generated in 0.00018s] ('user1', 1, 0)
2025-03-26 14:04:21,463 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:21] "[32mPOST /admin/login?next=/admin/students HTTP/1.1[0m" 302 -
2025-03-26 14:04:21,486 [INFO] - BEGIN (implicit)
2025-03-26 14:04:21,487 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:04:21,487 [INFO] - [generated in 0.00011s] (1,)
2025-03-26 14:04:21,490 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:21] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:04:21,562 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:40,545 [INFO] - BEGIN (implicit)
2025-03-26 14:04:40,547 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:04:40,547 [INFO] - [cached since 19.06s ago] (1,)
2025-03-26 14:04:40,553 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 14:04:40,554 [INFO] - BEGIN (implicit)
2025-03-26 14:04:40,554 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 14:04:40,554 [INFO] - [cached since 19.2s ago] ('user1', 1, 0)
2025-03-26 14:04:40,557 [INFO] - ROLLBACK
2025-03-26 14:04:40,559 [INFO] - BEGIN (implicit)
2025-03-26 14:04:40,561 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 14:04:40,562 [INFO] - [generated in 0.00013s] ()
2025-03-26 14:04:40,921 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 14:04:40,921 [INFO] - ROLLBACK
2025-03-26 14:04:40,942 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 14:04:40,983 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:42,408 [INFO] - BEGIN (implicit)
2025-03-26 14:04:42,409 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:04:42,409 [INFO] - [cached since 20.92s ago] (1,)
2025-03-26 14:04:42,409 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:42] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 14:04:42,416 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:04:42,485 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:43,414 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:43] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 14:04:43,421 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:43] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:04:43,487 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:52,165 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:52] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 14:04:52,170 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:52] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:04:52,235 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:55,564 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:55] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 14:04:55,569 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:55] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:04:55,624 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:04:58,442 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:58] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:04:58,472 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:04:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:05:08,801 [INFO] - BEGIN (implicit)
2025-03-26 14:05:08,802 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 14:05:08,802 [INFO] - [cached since 47.45s ago] ('user1', 1, 0)
2025-03-26 14:05:08,882 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:05:08] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 14:05:08,889 [INFO] - BEGIN (implicit)
2025-03-26 14:05:08,889 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:05:08,889 [INFO] - [cached since 47.4s ago] (1,)
2025-03-26 14:05:08,892 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:05:08] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:05:08,961 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:05:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:06:07,109 [INFO] - BEGIN (implicit)
2025-03-26 14:06:07,147 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:06:07,147 [INFO] - [cached since 105.7s ago] (1,)
2025-03-26 14:06:07,158 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 14:06:07,158 [INFO] - BEGIN (implicit)
2025-03-26 14:06:07,159 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 14:06:07,159 [INFO] - [cached since 105.8s ago] ('user1', 1, 0)
2025-03-26 14:06:07,160 [INFO] - ROLLBACK
2025-03-26 14:06:07,160 [INFO] - BEGIN (implicit)
2025-03-26 14:06:07,160 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 14:06:07,160 [INFO] - [cached since 86.6s ago] ()
2025-03-26 14:06:07,173 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 14:06:07,173 [INFO] - ROLLBACK
2025-03-26 14:06:07,179 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:07] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 14:06:07,234 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:06:13,953 [INFO] - BEGIN (implicit)
2025-03-26 14:06:13,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:06:13,954 [INFO] - [cached since 112.5s ago] (1,)
2025-03-26 14:06:13,955 [INFO] - BEGIN (implicit)
2025-03-26 14:06:13,960 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 14:06:13,960 [INFO] - [generated in 0.00029s] (3000, 1, 0)
2025-03-26 14:06:13,965 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 14:06:13,965 [INFO] - [generated in 0.00018s] ()
2025-03-26 14:06:14,005 [INFO] - ROLLBACK
2025-03-26 14:06:14,005 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:14] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 14:06:14,047 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:06:16,415 [INFO] - BEGIN (implicit)
2025-03-26 14:06:16,416 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:06:16,416 [INFO] - [cached since 114.9s ago] (1,)
2025-03-26 14:06:16,417 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:16] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 14:06:16,422 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:16] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:06:16,485 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:06:41,875 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:41] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 14:06:41,882 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:41] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:06:41,951 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:06:51,269 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:51] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 14:06:51,274 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:51] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:06:51,308 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:06:57,285 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:57] "[32mGET /admin/student/1 HTTP/1.1[0m" 302 -
2025-03-26 14:06:57,292 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:57] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:06:57,356 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:06:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:07:01,332 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:01] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 14:07:01,336 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:01] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:07:01,368 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:07:08,906 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:08] "[32mGET /admin/student/3000 HTTP/1.1[0m" 302 -
2025-03-26 14:07:08,912 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:08] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 14:07:08,975 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:07:22,655 [INFO] - BEGIN (implicit)
2025-03-26 14:07:22,656 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 14:07:22,656 [INFO] - [cached since 181.3s ago] ('user1', 1, 0)
2025-03-26 14:07:22,770 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:22] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 14:07:22,778 [INFO] - BEGIN (implicit)
2025-03-26 14:07:22,778 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:07:22,778 [INFO] - [cached since 181.3s ago] (1,)
2025-03-26 14:07:22,779 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:22] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:07:22,848 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:07:28,377 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:28] "GET / HTTP/1.1" 200 -
2025-03-26 14:07:31,178 [INFO] - BEGIN (implicit)
2025-03-26 14:07:31,179 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:07:31,179 [INFO] - [cached since 189.7s ago] (1,)
2025-03-26 14:07:31,180 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:31] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:07:31,213 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 14:07:33,036 [INFO] - BEGIN (implicit)
2025-03-26 14:07:33,036 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 14:07:33,037 [INFO] - [cached since 191.6s ago] (1,)
2025-03-26 14:07:33,038 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:33] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 14:07:33,107 [INFO] - 127.0.0.1 - - [26/Mar/2025 14:07:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 16:21:05,804 [INFO] - BEGIN (implicit)
2025-03-26 16:21:05,847 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 16:21:05,847 [INFO] - [cached since 8204s ago] (1,)
2025-03-26 16:21:05,868 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 16:21:05,870 [INFO] - BEGIN (implicit)
2025-03-26 16:21:05,871 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 16:21:05,871 [INFO] - [cached since 8204s ago] ('user1', 1, 0)
2025-03-26 16:21:05,895 [INFO] - ROLLBACK
2025-03-26 16:21:05,896 [INFO] - BEGIN (implicit)
2025-03-26 16:21:05,897 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 16:21:05,897 [INFO] - [cached since 8185s ago] ()
2025-03-26 16:21:06,273 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 16:21:06,273 [INFO] - ROLLBACK
2025-03-26 16:21:06,285 [INFO] - 127.0.0.1 - - [26/Mar/2025 16:21:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 16:21:06,352 [INFO] - 127.0.0.1 - - [26/Mar/2025 16:21:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 16:59:04,020 [INFO] - BEGIN (implicit)
2025-03-26 16:59:04,063 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 16:59:04,064 [INFO] - [cached since 1.048e+04s ago] (1,)
2025-03-26 16:59:04,083 [INFO] - BEGIN (implicit)
2025-03-26 16:59:04,084 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 16:59:04,084 [INFO] - [cached since 1.037e+04s ago] (3004, 1, 0)
2025-03-26 16:59:04,114 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 16:59:04,114 [INFO] - [cached since 1.037e+04s ago] ()
2025-03-26 16:59:04,128 [INFO] - ROLLBACK
2025-03-26 16:59:04,129 [INFO] - 127.0.0.1 - - [26/Mar/2025 16:59:04] "GET /admin/student/3004 HTTP/1.1" 200 -
2025-03-26 16:59:04,189 [INFO] - 127.0.0.1 - - [26/Mar/2025 16:59:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:00:19,799 [INFO] - BEGIN (implicit)
2025-03-26 17:00:19,801 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:00:19,801 [INFO] - [cached since 1.056e+04s ago] (1,)
2025-03-26 17:00:20,103 [INFO] - BEGIN (implicit)
2025-03-26 17:00:20,104 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:00:20,104 [INFO] - [cached since 1.045e+04s ago] (3000, 1, 0)
2025-03-26 17:00:20,259 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:00:20,259 [INFO] - [cached since 1.045e+04s ago] ()
2025-03-26 17:00:20,266 [INFO] - ROLLBACK
2025-03-26 17:00:20,267 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:00:20] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 17:00:20,353 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:00:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:00:31,501 [INFO] - BEGIN (implicit)
2025-03-26 17:00:31,503 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:00:31,503 [INFO] - [cached since 1.057e+04s ago] (1,)
2025-03-26 17:00:31,505 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:00:31,505 [INFO] - BEGIN (implicit)
2025-03-26 17:00:31,505 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:00:31,505 [INFO] - [cached since 1.057e+04s ago] ('user1', 1, 0)
2025-03-26 17:00:31,508 [INFO] - ROLLBACK
2025-03-26 17:00:31,508 [INFO] - BEGIN (implicit)
2025-03-26 17:00:31,508 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:00:31,508 [INFO] - [cached since 1.055e+04s ago] ()
2025-03-26 17:00:31,752 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 17:00:31,752 [INFO] - ROLLBACK
2025-03-26 17:00:31,762 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:00:31] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 17:00:31,797 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:00:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:02:39,170 [INFO] - BEGIN (implicit)
2025-03-26 17:02:39,172 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:02:39,173 [INFO] - [cached since 1.07e+04s ago] (1,)
2025-03-26 17:02:39,178 [INFO] - BEGIN (implicit)
2025-03-26 17:02:39,178 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:02:39,179 [INFO] - [cached since 1.059e+04s ago] (3000, 1, 0)
2025-03-26 17:02:39,197 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:02:39,197 [INFO] - [cached since 1.059e+04s ago] ()
2025-03-26 17:02:39,199 [INFO] - ROLLBACK
2025-03-26 17:02:39,200 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:02:39] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 17:02:39,253 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:02:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:02:40,177 [INFO] - BEGIN (implicit)
2025-03-26 17:02:40,177 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:02:40,177 [INFO] - [cached since 1.07e+04s ago] (1,)
2025-03-26 17:02:40,179 [INFO] - BEGIN (implicit)
2025-03-26 17:02:40,179 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:02:40,179 [INFO] - [cached since 1.059e+04s ago] (3000, 1, 0)
2025-03-26 17:02:40,184 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:02:40,184 [INFO] - [cached since 1.059e+04s ago] ()
2025-03-26 17:02:40,188 [INFO] - PATCH /api/admin/student/3000 - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:02:40,189 [INFO] - BEGIN (implicit)
2025-03-26 17:02:40,189 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:02:40,189 [INFO] - [cached since 1.07e+04s ago] ('user1', 1, 0)
2025-03-26 17:02:40,191 [INFO] - ROLLBACK
2025-03-26 17:02:40,191 [INFO] - BEGIN (implicit)
2025-03-26 17:02:40,192 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:02:40,192 [INFO] - [cached since 1.059e+04s ago] (3000, 1, 0)
2025-03-26 17:02:40,288 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 17:02:40,288 [INFO] - [generated in 0.00014s] ('scrypt:32768:8:1$kviFRf3f0W8iX7TV$543f17463916e2d88614a1c17a673656633ac48f293aa454eb7d56099c8f9faea8392850ee279d85043ac24b0e8e1bfd0eba2605b70dbf9385ba3f49d164032f', 6)
2025-03-26 17:02:40,574 [INFO] - UPDATE students SET class_id=? WHERE students.user_id = ?
2025-03-26 17:02:40,574 [INFO] - [generated in 0.00014s] ('1', 6)
2025-03-26 17:02:40,575 [INFO] - COMMIT
2025-03-26 17:02:40,581 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1
2025-03-26 17:02:40,581 [INFO] - BEGIN (implicit)
2025-03-26 17:02:40,584 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 17:02:40,584 [INFO] - [generated in 0.00008s] (6,)
2025-03-26 17:02:40,585 [INFO] - ROLLBACK
2025-03-26 17:02:40,586 [INFO] - ROLLBACK
2025-03-26 17:02:40,586 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:02:40] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 17:02:42,498 [INFO] - BEGIN (implicit)
2025-03-26 17:02:42,499 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:02:42,499 [INFO] - [cached since 1.07e+04s ago] (1,)
2025-03-26 17:02:42,500 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:02:42,500 [INFO] - BEGIN (implicit)
2025-03-26 17:02:42,501 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:02:42,501 [INFO] - [cached since 1.07e+04s ago] ('user1', 1, 0)
2025-03-26 17:02:42,503 [INFO] - ROLLBACK
2025-03-26 17:02:42,503 [INFO] - BEGIN (implicit)
2025-03-26 17:02:42,503 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:02:42,504 [INFO] - [cached since 1.068e+04s ago] ()
2025-03-26 17:02:42,561 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 17:02:42,561 [INFO] - ROLLBACK
2025-03-26 17:02:42,570 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:02:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 17:02:42,629 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:02:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:16:30,735 [INFO] - BEGIN (implicit)
2025-03-26 17:16:30,735 [INFO] - PRAGMA main.table_info("users")
2025-03-26 17:16:30,735 [INFO] - [raw sql] ()
2025-03-26 17:16:30,735 [INFO] - PRAGMA main.table_info("students")
2025-03-26 17:16:30,735 [INFO] - [raw sql] ()
2025-03-26 17:16:30,735 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 17:16:30,735 [INFO] - [raw sql] ()
2025-03-26 17:16:30,735 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 17:16:30,736 [INFO] - [raw sql] ()
2025-03-26 17:16:30,736 [INFO] - COMMIT
2025-03-26 17:16:30,748 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 17:16:30,748 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 17:16:36,688 [INFO] - BEGIN (implicit)
2025-03-26 17:16:36,689 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:16:36,689 [INFO] - [generated in 0.00015s] (1,)
2025-03-26 17:16:36,693 [INFO] - BEGIN (implicit)
2025-03-26 17:16:36,694 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:16:36,694 [INFO] - [generated in 0.00008s] ()
2025-03-26 17:16:36,698 [INFO] - ROLLBACK
2025-03-26 17:16:36,736 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:16:36] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 17:16:36,831 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:16:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:18:40,783 [INFO] - BEGIN (implicit)
2025-03-26 17:18:40,784 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:18:40,785 [INFO] - [cached since 124.1s ago] (1,)
2025-03-26 17:18:41,075 [INFO] - POST None - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:18:41,076 [INFO] - BEGIN (implicit)
2025-03-26 17:18:41,079 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:18:41,080 [INFO] - [generated in 0.00024s] ('user1', 1, 0)
2025-03-26 17:18:41,082 [INFO] - ROLLBACK
2025-03-26 17:18:41,083 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:18:41] "[31m[1mPOST /api/admin/student HTTP/1.1[0m" 415 -
2025-03-26 17:50:42,706 [INFO] - BEGIN (implicit)
2025-03-26 17:50:42,716 [INFO] - PRAGMA main.table_info("users")
2025-03-26 17:50:42,716 [INFO] - [raw sql] ()
2025-03-26 17:50:42,718 [INFO] - PRAGMA main.table_info("students")
2025-03-26 17:50:42,718 [INFO] - [raw sql] ()
2025-03-26 17:50:42,718 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 17:50:42,718 [INFO] - [raw sql] ()
2025-03-26 17:50:42,718 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 17:50:42,719 [INFO] - [raw sql] ()
2025-03-26 17:50:42,719 [INFO] - COMMIT
2025-03-26 17:50:42,745 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 17:50:42,745 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 17:50:45,474 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,476 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,476 [INFO] - [generated in 0.00011s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:50:45,497 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:50:45,499 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,499 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,499 [INFO] - [generated in 0.00008s] ('1', 1, 0)
2025-03-26 17:50:45,500 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,501 [INFO] - [generated in 0.00008s] ('test_student', 'john.doe@example.com', 1, 0)
2025-03-26 17:50:45,501 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 17:50:45,501 [INFO] - [generated in 0.00005s] ()
2025-03-26 17:50:45,576 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 17:50:45,576 [INFO] - [generated in 0.00016s] ('test_student', 'scrypt:32768:8:1$GZW5Xwz09DrE3FxC$a3b7b613976ee323dc4fee8db8bf38298f6564a3179a4aee43e8f95fa9e049f9c72cbba3716252a41ec20c52d43cac12348ee5e986538866e37594de5cd560bd', 'John', 'Doe', 'john.doe@example.com', '+1234567890', '', '6aa19904-593b-4d08-bd49-f51e453e6a37')
2025-03-26 17:50:45,584 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 17:50:45,584 [INFO] - [generated in 0.00011s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 17:50:45,584 [INFO] - COMMIT
2025-03-26 17:50:45,589 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,589 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 17:50:45,589 [INFO] - [generated in 0.00007s] (1,)
2025-03-26 17:50:45,590 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 17:50:45,590 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 17:50:45,590 [INFO] - POST /api/admin/student - Student 3050 created by user test_student
2025-03-26 17:50:45,590 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:50:45,590 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 17:50:45,590 [INFO] - ROLLBACK
2025-03-26 17:50:45,591 [INFO] - ROLLBACK
2025-03-26 17:50:45,591 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:50:45] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 17:50:45,593 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,593 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,593 [INFO] - [cached since 0.1173s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:50:45,593 [INFO] - GET /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:50:45,594 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,597 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 17:50:45,597 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 17:50:45,597 [INFO] - GET /api/admin/student/3050 - Retrieved by user user2
2025-03-26 17:50:45,597 [INFO] - ROLLBACK
2025-03-26 17:50:45,597 [INFO] - ROLLBACK
2025-03-26 17:50:45,597 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:50:45] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:50:45,599 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,599 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,599 [INFO] - [cached since 0.1232s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:50:45,599 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:50:45,599 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,601 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,601 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 17:50:45,602 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 17:50:45,602 [INFO] - [generated in 0.00007s] ('Johnny', 71)
2025-03-26 17:50:45,603 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,603 [INFO] - [generated in 0.00008s] ('johnny.doe@example.com', 71, 1, 0)
2025-03-26 17:50:45,603 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 17:50:45,603 [INFO] - [generated in 0.00005s] ('johnny.doe@example.com', 71)
2025-03-26 17:50:45,604 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 17:50:45,604 [INFO] - [generated in 0.00007s] ('2005-05-16', 71)
2025-03-26 17:50:45,604 [INFO] - COMMIT
2025-03-26 17:50:45,607 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2: {'first_name': 'Johnny', 'email': 'johnny.doe@example.com', 'birth_date': '2005-05-16'}
2025-03-26 17:50:45,607 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,608 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 17:50:45,608 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 17:50:45,609 [INFO] - ROLLBACK
2025-03-26 17:50:45,609 [INFO] - ROLLBACK
2025-03-26 17:50:45,609 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:50:45] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:50:45,610 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,611 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,611 [INFO] - [cached since 0.1347s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:50:45,611 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:50:45,611 [INFO] - BEGIN (implicit)
2025-03-26 17:50:45,612 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:50:45,612 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-26 17:50:45,613 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 17:50:45,613 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:50:45,613 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 17:50:45,613 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 17:50:45,614 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 17:50:45,614 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:50:45,614 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 17:50:45,614 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 17:50:45,615 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 17:50:45,615 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 17:50:45,615 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 17:50:45,615 [INFO] - [generated in 0.00004s] (71,)
2025-03-26 17:50:45,615 [INFO] - COMMIT
2025-03-26 17:50:45,637 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 17:50:45,637 [INFO] - ROLLBACK
2025-03-26 17:50:45,637 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:50:45] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:51:29,354 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,355 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,355 [INFO] - [cached since 43.88s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:29,357 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:29,357 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,357 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,357 [INFO] - [cached since 43.86s ago] ('1', 1, 0)
2025-03-26 17:51:29,358 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,358 [INFO] - [cached since 43.86s ago] ('test_student', 'john.doe@example.com', 1, 0)
2025-03-26 17:51:29,359 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 17:51:29,359 [INFO] - [cached since 43.86s ago] ()
2025-03-26 17:51:29,441 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 17:51:29,441 [INFO] - [cached since 43.87s ago] ('test_student', 'scrypt:32768:8:1$6DD4PWeFpngkID5o$69f0b49d4af4f292bcd2458063612a41ccfb2038d531aa0873b00922fc156adfeb3848cc5ad6795a3b238c31d4403ddf0ed241929ac95842bdb0cf232d0be713', 'John', 'Doe', 'john.doe@example.com', '+1234567890', '', '122b8a08-3764-4527-96d9-949e4bf843c2')
2025-03-26 17:51:29,445 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 17:51:29,445 [INFO] - [cached since 43.86s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 17:51:29,445 [INFO] - COMMIT
2025-03-26 17:51:29,450 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,450 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 17:51:29,450 [INFO] - [cached since 43.86s ago] (1,)
2025-03-26 17:51:29,450 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 17:51:29,450 [INFO] - [cached since 43.86s ago] (71,)
2025-03-26 17:51:29,450 [INFO] - POST /api/admin/student - Student 3050 created by user test_student
2025-03-26 17:51:29,451 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:51:29,451 [INFO] - [cached since 43.86s ago] (71,)
2025-03-26 17:51:29,451 [INFO] - ROLLBACK
2025-03-26 17:51:29,451 [INFO] - ROLLBACK
2025-03-26 17:51:29,451 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:29] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 17:51:29,453 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,453 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,453 [INFO] - [cached since 43.98s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:29,551 [INFO] - GET /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:29,552 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,552 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 17:51:29,552 [INFO] - [cached since 43.96s ago] (3050, 1, 0)
2025-03-26 17:51:29,561 [INFO] - GET /api/admin/student/3050 - Retrieved by user user2
2025-03-26 17:51:29,561 [INFO] - ROLLBACK
2025-03-26 17:51:29,561 [INFO] - ROLLBACK
2025-03-26 17:51:29,561 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:29] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:51:29,563 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,563 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,563 [INFO] - [cached since 44.09s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:29,563 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:29,563 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,563 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,563 [INFO] - [cached since 43.96s ago] (3050, 1, 0)
2025-03-26 17:51:29,564 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 17:51:29,564 [INFO] - [cached since 43.96s ago] ('Johnny', 71)
2025-03-26 17:51:29,564 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,564 [INFO] - [cached since 43.96s ago] ('johnny.doe@example.com', 71, 1, 0)
2025-03-26 17:51:29,564 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 17:51:29,564 [INFO] - [cached since 43.96s ago] ('johnny.doe@example.com', 71)
2025-03-26 17:51:29,564 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 17:51:29,564 [INFO] - [cached since 43.96s ago] ('2005-05-16', 71)
2025-03-26 17:51:29,565 [INFO] - COMMIT
2025-03-26 17:51:29,569 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2: {'first_name': 'Johnny', 'email': 'johnny.doe@example.com', 'birth_date': '2005-05-16'}
2025-03-26 17:51:29,569 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,570 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 17:51:29,570 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,570 [INFO] - ROLLBACK
2025-03-26 17:51:29,570 [INFO] - ROLLBACK
2025-03-26 17:51:29,570 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:29] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:51:29,571 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,571 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,571 [INFO] - [cached since 44.1s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:29,572 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:29,572 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,572 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,572 [INFO] - [cached since 43.96s ago] (3050, 1, 0)
2025-03-26 17:51:29,572 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 17:51:29,572 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,572 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 17:51:29,572 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,573 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 17:51:29,573 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,573 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 17:51:29,573 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,573 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 17:51:29,573 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,574 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 17:51:29,574 [INFO] - [cached since 43.96s ago] (71,)
2025-03-26 17:51:29,574 [INFO] - COMMIT
2025-03-26 17:51:29,578 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 17:51:29,578 [INFO] - ROLLBACK
2025-03-26 17:51:29,579 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:29] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:51:29,581 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,581 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:29,581 [INFO] - [cached since 44.11s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:29,582 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:29,583 [INFO] - BEGIN (implicit)
2025-03-26 17:51:29,587 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:51:29,587 [INFO] - [generated in 0.00010s] ()
2025-03-26 17:51:30,000 [INFO] - GET /api/admin/students - Retrieved 50 students by user2
2025-03-26 17:51:30,000 [INFO] - ROLLBACK
2025-03-26 17:51:30,001 [INFO] - ROLLBACK
2025-03-26 17:51:30,006 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:30] "GET /api/admin/students HTTP/1.1" 200 -
2025-03-26 17:51:39,041 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,043 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,043 [INFO] - [cached since 53.57s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:39,180 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:39,192 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,193 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,193 [INFO] - [cached since 53.69s ago] ('1', 1, 0)
2025-03-26 17:51:39,194 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,194 [INFO] - [cached since 53.69s ago] ('test_student', 'john.doe@example.com', 1, 0)
2025-03-26 17:51:39,195 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 17:51:39,195 [INFO] - [cached since 53.69s ago] ()
2025-03-26 17:51:39,269 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 17:51:39,269 [INFO] - [cached since 53.69s ago] ('test_student', 'scrypt:32768:8:1$eaqktzeoC9NKaN1l$475d69032b42550c6988743831cb865fe2e24ea5ecaff388f318875cbb00e8ce42cb2a01db8319c07a69bba1b7d6b225e4a3d6f576d978a219043bd9fc0f4acd', 'John', 'Doe', 'john.doe@example.com', '+1234567890', '', '4933f6c2-6e76-40d5-942f-8e322cb32c77')
2025-03-26 17:51:39,270 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 17:51:39,270 [INFO] - [cached since 53.69s ago] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 17:51:39,270 [INFO] - COMMIT
2025-03-26 17:51:39,275 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,275 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 17:51:39,275 [INFO] - [cached since 53.69s ago] (1,)
2025-03-26 17:51:39,276 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 17:51:39,276 [INFO] - [cached since 53.69s ago] (71,)
2025-03-26 17:51:39,276 [INFO] - POST /api/admin/student - Student 3050 created by user test_student
2025-03-26 17:51:39,276 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:51:39,276 [INFO] - [cached since 53.69s ago] (71,)
2025-03-26 17:51:39,276 [INFO] - ROLLBACK
2025-03-26 17:51:39,276 [INFO] - ROLLBACK
2025-03-26 17:51:39,277 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:39] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 17:51:39,279 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,279 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,279 [INFO] - [cached since 53.8s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:39,279 [INFO] - GET /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:39,279 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,280 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 17:51:39,280 [INFO] - [cached since 53.68s ago] (3050, 1, 0)
2025-03-26 17:51:39,305 [INFO] - GET /api/admin/student/3050 - Retrieved by user user2
2025-03-26 17:51:39,305 [INFO] - ROLLBACK
2025-03-26 17:51:39,305 [INFO] - ROLLBACK
2025-03-26 17:51:39,305 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:39] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:51:39,308 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,308 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,308 [INFO] - [cached since 53.83s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:39,308 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:39,309 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,309 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,309 [INFO] - [cached since 53.71s ago] (3050, 1, 0)
2025-03-26 17:51:39,309 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 17:51:39,309 [INFO] - [cached since 53.71s ago] ('Johnny', 71)
2025-03-26 17:51:39,310 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,310 [INFO] - [cached since 53.71s ago] ('johnny.doe@example.com', 71, 1, 0)
2025-03-26 17:51:39,310 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 17:51:39,310 [INFO] - [cached since 53.71s ago] ('johnny.doe@example.com', 71)
2025-03-26 17:51:39,310 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 17:51:39,310 [INFO] - [cached since 53.71s ago] ('2005-05-16', 71)
2025-03-26 17:51:39,310 [INFO] - COMMIT
2025-03-26 17:51:39,315 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2: {'first_name': 'Johnny', 'email': 'johnny.doe@example.com', 'birth_date': '2005-05-16'}
2025-03-26 17:51:39,315 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,316 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 17:51:39,316 [INFO] - [cached since 53.71s ago] (71,)
2025-03-26 17:51:39,316 [INFO] - ROLLBACK
2025-03-26 17:51:39,316 [INFO] - ROLLBACK
2025-03-26 17:51:39,316 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:39] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:51:39,317 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,317 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,317 [INFO] - [cached since 53.84s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:51:39,317 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:51:39,318 [INFO] - BEGIN (implicit)
2025-03-26 17:51:39,318 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:51:39,318 [INFO] - [cached since 53.71s ago] (3050, 1, 0)
2025-03-26 17:51:39,318 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 17:51:39,318 [INFO] - [cached since 53.71s ago] (71,)
2025-03-26 17:51:39,318 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 17:51:39,318 [INFO] - [cached since 53.71s ago] (71,)
2025-03-26 17:51:39,319 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 17:51:39,319 [INFO] - [cached since 53.71s ago] (71,)
2025-03-26 17:51:39,319 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 17:51:39,319 [INFO] - [cached since 53.71s ago] (71,)
2025-03-26 17:51:39,319 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 17:51:39,319 [INFO] - [cached since 53.71s ago] (71,)
2025-03-26 17:51:39,340 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 17:51:39,340 [INFO] - [cached since 53.73s ago] (71,)
2025-03-26 17:51:39,340 [INFO] - COMMIT
2025-03-26 17:51:39,347 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 17:51:39,347 [INFO] - ROLLBACK
2025-03-26 17:51:39,347 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:51:39] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:56:33,687 [INFO] - BEGIN (implicit)
2025-03-26 17:56:33,688 [INFO] - PRAGMA main.table_info("users")
2025-03-26 17:56:33,688 [INFO] - [raw sql] ()
2025-03-26 17:56:33,689 [INFO] - PRAGMA main.table_info("students")
2025-03-26 17:56:33,689 [INFO] - [raw sql] ()
2025-03-26 17:56:33,689 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 17:56:33,689 [INFO] - [raw sql] ()
2025-03-26 17:56:33,689 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 17:56:33,689 [INFO] - [raw sql] ()
2025-03-26 17:56:33,689 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 17:56:33,689 [INFO] - [raw sql] ()
2025-03-26 17:56:33,689 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 17:56:33,689 [INFO] - [raw sql] ()
2025-03-26 17:56:33,689 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 17:56:33,689 [INFO] - [raw sql] ()
2025-03-26 17:56:33,690 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 17:56:33,690 [INFO] - [raw sql] ()
2025-03-26 17:56:33,690 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 17:56:33,690 [INFO] - [raw sql] ()
2025-03-26 17:56:33,690 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 17:56:33,690 [INFO] - [raw sql] ()
2025-03-26 17:56:33,690 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 17:56:33,690 [INFO] - [raw sql] ()
2025-03-26 17:56:33,690 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 17:56:33,690 [INFO] - [raw sql] ()
2025-03-26 17:56:33,690 [INFO] - COMMIT
2025-03-26 17:56:33,700 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 17:56:33,700 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 17:56:35,937 [INFO] - BEGIN (implicit)
2025-03-26 17:56:35,939 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:35,939 [INFO] - [generated in 0.00018s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:56:35,957 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:56:35,958 [INFO] - BEGIN (implicit)
2025-03-26 17:56:35,959 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:35,959 [INFO] - [generated in 0.00008s] ('1', 1, 0)
2025-03-26 17:56:35,961 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:35,961 [INFO] - [generated in 0.00008s] ('test_student', 'john.doe@example.com', 1, 0)
2025-03-26 17:56:35,961 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 17:56:35,961 [INFO] - [generated in 0.00006s] ()
2025-03-26 17:56:36,052 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 17:56:36,052 [INFO] - [generated in 0.00016s] ('test_student', 'scrypt:32768:8:1$83ICFv1RKaOUocPk$60a4d4d958780a9a5f3130cbfbaa570d35445db9f9cd0e1f37780b866bc9b7f88586deb502b1cd58d9b3beb669bdf85bc26fcd2f750cdb7c7c5792d3f96f6cb1', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '40d76fbc-b96c-40e9-b1ce-247b975d9b37')
2025-03-26 17:56:36,084 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 17:56:36,084 [INFO] - [generated in 0.00013s] (71, 3050, '1', '2005-05-15', '123 Test Street')
2025-03-26 17:56:36,084 [INFO] - COMMIT
2025-03-26 17:56:36,125 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,126 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 17:56:36,126 [INFO] - [generated in 0.00009s] (1,)
2025-03-26 17:56:36,127 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 17:56:36,127 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 17:56:36,127 [INFO] - POST /api/admin/student - Student 3050 created by user test_student
2025-03-26 17:56:36,127 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:56:36,127 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:56:36,127 [INFO] - ROLLBACK
2025-03-26 17:56:36,127 [INFO] - ROLLBACK
2025-03-26 17:56:36,128 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:56:36] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 17:56:36,130 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,130 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:36,130 [INFO] - [cached since 0.191s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:56:36,130 [INFO] - GET /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:56:36,131 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,134 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 17:56:36,134 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 17:56:36,134 [INFO] - GET /api/admin/student/3050 - Retrieved by user user2
2025-03-26 17:56:36,134 [INFO] - ROLLBACK
2025-03-26 17:56:36,134 [INFO] - ROLLBACK
2025-03-26 17:56:36,135 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:56:36] "GET /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:56:36,136 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,136 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:36,136 [INFO] - [cached since 0.197s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:56:36,136 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:56:36,137 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,138 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:36,138 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-26 17:56:36,139 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 17:56:36,139 [INFO] - [generated in 0.00008s] ('Johnny', 71)
2025-03-26 17:56:36,164 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:36,164 [INFO] - [generated in 0.00009s] ('johnny.doe@example.com', 71, 1, 0)
2025-03-26 17:56:36,164 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 17:56:36,164 [INFO] - [generated in 0.00006s] ('johnny.doe@example.com', 71)
2025-03-26 17:56:36,165 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 17:56:36,165 [INFO] - [generated in 0.00006s] ('2005-05-16', 71)
2025-03-26 17:56:36,166 [INFO] - COMMIT
2025-03-26 17:56:36,181 [INFO] - PATCH /api/admin/student/3050 - Updated by user user2: {'first_name': 'Johnny', 'email': 'johnny.doe@example.com', 'birth_date': '2005-05-16'}
2025-03-26 17:56:36,181 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,182 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 17:56:36,182 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 17:56:36,183 [INFO] - ROLLBACK
2025-03-26 17:56:36,183 [INFO] - ROLLBACK
2025-03-26 17:56:36,183 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:56:36] "PATCH /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:56:36,184 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,185 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:36,185 [INFO] - [cached since 0.2455s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 17:56:36,185 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 17:56:36,185 [INFO] - BEGIN (implicit)
2025-03-26 17:56:36,186 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:56:36,186 [INFO] - [generated in 0.00007s] (3050, 1, 0)
2025-03-26 17:56:36,187 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 17:56:36,187 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:56:36,187 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 17:56:36,187 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:56:36,188 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 17:56:36,188 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:56:36,188 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 17:56:36,188 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 17:56:36,189 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 17:56:36,189 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:56:36,205 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 17:56:36,205 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 17:56:36,205 [INFO] - COMMIT
2025-03-26 17:56:36,213 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user2
2025-03-26 17:56:36,213 [INFO] - ROLLBACK
2025-03-26 17:56:36,214 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:56:36] "DELETE /api/admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:57:13,147 [INFO] - BEGIN (implicit)
2025-03-26 17:57:13,152 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:57:13,153 [INFO] - [generated in 0.00064s] (1,)
2025-03-26 17:57:13,156 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:57:13,157 [INFO] - BEGIN (implicit)
2025-03-26 17:57:13,158 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:57:13,158 [INFO] - [generated in 0.00010s] ('user1', 1, 0)
2025-03-26 17:57:13,161 [INFO] - ROLLBACK
2025-03-26 17:57:13,162 [INFO] - BEGIN (implicit)
2025-03-26 17:57:13,164 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:57:13,164 [INFO] - [generated in 0.00011s] ()
2025-03-26 17:57:13,560 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 17:57:13,560 [INFO] - ROLLBACK
2025-03-26 17:57:13,603 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:13] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 17:57:13,700 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:57:13,854 [INFO] - BEGIN (implicit)
2025-03-26 17:57:13,854 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:57:13,854 [INFO] - [cached since 0.7025s ago] (1,)
2025-03-26 17:57:13,855 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:13] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-26 17:57:13,862 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:13] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 17:57:13,954 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:57:19,442 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:19] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 17:57:19,487 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:19] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 17:57:19,529 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:57:32,316 [INFO] - BEGIN (implicit)
2025-03-26 17:57:32,318 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:57:32,318 [INFO] - [cached since 19.16s ago] ('user1', 1, 0)
2025-03-26 17:57:32,396 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:32] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 17:57:32,400 [INFO] - BEGIN (implicit)
2025-03-26 17:57:32,400 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:57:32,400 [INFO] - [cached since 19.25s ago] (1,)
2025-03-26 17:57:32,404 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:32] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 17:57:32,475 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:57:36,810 [INFO] - BEGIN (implicit)
2025-03-26 17:57:36,810 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:57:36,811 [INFO] - [cached since 23.66s ago] (1,)
2025-03-26 17:57:36,812 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:57:36,813 [INFO] - BEGIN (implicit)
2025-03-26 17:57:36,813 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:57:36,813 [INFO] - [cached since 23.66s ago] ('user1', 1, 0)
2025-03-26 17:57:36,817 [INFO] - ROLLBACK
2025-03-26 17:57:36,817 [INFO] - BEGIN (implicit)
2025-03-26 17:57:36,817 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:57:36,818 [INFO] - [cached since 23.65s ago] ()
2025-03-26 17:57:36,851 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 17:57:36,851 [INFO] - ROLLBACK
2025-03-26 17:57:36,858 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:36] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 17:57:36,911 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:57:39,555 [INFO] - BEGIN (implicit)
2025-03-26 17:57:39,557 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:57:39,557 [INFO] - [cached since 26.41s ago] (1,)
2025-03-26 17:57:39,558 [INFO] - BEGIN (implicit)
2025-03-26 17:57:39,559 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:57:39,559 [INFO] - [generated in 0.00024s] ()
2025-03-26 17:57:39,559 [INFO] - ROLLBACK
2025-03-26 17:57:39,600 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:39] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 17:57:39,646 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:57:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:58:30,403 [INFO] - BEGIN (implicit)
2025-03-26 17:58:30,405 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:58:30,405 [INFO] - [cached since 77.25s ago] (1,)
2025-03-26 17:58:30,406 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:58:30,410 [INFO] - BEGIN (implicit)
2025-03-26 17:58:30,410 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:30,410 [INFO] - [cached since 77.25s ago] ('user1', 1, 0)
2025-03-26 17:58:30,411 [INFO] - ROLLBACK
2025-03-26 17:58:30,413 [INFO] - BEGIN (implicit)
2025-03-26 17:58:30,414 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:30,414 [INFO] - [generated in 0.00016s] (10, 1, 0)
2025-03-26 17:58:30,414 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:30,414 [INFO] - [cached since 114.5s ago] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 17:58:30,415 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 17:58:30,415 [INFO] - [cached since 114.5s ago] ()
2025-03-26 17:58:30,777 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 17:58:30,777 [INFO] - [cached since 114.7s ago] ('user71', 'scrypt:32768:8:1$hNbeygDqQnoMvyEU$a6590945d218351817c41e915cbc53c0f260484b373ccb6515d907d408ae0cc5b1a6f99eeae71d88aa054de620ce40912cf937aec81ddbd369dd96f39ebb2680', 'Илья', 'Коротков', 'kila280509@gmail.com', '89810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 'd431b9c1-6f66-440d-97bd-1fb55804bf47')
2025-03-26 17:58:30,792 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 17:58:30,792 [INFO] - [cached since 114.7s ago] (71, 3050, 10, '2009-05-08', 'Парковая 18 к3')
2025-03-26 17:58:30,792 [INFO] - COMMIT
2025-03-26 17:58:30,801 [INFO] - BEGIN (implicit)
2025-03-26 17:58:30,801 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 17:58:30,802 [INFO] - [cached since 114.7s ago] (10,)
2025-03-26 17:58:30,802 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 17:58:30,802 [INFO] - [cached since 114.7s ago] (71,)
2025-03-26 17:58:30,802 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 17:58:30,802 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:58:30,802 [INFO] - [cached since 114.7s ago] (71,)
2025-03-26 17:58:30,802 [INFO] - ROLLBACK
2025-03-26 17:58:30,803 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:30] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 17:58:32,626 [INFO] - BEGIN (implicit)
2025-03-26 17:58:32,627 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:58:32,627 [INFO] - [cached since 79.48s ago] (1,)
2025-03-26 17:58:32,628 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:58:32,628 [INFO] - BEGIN (implicit)
2025-03-26 17:58:32,628 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:32,629 [INFO] - [cached since 79.47s ago] ('user1', 1, 0)
2025-03-26 17:58:32,629 [INFO] - ROLLBACK
2025-03-26 17:58:32,630 [INFO] - BEGIN (implicit)
2025-03-26 17:58:32,630 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:58:32,630 [INFO] - [cached since 79.47s ago] ()
2025-03-26 17:58:32,685 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 17:58:32,685 [INFO] - ROLLBACK
2025-03-26 17:58:32,692 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:32] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 17:58:32,739 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:58:37,620 [INFO] - BEGIN (implicit)
2025-03-26 17:58:37,621 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:58:37,621 [INFO] - [cached since 84.47s ago] (1,)
2025-03-26 17:58:37,623 [INFO] - BEGIN (implicit)
2025-03-26 17:58:37,623 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:37,623 [INFO] - [cached since 121.5s ago] (3050, 1, 0)
2025-03-26 17:58:37,624 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:58:37,624 [INFO] - [cached since 58.07s ago] ()
2025-03-26 17:58:37,663 [INFO] - ROLLBACK
2025-03-26 17:58:37,664 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:37] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:58:37,712 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:58:53,308 [INFO] - BEGIN (implicit)
2025-03-26 17:58:53,309 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:58:53,309 [INFO] - [cached since 100.2s ago] (1,)
2025-03-26 17:58:53,311 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 17:58:53,315 [INFO] - BEGIN (implicit)
2025-03-26 17:58:53,315 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:53,315 [INFO] - [cached since 100.2s ago] ('user1', 1, 0)
2025-03-26 17:58:53,318 [INFO] - ROLLBACK
2025-03-26 17:58:53,318 [INFO] - BEGIN (implicit)
2025-03-26 17:58:53,318 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 17:58:53,318 [INFO] - [cached since 100.2s ago] ()
2025-03-26 17:58:53,343 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 17:58:53,343 [INFO] - ROLLBACK
2025-03-26 17:58:53,350 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:53] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 17:58:53,404 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 17:58:57,009 [INFO] - BEGIN (implicit)
2025-03-26 17:58:57,010 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 17:58:57,010 [INFO] - [cached since 103.9s ago] (1,)
2025-03-26 17:58:57,011 [INFO] - BEGIN (implicit)
2025-03-26 17:58:57,011 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 17:58:57,011 [INFO] - [cached since 140.9s ago] (3050, 1, 0)
2025-03-26 17:58:57,013 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 17:58:57,014 [INFO] - [cached since 77.46s ago] ()
2025-03-26 17:58:57,014 [INFO] - ROLLBACK
2025-03-26 17:58:57,014 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:57] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 17:58:57,072 [INFO] - 127.0.0.1 - - [26/Mar/2025 17:58:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:10:00,167 [INFO] - BEGIN (implicit)
2025-03-26 18:10:00,167 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:10:00,167 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:10:00,168 [INFO] - [raw sql] ()
2025-03-26 18:10:00,168 [INFO] - COMMIT
2025-03-26 18:10:00,178 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:10:00,178 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:10:03,778 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,780 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:03,780 [INFO] - [generated in 0.00016s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 18:10:03,801 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 18:10:03,803 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,803 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:03,803 [INFO] - [generated in 0.00010s] ('1', 1, 0)
2025-03-26 18:10:03,806 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:03,806 [INFO] - [generated in 0.00008s] ('test_student', 'john.doe@example.com', 1, 0)
2025-03-26 18:10:03,807 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:10:03,807 [INFO] - [generated in 0.00006s] ()
2025-03-26 18:10:03,899 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:10:03,899 [INFO] - [generated in 0.00015s] ('test_student', 'scrypt:32768:8:1$5ZhXqKohqcxmB7px$27751a11f862f3604c7e01dd0bb3bb6d6c00157d21446cad02272c2629017921727ebe4e9184f68e06ad3e07270a62f2eda81d392dcc3db7e886b5363842e6f5', 'John', 'Doe', 'john.doe@example.com', '+1234567890', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 'e4d5893d-60ab-437d-ad66-a9139899db00')
2025-03-26 18:10:03,928 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:10:03,928 [INFO] - [generated in 0.00010s] (72, 3051, '1', '2005-05-15', '123 Test Street')
2025-03-26 18:10:03,929 [INFO] - COMMIT
2025-03-26 18:10:03,985 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,985 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:10:03,985 [INFO] - [generated in 0.00010s] (1,)
2025-03-26 18:10:03,986 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:10:03,986 [INFO] - [generated in 0.00007s] (72,)
2025-03-26 18:10:03,986 [INFO] - POST /api/admin/student - Student 3051 created by user test_student
2025-03-26 18:10:03,987 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:10:03,987 [INFO] - [generated in 0.00006s] (72,)
2025-03-26 18:10:03,987 [INFO] - ROLLBACK
2025-03-26 18:10:03,987 [INFO] - ROLLBACK
2025-03-26 18:10:03,987 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:03] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:10:03,990 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,990 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:03,990 [INFO] - [cached since 0.2099s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 18:10:03,990 [INFO] - GET /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 18:10:03,990 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,993 [INFO] - SELECT anon_1.students_user_id AS anon_1_students_user_id, anon_1.students_student_id AS anon_1_students_student_id, anon_1.students_class_id AS anon_1_students_class_id, anon_1.students_birth_date AS anon_1_students_birth_date, anon_1.students_address AS anon_1_students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, grades_1.grade_id AS grades_1_grade_id, grades_1.student_id AS grades_1_student_id, grades_1.subject_id AS grades_1_subject_id, grades_1.grade AS grades_1_grade, grades_1.date AS grades_1_date, attendance_1.attendance_id AS attendance_1_attendance_id, attendance_1.student_id AS attendance_1_student_id, attendance_1.date AS attendance_1_date, attendance_1.status AS attendance_1_status 
FROM (SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.students_user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = anon_1.students_class_id LEFT OUTER JOIN grades AS grades_1 ON anon_1.students_user_id = grades_1.student_id LEFT OUTER JOIN attendance AS attendance_1 ON anon_1.students_user_id = attendance_1.student_id
2025-03-26 18:10:03,993 [INFO] - [generated in 0.00010s] (3051, 1, 0)
2025-03-26 18:10:03,994 [INFO] - GET /api/admin/student/3051 - Retrieved by user user2
2025-03-26 18:10:03,994 [INFO] - ROLLBACK
2025-03-26 18:10:03,994 [INFO] - ROLLBACK
2025-03-26 18:10:03,994 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:03] "GET /api/admin/student/3051 HTTP/1.1" 200 -
2025-03-26 18:10:03,996 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,996 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:03,996 [INFO] - [cached since 0.2162s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 18:10:03,996 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 18:10:03,996 [INFO] - BEGIN (implicit)
2025-03-26 18:10:03,998 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:03,998 [INFO] - [generated in 0.00009s] (3051, 1, 0)
2025-03-26 18:10:03,999 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 18:10:03,999 [INFO] - [generated in 0.00006s] ('Johnny', 72)
2025-03-26 18:10:04,008 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:04,008 [INFO] - [generated in 0.00009s] ('johnny.doe@example.com', 72, 1, 0)
2025-03-26 18:10:04,008 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 18:10:04,008 [INFO] - [generated in 0.00006s] ('johnny.doe@example.com', 72)
2025-03-26 18:10:04,009 [INFO] - UPDATE students SET birth_date=? WHERE students.user_id = ?
2025-03-26 18:10:04,009 [INFO] - [generated in 0.00006s] ('2005-05-16', 72)
2025-03-26 18:10:04,009 [INFO] - COMMIT
2025-03-26 18:10:04,025 [INFO] - PATCH /api/admin/student/3051 - Updated by user user2: {'first_name': 'Johnny', 'email': 'johnny.doe@example.com', 'birth_date': '2005-05-16'}
2025-03-26 18:10:04,025 [INFO] - BEGIN (implicit)
2025-03-26 18:10:04,027 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 18:10:04,027 [INFO] - [generated in 0.00007s] (72,)
2025-03-26 18:10:04,027 [INFO] - ROLLBACK
2025-03-26 18:10:04,027 [INFO] - ROLLBACK
2025-03-26 18:10:04,027 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:04] "PATCH /api/admin/student/3051 HTTP/1.1" 200 -
2025-03-26 18:10:04,029 [INFO] - BEGIN (implicit)
2025-03-26 18:10:04,029 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:04,029 [INFO] - [cached since 0.2489s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 18:10:04,029 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 18:10:04,029 [INFO] - BEGIN (implicit)
2025-03-26 18:10:04,030 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:04,030 [INFO] - [generated in 0.00007s] (3051, 1, 0)
2025-03-26 18:10:04,031 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:10:04,031 [INFO] - [generated in 0.00005s] (72,)
2025-03-26 18:10:04,031 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:10:04,031 [INFO] - [generated in 0.00006s] (72,)
2025-03-26 18:10:04,032 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:10:04,032 [INFO] - [generated in 0.00006s] (72,)
2025-03-26 18:10:04,033 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:10:04,033 [INFO] - [generated in 0.00005s] (72,)
2025-03-26 18:10:04,033 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:10:04,033 [INFO] - [generated in 0.00005s] (72,)
2025-03-26 18:10:04,059 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:10:04,059 [INFO] - [generated in 0.00005s] (72,)
2025-03-26 18:10:04,060 [INFO] - COMMIT
2025-03-26 18:10:04,091 [INFO] - DELETE /api/admin/student/3051 - Deleted by user user2
2025-03-26 18:10:04,091 [INFO] - ROLLBACK
2025-03-26 18:10:04,091 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:04] "DELETE /api/admin/student/3051 HTTP/1.1" 200 -
2025-03-26 18:10:17,223 [INFO] - BEGIN (implicit)
2025-03-26 18:10:17,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:10:17,226 [INFO] - [generated in 0.00026s] (1,)
2025-03-26 18:10:17,296 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:10:17,297 [INFO] - BEGIN (implicit)
2025-03-26 18:10:17,298 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:17,298 [INFO] - [generated in 0.00024s] ('user1', 1, 0)
2025-03-26 18:10:17,299 [INFO] - ROLLBACK
2025-03-26 18:10:17,300 [INFO] - BEGIN (implicit)
2025-03-26 18:10:17,302 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:10:17,302 [INFO] - [generated in 0.00010s] ()
2025-03-26 18:10:17,672 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:10:17,672 [INFO] - ROLLBACK
2025-03-26 18:10:17,712 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:17] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:10:17,794 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:10:19,132 [INFO] - BEGIN (implicit)
2025-03-26 18:10:19,132 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:10:19,132 [INFO] - [cached since 1.907s ago] (1,)
2025-03-26 18:10:19,133 [INFO] - BEGIN (implicit)
2025-03-26 18:10:19,134 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:19,134 [INFO] - [cached since 15.14s ago] (3000, 1, 0)
2025-03-26 18:10:19,136 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:10:19,136 [INFO] - [generated in 0.00026s] ()
2025-03-26 18:10:19,177 [INFO] - ROLLBACK
2025-03-26 18:10:19,178 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:19] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 18:10:19,222 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:10:22,972 [INFO] - BEGIN (implicit)
2025-03-26 18:10:22,973 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:10:22,973 [INFO] - [cached since 5.748s ago] (1,)
2025-03-26 18:10:22,974 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:10:22,975 [INFO] - BEGIN (implicit)
2025-03-26 18:10:22,975 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:22,975 [INFO] - [cached since 5.677s ago] ('user1', 1, 0)
2025-03-26 18:10:22,980 [INFO] - ROLLBACK
2025-03-26 18:10:22,981 [INFO] - BEGIN (implicit)
2025-03-26 18:10:22,981 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:10:22,981 [INFO] - [cached since 5.679s ago] ()
2025-03-26 18:10:22,996 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:10:22,996 [INFO] - ROLLBACK
2025-03-26 18:10:23,002 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:23] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:10:23,048 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:23] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:10:25,670 [INFO] - BEGIN (implicit)
2025-03-26 18:10:25,671 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:10:25,671 [INFO] - [cached since 8.446s ago] (1,)
2025-03-26 18:10:25,672 [INFO] - BEGIN (implicit)
2025-03-26 18:10:25,672 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:25,672 [INFO] - [cached since 21.68s ago] (3050, 1, 0)
2025-03-26 18:10:25,673 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:10:25,673 [INFO] - [cached since 6.537s ago] ()
2025-03-26 18:10:25,674 [INFO] - ROLLBACK
2025-03-26 18:10:25,674 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:25] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:10:25,718 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:10:33,275 [INFO] - BEGIN (implicit)
2025-03-26 18:10:33,276 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:10:33,276 [INFO] - [cached since 16.05s ago] (1,)
2025-03-26 18:10:33,277 [INFO] - BEGIN (implicit)
2025-03-26 18:10:33,278 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:33,278 [INFO] - [generated in 0.00015s] (3050, 1, 0)
2025-03-26 18:10:33,278 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:10:33,279 [INFO] - BEGIN (implicit)
2025-03-26 18:10:33,279 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:33,279 [INFO] - [cached since 15.98s ago] ('user1', 1, 0)
2025-03-26 18:10:33,311 [INFO] - ROLLBACK
2025-03-26 18:10:33,311 [INFO] - BEGIN (implicit)
2025-03-26 18:10:33,312 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:10:33,312 [INFO] - [cached since 29.28s ago] (3050, 1, 0)
2025-03-26 18:10:33,313 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:10:33,313 [INFO] - [cached since 29.28s ago] (71,)
2025-03-26 18:10:33,314 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:10:33,314 [INFO] - [cached since 29.28s ago] (71,)
2025-03-26 18:10:33,314 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:10:33,314 [INFO] - [cached since 29.28s ago] (71,)
2025-03-26 18:10:33,314 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:10:33,314 [INFO] - [cached since 29.28s ago] (71,)
2025-03-26 18:10:33,315 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:10:33,315 [INFO] - [cached since 29.28s ago] (71,)
2025-03-26 18:10:33,343 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:10:33,343 [INFO] - [cached since 29.28s ago] (71,)
2025-03-26 18:10:33,343 [INFO] - COMMIT
2025-03-26 18:10:33,361 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:10:33,362 [INFO] - ROLLBACK
2025-03-26 18:10:33,362 [ERROR] - Exception on /admin/student/3050/delete [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/login_decorator.py", line 15, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 115, in delete_student
    response['redirect'] = url_for('admin_bp.students_list')
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 232, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin_bp.students_list'. Did you mean 'admin.students' instead?
2025-03-26 18:10:33,461 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:10:33] "[35m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 500 -
2025-03-26 18:11:49,648 [INFO] - BEGIN (implicit)
2025-03-26 18:11:49,651 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:11:49,651 [INFO] - [cached since 92.43s ago] (1,)
2025-03-26 18:11:49,656 [INFO] - BEGIN (implicit)
2025-03-26 18:11:49,656 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:11:49,656 [INFO] - [cached since 105.7s ago] (3050, 1, 0)
2025-03-26 18:11:49,657 [INFO] - ROLLBACK
2025-03-26 18:11:49,657 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:11:49] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:11:53,751 [INFO] - BEGIN (implicit)
2025-03-26 18:11:53,751 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:11:53,751 [INFO] - [cached since 96.53s ago] (1,)
2025-03-26 18:11:53,752 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:11:53,752 [INFO] - BEGIN (implicit)
2025-03-26 18:11:53,752 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:11:53,752 [INFO] - [cached since 96.46s ago] ('user1', 1, 0)
2025-03-26 18:11:53,755 [INFO] - ROLLBACK
2025-03-26 18:11:53,755 [INFO] - BEGIN (implicit)
2025-03-26 18:11:53,756 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:11:53,756 [INFO] - [cached since 96.46s ago] ()
2025-03-26 18:11:53,778 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:11:53,778 [INFO] - ROLLBACK
2025-03-26 18:11:53,785 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:11:53] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:11:53,819 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:11:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:13:56,450 [INFO] - BEGIN (implicit)
2025-03-26 18:13:56,450 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:13:56,450 [INFO] - [raw sql] ()
2025-03-26 18:13:56,450 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:13:56,450 [INFO] - [raw sql] ()
2025-03-26 18:13:56,450 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:13:56,450 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:13:56,451 [INFO] - [raw sql] ()
2025-03-26 18:13:56,451 [INFO] - COMMIT
2025-03-26 18:13:56,462 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:13:56,462 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:14:02,012 [INFO] - BEGIN (implicit)
2025-03-26 18:14:02,014 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:02,014 [INFO] - [generated in 0.00015s] (1,)
2025-03-26 18:14:02,015 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:14:02,049 [INFO] - BEGIN (implicit)
2025-03-26 18:14:02,051 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:02,051 [INFO] - [generated in 0.00013s] ('user1', 1, 0)
2025-03-26 18:14:02,053 [INFO] - ROLLBACK
2025-03-26 18:14:02,053 [INFO] - BEGIN (implicit)
2025-03-26 18:14:02,056 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:14:02,056 [INFO] - [generated in 0.00008s] ()
2025-03-26 18:14:02,160 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:14:02,160 [INFO] - ROLLBACK
2025-03-26 18:14:02,204 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:14:02,251 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:14:04,731 [INFO] - BEGIN (implicit)
2025-03-26 18:14:04,732 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:04,732 [INFO] - [cached since 2.718s ago] (1,)
2025-03-26 18:14:04,733 [INFO] - BEGIN (implicit)
2025-03-26 18:14:04,734 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:14:04,734 [INFO] - [generated in 0.00025s] ()
2025-03-26 18:14:04,735 [INFO] - ROLLBACK
2025-03-26 18:14:04,740 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:04] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:14:04,784 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:14:40,368 [INFO] - BEGIN (implicit)
2025-03-26 18:14:40,369 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:40,369 [INFO] - [cached since 38.36s ago] (1,)
2025-03-26 18:14:40,371 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:14:40,372 [INFO] - BEGIN (implicit)
2025-03-26 18:14:40,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:40,373 [INFO] - [cached since 38.32s ago] ('user1', 1, 0)
2025-03-26 18:14:40,378 [INFO] - ROLLBACK
2025-03-26 18:14:40,381 [INFO] - BEGIN (implicit)
2025-03-26 18:14:40,381 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:40,382 [INFO] - [generated in 0.00010s] (9, 1, 0)
2025-03-26 18:14:40,382 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:40,382 [INFO] - [generated in 0.00007s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:14:40,383 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:14:40,383 [INFO] - [generated in 0.00005s] ()
2025-03-26 18:14:40,748 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:14:40,748 [INFO] - [generated in 0.00021s] ('user71', 'scrypt:32768:8:1$qm0UWkFvwJAYemq8$4895e89e40f6c705c234f4d12c61369e2ab78f1fd22b8a1b4dff6f07b193a043bf5e6f58eb3da81219d0a35c87c42c333c88c988d355f63d12c516f8b1099710', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '14e36ee8-a814-41ca-8622-d17cf9d0f143')
2025-03-26 18:14:40,777 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:14:40,777 [INFO] - [generated in 0.00013s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:14:40,778 [INFO] - COMMIT
2025-03-26 18:14:40,907 [INFO] - BEGIN (implicit)
2025-03-26 18:14:40,908 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:14:40,908 [INFO] - [generated in 0.00009s] (9,)
2025-03-26 18:14:40,908 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:14:40,908 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:14:40,909 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:14:40,909 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:40,909 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:14:40,909 [INFO] - ROLLBACK
2025-03-26 18:14:40,910 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:40] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:14:42,427 [INFO] - BEGIN (implicit)
2025-03-26 18:14:42,427 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:42,428 [INFO] - [cached since 40.41s ago] (1,)
2025-03-26 18:14:42,428 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:14:42,429 [INFO] - BEGIN (implicit)
2025-03-26 18:14:42,429 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:42,429 [INFO] - [cached since 40.38s ago] ('user1', 1, 0)
2025-03-26 18:14:42,432 [INFO] - ROLLBACK
2025-03-26 18:14:42,432 [INFO] - BEGIN (implicit)
2025-03-26 18:14:42,433 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:14:42,433 [INFO] - [cached since 40.38s ago] ()
2025-03-26 18:14:42,452 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:14:42,452 [INFO] - ROLLBACK
2025-03-26 18:14:42,458 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:14:42,520 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:14:47,038 [INFO] - BEGIN (implicit)
2025-03-26 18:14:47,039 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:47,039 [INFO] - [cached since 45.03s ago] (1,)
2025-03-26 18:14:47,043 [INFO] - BEGIN (implicit)
2025-03-26 18:14:47,049 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:47,049 [INFO] - [generated in 0.00017s] (3050, 1, 0)
2025-03-26 18:14:47,050 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:14:47,050 [INFO] - [cached since 42.32s ago] ()
2025-03-26 18:14:47,088 [INFO] - ROLLBACK
2025-03-26 18:14:47,089 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:47] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:14:47,145 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:14:55,399 [INFO] - BEGIN (implicit)
2025-03-26 18:14:55,399 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:55,399 [INFO] - [cached since 53.39s ago] (1,)
2025-03-26 18:14:55,400 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:14:55,400 [INFO] - BEGIN (implicit)
2025-03-26 18:14:55,400 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:55,401 [INFO] - [cached since 53.35s ago] ('user1', 1, 0)
2025-03-26 18:14:55,403 [INFO] - ROLLBACK
2025-03-26 18:14:55,405 [INFO] - BEGIN (implicit)
2025-03-26 18:14:55,405 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:14:55,405 [INFO] - [cached since 53.35s ago] ()
2025-03-26 18:14:55,424 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:14:55,424 [INFO] - ROLLBACK
2025-03-26 18:14:55,430 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:55] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:14:55,475 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:14:57,229 [INFO] - BEGIN (implicit)
2025-03-26 18:14:57,230 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:14:57,230 [INFO] - [cached since 55.22s ago] (1,)
2025-03-26 18:14:57,231 [INFO] - BEGIN (implicit)
2025-03-26 18:14:57,231 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:14:57,231 [INFO] - [cached since 10.18s ago] (3001, 1, 0)
2025-03-26 18:14:57,232 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:14:57,232 [INFO] - [cached since 52.5s ago] ()
2025-03-26 18:14:57,233 [INFO] - ROLLBACK
2025-03-26 18:14:57,233 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:57] "GET /admin/student/3001 HTTP/1.1" 200 -
2025-03-26 18:14:57,273 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:14:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:15:01,519 [INFO] - BEGIN (implicit)
2025-03-26 18:15:01,521 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:15:01,521 [INFO] - [cached since 59.51s ago] (1,)
2025-03-26 18:15:01,522 [INFO] - BEGIN (implicit)
2025-03-26 18:15:01,522 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:01,522 [INFO] - [cached since 14.47s ago] (3050, 1, 0)
2025-03-26 18:15:01,523 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:15:01,523 [INFO] - [cached since 56.79s ago] ()
2025-03-26 18:15:01,524 [INFO] - ROLLBACK
2025-03-26 18:15:01,524 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:01] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:15:01,570 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:15:14,575 [INFO] - BEGIN (implicit)
2025-03-26 18:15:14,577 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:15:14,577 [INFO] - [cached since 72.56s ago] (1,)
2025-03-26 18:15:14,579 [INFO] - BEGIN (implicit)
2025-03-26 18:15:14,580 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:14,580 [INFO] - [generated in 0.00012s] (3050, 1, 0)
2025-03-26 18:15:14,585 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:15:14,585 [INFO] - BEGIN (implicit)
2025-03-26 18:15:14,585 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:14,585 [INFO] - [cached since 72.54s ago] ('user1', 1, 0)
2025-03-26 18:15:14,588 [INFO] - ROLLBACK
2025-03-26 18:15:14,588 [INFO] - BEGIN (implicit)
2025-03-26 18:15:14,590 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:14,590 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 18:15:14,591 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:15:14,591 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:15:14,592 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:15:14,592 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:15:14,593 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:15:14,593 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:15:14,594 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:15:14,594 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:15:14,595 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:15:14,595 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 18:15:14,596 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:15:14,596 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:15:14,596 [INFO] - COMMIT
2025-03-26 18:15:14,602 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:15:14,602 [INFO] - ROLLBACK
2025-03-26 18:15:14,602 [ERROR] - Exception on /admin/student/3050/delete [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/login_decorator.py", line 15, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 116, in delete_student
    return jsonify(response), status
           ^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/json/__init__.py", line 170, in jsonify
    return current_app.json.response(*args, **kwargs)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/json/provider.py", line 214, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type Response is not JSON serializable
2025-03-26 18:15:14,705 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:14] "[35m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 500 -
2025-03-26 18:15:21,664 [INFO] - BEGIN (implicit)
2025-03-26 18:15:21,665 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:15:21,665 [INFO] - [cached since 79.65s ago] (1,)
2025-03-26 18:15:21,666 [INFO] - BEGIN (implicit)
2025-03-26 18:15:21,667 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:21,667 [INFO] - [cached since 34.62s ago] (3050, 1, 0)
2025-03-26 18:15:21,667 [INFO] - ROLLBACK
2025-03-26 18:15:21,668 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:21] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:15:25,549 [INFO] - BEGIN (implicit)
2025-03-26 18:15:25,550 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:15:25,550 [INFO] - [cached since 83.54s ago] (1,)
2025-03-26 18:15:25,552 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:15:25,553 [INFO] - BEGIN (implicit)
2025-03-26 18:15:25,553 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:25,553 [INFO] - [cached since 83.5s ago] ('user1', 1, 0)
2025-03-26 18:15:25,554 [INFO] - ROLLBACK
2025-03-26 18:15:25,554 [INFO] - BEGIN (implicit)
2025-03-26 18:15:25,554 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:15:25,554 [INFO] - [cached since 83.5s ago] ()
2025-03-26 18:15:25,577 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:15:25,577 [INFO] - ROLLBACK
2025-03-26 18:15:25,583 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:25] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:15:25,627 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:15:42,873 [INFO] - BEGIN (implicit)
2025-03-26 18:15:42,873 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:15:42,873 [INFO] - [raw sql] ()
2025-03-26 18:15:42,873 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:15:42,873 [INFO] - [raw sql] ()
2025-03-26 18:15:42,873 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:15:42,873 [INFO] - [raw sql] ()
2025-03-26 18:15:42,873 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:15:42,873 [INFO] - [raw sql] ()
2025-03-26 18:15:42,873 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:15:42,873 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:15:42,874 [INFO] - [raw sql] ()
2025-03-26 18:15:42,874 [INFO] - COMMIT
2025-03-26 18:15:42,882 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:15:42,882 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:15:44,940 [INFO] - BEGIN (implicit)
2025-03-26 18:15:44,941 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:15:44,941 [INFO] - [generated in 0.00012s] (1,)
2025-03-26 18:15:44,941 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:15:44,979 [INFO] - BEGIN (implicit)
2025-03-26 18:15:44,980 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:15:44,980 [INFO] - [generated in 0.00012s] ('user1', 1, 0)
2025-03-26 18:15:44,981 [INFO] - ROLLBACK
2025-03-26 18:15:44,981 [INFO] - BEGIN (implicit)
2025-03-26 18:15:44,983 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:15:44,983 [INFO] - [generated in 0.00010s] ()
2025-03-26 18:15:44,996 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:15:44,996 [INFO] - ROLLBACK
2025-03-26 18:15:45,018 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:45] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:15:45,066 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:15:46,401 [INFO] - BEGIN (implicit)
2025-03-26 18:15:46,402 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:15:46,402 [INFO] - [cached since 1.461s ago] (1,)
2025-03-26 18:15:46,403 [INFO] - BEGIN (implicit)
2025-03-26 18:15:46,404 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:15:46,404 [INFO] - [generated in 0.00015s] ()
2025-03-26 18:15:46,405 [INFO] - ROLLBACK
2025-03-26 18:15:46,445 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:46] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:15:46,502 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:15:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:16:10,683 [INFO] - BEGIN (implicit)
2025-03-26 18:16:10,684 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:16:10,684 [INFO] - [cached since 25.74s ago] (1,)
2025-03-26 18:16:10,685 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:16:10,686 [INFO] - BEGIN (implicit)
2025-03-26 18:16:10,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:10,687 [INFO] - [cached since 25.71s ago] ('user1', 1, 0)
2025-03-26 18:16:10,721 [INFO] - ROLLBACK
2025-03-26 18:16:10,724 [INFO] - BEGIN (implicit)
2025-03-26 18:16:10,724 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:10,725 [INFO] - [generated in 0.00011s] (9, 1, 0)
2025-03-26 18:16:10,726 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:10,726 [INFO] - [generated in 0.00011s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:16:10,727 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:16:10,727 [INFO] - [generated in 0.00009s] ()
2025-03-26 18:16:10,815 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:16:10,815 [INFO] - [generated in 0.00016s] ('user71', 'scrypt:32768:8:1$7ZHfWZ0Upwgy1zJc$cf34ad240c0350032e2dfeffa1bdb6157dab81a73593356ea29cf7741273aa6c0476ef52f9da35ef27cae8bd0077e09367bc0d5b419bcc416ec62475f215e909', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 'b8bffafa-8c58-4cf1-9eb8-e2ec49b5f409')
2025-03-26 18:16:10,838 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:16:10,838 [INFO] - [generated in 0.00012s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:16:10,839 [INFO] - COMMIT
2025-03-26 18:16:10,893 [INFO] - BEGIN (implicit)
2025-03-26 18:16:10,894 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:16:10,894 [INFO] - [generated in 0.00014s] (9,)
2025-03-26 18:16:10,897 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:16:10,897 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:16:10,897 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:16:10,898 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:16:10,898 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:16:10,898 [INFO] - ROLLBACK
2025-03-26 18:16:10,900 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:10] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:16:12,428 [INFO] - BEGIN (implicit)
2025-03-26 18:16:12,429 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:16:12,429 [INFO] - [cached since 27.49s ago] (1,)
2025-03-26 18:16:12,430 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:16:12,431 [INFO] - BEGIN (implicit)
2025-03-26 18:16:12,431 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:12,431 [INFO] - [cached since 27.45s ago] ('user1', 1, 0)
2025-03-26 18:16:12,435 [INFO] - ROLLBACK
2025-03-26 18:16:12,436 [INFO] - BEGIN (implicit)
2025-03-26 18:16:12,436 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:16:12,437 [INFO] - [cached since 27.45s ago] ()
2025-03-26 18:16:12,450 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:16:12,450 [INFO] - ROLLBACK
2025-03-26 18:16:12,457 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:12] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:16:12,514 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:16:15,745 [INFO] - BEGIN (implicit)
2025-03-26 18:16:15,746 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:16:15,746 [INFO] - [cached since 30.81s ago] (1,)
2025-03-26 18:16:15,747 [INFO] - BEGIN (implicit)
2025-03-26 18:16:15,750 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:15,751 [INFO] - [generated in 0.00030s] (3050, 1, 0)
2025-03-26 18:16:15,752 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:16:15,752 [INFO] - [cached since 29.35s ago] ()
2025-03-26 18:16:15,788 [INFO] - ROLLBACK
2025-03-26 18:16:15,789 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:15] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:16:15,837 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:16:18,276 [INFO] - BEGIN (implicit)
2025-03-26 18:16:18,276 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:16:18,276 [INFO] - [cached since 33.34s ago] (1,)
2025-03-26 18:16:18,277 [INFO] - BEGIN (implicit)
2025-03-26 18:16:18,278 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:18,278 [INFO] - [generated in 0.00023s] (3050, 1, 0)
2025-03-26 18:16:18,281 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:16:18,281 [INFO] - BEGIN (implicit)
2025-03-26 18:16:18,282 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:18,282 [INFO] - [cached since 33.3s ago] ('user1', 1, 0)
2025-03-26 18:16:18,282 [INFO] - ROLLBACK
2025-03-26 18:16:18,283 [INFO] - BEGIN (implicit)
2025-03-26 18:16:18,286 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:18,286 [INFO] - [generated in 0.00023s] (3050, 1, 0)
2025-03-26 18:16:18,289 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:16:18,289 [INFO] - [generated in 0.00014s] (71,)
2025-03-26 18:16:18,292 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:16:18,292 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 18:16:18,293 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:16:18,293 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:16:18,295 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:16:18,295 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:16:18,296 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:16:18,296 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:16:18,298 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:16:18,298 [INFO] - [generated in 0.00004s] (71,)
2025-03-26 18:16:18,298 [INFO] - COMMIT
2025-03-26 18:16:18,341 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:16:18,341 [INFO] - ROLLBACK
2025-03-26 18:16:18,341 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:18] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-26 18:16:25,072 [INFO] - BEGIN (implicit)
2025-03-26 18:16:25,073 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:16:25,073 [INFO] - [cached since 40.13s ago] (1,)
2025-03-26 18:16:25,074 [INFO] - BEGIN (implicit)
2025-03-26 18:16:25,075 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:16:25,075 [INFO] - [cached since 9.325s ago] (3050, 1, 0)
2025-03-26 18:16:25,075 [INFO] - ROLLBACK
2025-03-26 18:16:25,076 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:16:25] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:17:52,202 [INFO] - BEGIN (implicit)
2025-03-26 18:17:52,202 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:17:52,202 [INFO] - [raw sql] ()
2025-03-26 18:17:52,202 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:17:52,202 [INFO] - [raw sql] ()
2025-03-26 18:17:52,202 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:17:52,202 [INFO] - [raw sql] ()
2025-03-26 18:17:52,202 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:17:52,202 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:17:52,203 [INFO] - [raw sql] ()
2025-03-26 18:17:52,203 [INFO] - COMMIT
2025-03-26 18:17:52,224 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:17:52,224 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:17:58,189 [INFO] - BEGIN (implicit)
2025-03-26 18:17:58,191 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:17:58,191 [INFO] - [generated in 0.00026s] (1,)
2025-03-26 18:17:58,253 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:17:58,253 [INFO] - BEGIN (implicit)
2025-03-26 18:17:58,254 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:17:58,255 [INFO] - [generated in 0.00010s] ('user1', 1, 0)
2025-03-26 18:17:58,257 [INFO] - ROLLBACK
2025-03-26 18:17:58,257 [INFO] - BEGIN (implicit)
2025-03-26 18:17:58,259 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:17:58,259 [INFO] - [generated in 0.00008s] ()
2025-03-26 18:17:58,583 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:17:58,584 [INFO] - ROLLBACK
2025-03-26 18:17:58,607 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:17:58] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:17:58,687 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:17:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:18:00,486 [INFO] - BEGIN (implicit)
2025-03-26 18:18:00,486 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:00,486 [INFO] - [cached since 2.295s ago] (1,)
2025-03-26 18:18:00,487 [INFO] - BEGIN (implicit)
2025-03-26 18:18:00,487 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:18:00,487 [INFO] - [generated in 0.00007s] ()
2025-03-26 18:18:00,487 [INFO] - ROLLBACK
2025-03-26 18:18:00,523 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:00] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:18:00,574 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:18:22,522 [INFO] - BEGIN (implicit)
2025-03-26 18:18:22,523 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:22,523 [INFO] - [cached since 24.33s ago] (1,)
2025-03-26 18:18:22,524 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:18:22,562 [INFO] - BEGIN (implicit)
2025-03-26 18:18:22,562 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:22,562 [INFO] - [cached since 24.31s ago] ('user1', 1, 0)
2025-03-26 18:18:22,576 [INFO] - ROLLBACK
2025-03-26 18:18:22,579 [INFO] - BEGIN (implicit)
2025-03-26 18:18:22,579 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:22,579 [INFO] - [generated in 0.00010s] (9, 1, 0)
2025-03-26 18:18:22,580 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:22,580 [INFO] - [generated in 0.00007s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:18:22,581 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:18:22,581 [INFO] - [generated in 0.00005s] ()
2025-03-26 18:18:22,682 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:18:22,682 [INFO] - [generated in 0.00017s] ('user71', 'scrypt:32768:8:1$jo7jynCHoz7nyhuN$386c90bb59e0f6717f801b4c9c3b6e12b0dba7b964f862fc2934b357b2e60565669a51db6fdfe3330a4306b2e2719eaacf5bc8d35c2324d13e42fe8848747bed', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 'b23fe411-2f3d-46f8-a270-8a5cdc1c7602')
2025-03-26 18:18:22,738 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:18:22,738 [INFO] - [generated in 0.00017s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:18:22,738 [INFO] - COMMIT
2025-03-26 18:18:22,773 [INFO] - BEGIN (implicit)
2025-03-26 18:18:22,774 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:18:22,774 [INFO] - [generated in 0.00013s] (9,)
2025-03-26 18:18:22,776 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:18:22,776 [INFO] - [generated in 0.00015s] (71,)
2025-03-26 18:18:22,776 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:18:22,777 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:22,777 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 18:18:22,778 [INFO] - ROLLBACK
2025-03-26 18:18:22,779 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:22] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:18:24,917 [INFO] - BEGIN (implicit)
2025-03-26 18:18:24,917 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:24,917 [INFO] - [cached since 26.73s ago] (1,)
2025-03-26 18:18:24,918 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:18:24,919 [INFO] - BEGIN (implicit)
2025-03-26 18:18:24,919 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:24,919 [INFO] - [cached since 26.66s ago] ('user1', 1, 0)
2025-03-26 18:18:24,922 [INFO] - ROLLBACK
2025-03-26 18:18:24,922 [INFO] - BEGIN (implicit)
2025-03-26 18:18:24,922 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:18:24,922 [INFO] - [cached since 26.66s ago] ()
2025-03-26 18:18:24,951 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:18:24,951 [INFO] - ROLLBACK
2025-03-26 18:18:24,959 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:24] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:18:25,017 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:18:27,440 [INFO] - BEGIN (implicit)
2025-03-26 18:18:27,441 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:27,441 [INFO] - [cached since 29.25s ago] (1,)
2025-03-26 18:18:27,442 [INFO] - BEGIN (implicit)
2025-03-26 18:18:27,444 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:27,444 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-26 18:18:27,445 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:18:27,445 [INFO] - [cached since 26.96s ago] ()
2025-03-26 18:18:27,489 [INFO] - ROLLBACK
2025-03-26 18:18:27,489 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:27] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:18:27,535 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:18:31,686 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,687 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:31,687 [INFO] - [cached since 33.5s ago] (1,)
2025-03-26 18:18:31,688 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,689 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:31,689 [INFO] - [generated in 0.00026s] (3050, 1, 0)
2025-03-26 18:18:31,692 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:18:31,694 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,695 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:31,695 [INFO] - [cached since 33.44s ago] ('user1', 1, 0)
2025-03-26 18:18:31,695 [INFO] - ROLLBACK
2025-03-26 18:18:31,696 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,699 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:31,699 [INFO] - [generated in 0.00019s] (3050, 1, 0)
2025-03-26 18:18:31,701 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:18:31,701 [INFO] - [generated in 0.00012s] (71,)
2025-03-26 18:18:31,704 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:18:31,704 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 18:18:31,705 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:18:31,705 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:18:31,708 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:18:31,708 [INFO] - [generated in 0.00011s] (71,)
2025-03-26 18:18:31,709 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:18:31,709 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:18:31,752 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:18:31,752 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 18:18:31,752 [INFO] - COMMIT
2025-03-26 18:18:31,760 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:18:31,760 [INFO] - ROLLBACK
2025-03-26 18:18:31,760 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:31] "[32mPOST /admin/student/3050/delete HTTP/1.1[0m" 302 -
2025-03-26 18:18:31,764 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,764 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:31,764 [INFO] - [cached since 33.57s ago] (1,)
2025-03-26 18:18:31,764 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:18:31,764 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,764 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:31,764 [INFO] - [cached since 33.51s ago] ('user1', 1, 0)
2025-03-26 18:18:31,765 [INFO] - ROLLBACK
2025-03-26 18:18:31,765 [INFO] - BEGIN (implicit)
2025-03-26 18:18:31,765 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:18:31,765 [INFO] - [cached since 33.51s ago] ()
2025-03-26 18:18:31,777 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:18:31,777 [INFO] - ROLLBACK
2025-03-26 18:18:31,782 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:31] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:18:38,748 [INFO] - BEGIN (implicit)
2025-03-26 18:18:38,749 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:38,749 [INFO] - [cached since 40.56s ago] (1,)
2025-03-26 18:18:38,750 [INFO] - BEGIN (implicit)
2025-03-26 18:18:38,750 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:18:38,750 [INFO] - [cached since 11.31s ago] (3050, 1, 0)
2025-03-26 18:18:38,751 [INFO] - ROLLBACK
2025-03-26 18:18:38,751 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:38] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:18:56,152 [INFO] - BEGIN (implicit)
2025-03-26 18:18:56,152 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:18:56,152 [INFO] - [raw sql] ()
2025-03-26 18:18:56,152 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:18:56,152 [INFO] - [raw sql] ()
2025-03-26 18:18:56,152 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:18:56,152 [INFO] - [raw sql] ()
2025-03-26 18:18:56,152 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:18:56,152 [INFO] - [raw sql] ()
2025-03-26 18:18:56,152 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:18:56,152 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:18:56,153 [INFO] - [raw sql] ()
2025-03-26 18:18:56,153 [INFO] - COMMIT
2025-03-26 18:18:56,162 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:18:56,162 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:18:57,300 [INFO] - BEGIN (implicit)
2025-03-26 18:18:57,301 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:18:57,301 [INFO] - [generated in 0.00011s] (1,)
2025-03-26 18:18:57,302 [INFO] - BEGIN (implicit)
2025-03-26 18:18:57,302 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:18:57,302 [INFO] - [generated in 0.00006s] ()
2025-03-26 18:18:57,302 [INFO] - ROLLBACK
2025-03-26 18:18:57,338 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:57] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:18:57,401 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:18:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:19:18,274 [INFO] - BEGIN (implicit)
2025-03-26 18:19:18,276 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:19:18,276 [INFO] - [cached since 20.98s ago] (1,)
2025-03-26 18:19:18,277 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:19:18,315 [INFO] - BEGIN (implicit)
2025-03-26 18:19:18,316 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:18,316 [INFO] - [generated in 0.00016s] ('user1', 1, 0)
2025-03-26 18:19:18,318 [INFO] - ROLLBACK
2025-03-26 18:19:18,321 [INFO] - BEGIN (implicit)
2025-03-26 18:19:18,321 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:18,321 [INFO] - [generated in 0.00008s] (9, 1, 0)
2025-03-26 18:19:18,323 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:18,323 [INFO] - [generated in 0.00011s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:19:18,325 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:19:18,325 [INFO] - [generated in 0.00009s] ()
2025-03-26 18:19:18,414 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:19:18,414 [INFO] - [generated in 0.00014s] ('user71', 'scrypt:32768:8:1$lGpYxanptjW669vg$6c8aabdaa8a2ead7ceed95fc47122f26b57cd3a310eaa19d5caad3eed4c1a30ed3b43e8819f3bd921d55a8799ea605a0123ed91ad4ff2a534165af69f0fc5ced', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '87720f94-59a6-4b57-8622-b3123a95878e')
2025-03-26 18:19:18,459 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:19:18,460 [INFO] - [generated in 0.00012s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:19:18,460 [INFO] - COMMIT
2025-03-26 18:19:18,515 [INFO] - BEGIN (implicit)
2025-03-26 18:19:18,516 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:19:18,516 [INFO] - [generated in 0.00009s] (9,)
2025-03-26 18:19:18,516 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:19:18,516 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:19:18,517 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:19:18,517 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:19:18,517 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:19:18,517 [INFO] - ROLLBACK
2025-03-26 18:19:18,518 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:18] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:19:19,610 [INFO] - BEGIN (implicit)
2025-03-26 18:19:19,610 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:19:19,611 [INFO] - [cached since 22.31s ago] (1,)
2025-03-26 18:19:19,612 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:19:19,613 [INFO] - BEGIN (implicit)
2025-03-26 18:19:19,613 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:19,613 [INFO] - [cached since 1.297s ago] ('user1', 1, 0)
2025-03-26 18:19:19,614 [INFO] - ROLLBACK
2025-03-26 18:19:19,615 [INFO] - BEGIN (implicit)
2025-03-26 18:19:19,619 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:19:19,619 [INFO] - [generated in 0.00025s] ()
2025-03-26 18:19:19,817 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:19:19,818 [INFO] - ROLLBACK
2025-03-26 18:19:19,839 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:19] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:19:19,882 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:19:22,371 [INFO] - BEGIN (implicit)
2025-03-26 18:19:22,372 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:19:22,372 [INFO] - [cached since 25.07s ago] (1,)
2025-03-26 18:19:22,373 [INFO] - BEGIN (implicit)
2025-03-26 18:19:22,377 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:22,377 [INFO] - [generated in 0.00028s] (3050, 1, 0)
2025-03-26 18:19:22,378 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:19:22,378 [INFO] - [cached since 25.08s ago] ()
2025-03-26 18:19:22,422 [INFO] - ROLLBACK
2025-03-26 18:19:22,422 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:22] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:19:22,460 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:19:26,959 [INFO] - BEGIN (implicit)
2025-03-26 18:19:26,985 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:19:26,985 [INFO] - [cached since 29.68s ago] (1,)
2025-03-26 18:19:26,985 [INFO] - BEGIN (implicit)
2025-03-26 18:19:26,986 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:26,986 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 18:19:27,003 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:19:27,003 [INFO] - BEGIN (implicit)
2025-03-26 18:19:27,003 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:27,003 [INFO] - [cached since 8.687s ago] ('user1', 1, 0)
2025-03-26 18:19:27,004 [INFO] - ROLLBACK
2025-03-26 18:19:27,005 [INFO] - BEGIN (implicit)
2025-03-26 18:19:27,006 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:27,006 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 18:19:27,017 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:19:27,017 [INFO] - [generated in 0.00011s] (71,)
2025-03-26 18:19:27,024 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:19:27,024 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 18:19:27,024 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:19:27,024 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:19:27,025 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:19:27,025 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:19:27,027 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:19:27,027 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:19:27,040 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:19:27,040 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 18:19:27,041 [INFO] - COMMIT
2025-03-26 18:19:27,068 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:19:27,068 [INFO] - ROLLBACK
2025-03-26 18:19:27,069 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:27] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-26 18:19:35,150 [INFO] - BEGIN (implicit)
2025-03-26 18:19:35,151 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:19:35,151 [INFO] - [cached since 37.85s ago] (1,)
2025-03-26 18:19:35,153 [INFO] - BEGIN (implicit)
2025-03-26 18:19:35,153 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:19:35,153 [INFO] - [cached since 12.78s ago] (3050, 1, 0)
2025-03-26 18:19:35,153 [INFO] - ROLLBACK
2025-03-26 18:19:35,154 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:19:35] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:20:30,953 [INFO] - BEGIN (implicit)
2025-03-26 18:20:30,953 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:20:30,953 [INFO] - [raw sql] ()
2025-03-26 18:20:30,955 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:20:30,955 [INFO] - [raw sql] ()
2025-03-26 18:20:30,955 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:20:30,955 [INFO] - [raw sql] ()
2025-03-26 18:20:30,955 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:20:30,955 [INFO] - [raw sql] ()
2025-03-26 18:20:30,956 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:20:30,956 [INFO] - [raw sql] ()
2025-03-26 18:20:30,956 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:20:30,956 [INFO] - [raw sql] ()
2025-03-26 18:20:30,956 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:20:30,956 [INFO] - [raw sql] ()
2025-03-26 18:20:30,956 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:20:30,956 [INFO] - [raw sql] ()
2025-03-26 18:20:30,956 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:20:30,956 [INFO] - [raw sql] ()
2025-03-26 18:20:30,956 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:20:30,956 [INFO] - [raw sql] ()
2025-03-26 18:20:30,957 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:20:30,957 [INFO] - [raw sql] ()
2025-03-26 18:20:30,957 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:20:30,957 [INFO] - [raw sql] ()
2025-03-26 18:20:30,957 [INFO] - COMMIT
2025-03-26 18:20:30,966 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:20:30,966 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:20:34,561 [INFO] - BEGIN (implicit)
2025-03-26 18:20:34,563 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:20:34,563 [INFO] - [generated in 0.00016s] (1,)
2025-03-26 18:20:34,564 [INFO] - BEGIN (implicit)
2025-03-26 18:20:34,567 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:20:34,567 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 18:20:34,567 [INFO] - ROLLBACK
2025-03-26 18:20:34,568 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:20:34] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:20:37,265 [INFO] - BEGIN (implicit)
2025-03-26 18:20:37,267 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:20:37,267 [INFO] - [cached since 2.704s ago] (1,)
2025-03-26 18:20:37,269 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:20:37,270 [INFO] - BEGIN (implicit)
2025-03-26 18:20:37,272 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:20:37,272 [INFO] - [generated in 0.00021s] ('user1', 1, 0)
2025-03-26 18:20:37,277 [INFO] - ROLLBACK
2025-03-26 18:20:37,277 [INFO] - BEGIN (implicit)
2025-03-26 18:20:37,278 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:20:37,278 [INFO] - [generated in 0.00011s] ()
2025-03-26 18:20:37,595 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:20:37,595 [INFO] - ROLLBACK
2025-03-26 18:20:37,619 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:20:37] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:20:37,664 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:20:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:20:39,092 [INFO] - BEGIN (implicit)
2025-03-26 18:20:39,093 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:20:39,093 [INFO] - [cached since 4.53s ago] (1,)
2025-03-26 18:20:39,094 [INFO] - BEGIN (implicit)
2025-03-26 18:20:39,095 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:20:39,095 [INFO] - [generated in 0.00016s] ()
2025-03-26 18:20:39,095 [INFO] - ROLLBACK
2025-03-26 18:20:39,224 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:20:39] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:20:39,283 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:20:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:21:02,712 [INFO] - BEGIN (implicit)
2025-03-26 18:21:02,714 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:21:02,714 [INFO] - [cached since 28.15s ago] (1,)
2025-03-26 18:21:02,715 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:21:02,715 [INFO] - BEGIN (implicit)
2025-03-26 18:21:02,715 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:02,715 [INFO] - [cached since 25.44s ago] ('user1', 1, 0)
2025-03-26 18:21:02,720 [INFO] - ROLLBACK
2025-03-26 18:21:02,725 [INFO] - BEGIN (implicit)
2025-03-26 18:21:02,726 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:02,726 [INFO] - [generated in 0.00011s] (9, 1, 0)
2025-03-26 18:21:02,729 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:02,729 [INFO] - [generated in 0.00009s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:21:02,730 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:21:02,730 [INFO] - [generated in 0.00008s] ()
2025-03-26 18:21:02,849 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:21:02,849 [INFO] - [generated in 0.00014s] ('user71', 'scrypt:32768:8:1$2hsJugWElnlDAPxN$56d6dd77711994c797bb47f80cc733cae0b3daaf46dafd1681df6d64c0a41cd9658a9100caa1f787af90b9ebef169cfc720a04b8f6a546b950f41885ecc38cc1', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '290d7274-4ff9-4b96-9205-655ac4446e9e')
2025-03-26 18:21:02,888 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:21:02,888 [INFO] - [generated in 0.00013s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:21:02,888 [INFO] - COMMIT
2025-03-26 18:21:02,910 [INFO] - BEGIN (implicit)
2025-03-26 18:21:02,910 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:21:02,910 [INFO] - [generated in 0.00009s] (9,)
2025-03-26 18:21:02,911 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:21:02,911 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:21:02,911 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:21:02,911 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:21:02,911 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:21:02,911 [INFO] - ROLLBACK
2025-03-26 18:21:02,912 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:02] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:21:06,707 [INFO] - BEGIN (implicit)
2025-03-26 18:21:06,708 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:21:06,708 [INFO] - [cached since 32.15s ago] (1,)
2025-03-26 18:21:06,709 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:21:06,709 [INFO] - BEGIN (implicit)
2025-03-26 18:21:06,710 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:06,710 [INFO] - [cached since 29.44s ago] ('user1', 1, 0)
2025-03-26 18:21:06,710 [INFO] - ROLLBACK
2025-03-26 18:21:06,711 [INFO] - BEGIN (implicit)
2025-03-26 18:21:06,711 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:21:06,711 [INFO] - [cached since 29.43s ago] ()
2025-03-26 18:21:06,757 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:21:06,757 [INFO] - ROLLBACK
2025-03-26 18:21:06,762 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:06] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:21:06,816 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:21:11,781 [INFO] - BEGIN (implicit)
2025-03-26 18:21:11,782 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:21:11,782 [INFO] - [cached since 37.22s ago] (1,)
2025-03-26 18:21:11,784 [INFO] - BEGIN (implicit)
2025-03-26 18:21:11,784 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:11,784 [INFO] - [cached since 37.22s ago] (3050, 1, 0)
2025-03-26 18:21:11,787 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:21:11,788 [INFO] - [cached since 32.69s ago] ()
2025-03-26 18:21:11,834 [INFO] - ROLLBACK
2025-03-26 18:21:11,834 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:11] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:21:11,874 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:21:16,010 [INFO] - BEGIN (implicit)
2025-03-26 18:21:16,011 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:21:16,011 [INFO] - [cached since 41.45s ago] (1,)
2025-03-26 18:21:16,012 [INFO] - BEGIN (implicit)
2025-03-26 18:21:16,013 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:16,013 [INFO] - [generated in 0.00034s] (3050, 1, 0)
2025-03-26 18:21:16,014 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:21:16,016 [INFO] - BEGIN (implicit)
2025-03-26 18:21:16,017 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:16,017 [INFO] - [cached since 38.75s ago] ('user1', 1, 0)
2025-03-26 18:21:16,022 [INFO] - ROLLBACK
2025-03-26 18:21:16,023 [INFO] - BEGIN (implicit)
2025-03-26 18:21:16,024 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:16,024 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 18:21:16,026 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:21:16,026 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 18:21:16,026 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:21:16,026 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:21:16,027 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:21:16,027 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:21:16,027 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:21:16,027 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:21:16,028 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:21:16,028 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:21:16,029 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:21:16,029 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:21:16,030 [INFO] - COMMIT
2025-03-26 18:21:16,035 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:21:16,035 [INFO] - ROLLBACK
2025-03-26 18:21:16,035 [ERROR] - Exception on /admin/student/3050/delete [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1267, in make_response
    rv.headers.update(headers)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/datastructures/headers.py", line 526, in update
    for key, value in arg:
                      ^^^
TypeError: 'Response' object is not iterable
2025-03-26 18:21:16,121 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:16] "[35m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 500 -
2025-03-26 18:21:25,281 [INFO] - BEGIN (implicit)
2025-03-26 18:21:25,282 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:21:25,283 [INFO] - [cached since 50.72s ago] (1,)
2025-03-26 18:21:25,283 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:21:25,284 [INFO] - BEGIN (implicit)
2025-03-26 18:21:25,284 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:21:25,284 [INFO] - [cached since 48.01s ago] ('user1', 1, 0)
2025-03-26 18:21:25,313 [INFO] - ROLLBACK
2025-03-26 18:21:25,314 [INFO] - BEGIN (implicit)
2025-03-26 18:21:25,314 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:21:25,314 [INFO] - [cached since 48.04s ago] ()
2025-03-26 18:21:25,328 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:21:25,328 [INFO] - ROLLBACK
2025-03-26 18:21:25,334 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:25] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:21:25,370 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:21:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:22:36,664 [INFO] - BEGIN (implicit)
2025-03-26 18:22:36,664 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:22:36,664 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:22:36,665 [INFO] - [raw sql] ()
2025-03-26 18:22:36,665 [INFO] - COMMIT
2025-03-26 18:22:36,676 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:22:36,676 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:22:40,184 [INFO] - BEGIN (implicit)
2025-03-26 18:22:40,185 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:22:40,185 [INFO] - [generated in 0.00013s] (1,)
2025-03-26 18:22:40,186 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:22:40,186 [INFO] - BEGIN (implicit)
2025-03-26 18:22:40,187 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:22:40,187 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-26 18:22:40,187 [INFO] - ROLLBACK
2025-03-26 18:22:40,188 [INFO] - BEGIN (implicit)
2025-03-26 18:22:40,190 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:22:40,190 [INFO] - [generated in 0.00012s] ()
2025-03-26 18:22:40,496 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:22:40,496 [INFO] - ROLLBACK
2025-03-26 18:22:40,539 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:22:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:22:40,587 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:22:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:22:42,202 [INFO] - BEGIN (implicit)
2025-03-26 18:22:42,202 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:22:42,203 [INFO] - [cached since 2.017s ago] (1,)
2025-03-26 18:22:42,204 [INFO] - BEGIN (implicit)
2025-03-26 18:22:42,205 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:22:42,205 [INFO] - [generated in 0.00016s] ()
2025-03-26 18:22:42,247 [INFO] - ROLLBACK
2025-03-26 18:22:42,257 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:22:42] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:22:42,301 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:22:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:23:06,741 [INFO] - BEGIN (implicit)
2025-03-26 18:23:06,743 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:06,743 [INFO] - [cached since 26.56s ago] (1,)
2025-03-26 18:23:06,744 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:23:06,745 [INFO] - BEGIN (implicit)
2025-03-26 18:23:06,746 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:06,746 [INFO] - [cached since 26.56s ago] ('user1', 1, 0)
2025-03-26 18:23:06,751 [INFO] - ROLLBACK
2025-03-26 18:23:06,753 [INFO] - BEGIN (implicit)
2025-03-26 18:23:06,754 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:06,754 [INFO] - [generated in 0.00010s] (9, 1, 0)
2025-03-26 18:23:06,756 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:06,756 [INFO] - [generated in 0.00013s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:23:06,757 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:23:06,757 [INFO] - [generated in 0.00006s] ()
2025-03-26 18:23:06,881 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:23:06,881 [INFO] - [generated in 0.00014s] ('user71', 'scrypt:32768:8:1$ohmzwNXG98XVrKjz$316dd55247f8019060410eb00437a2db79017316d1a117e4a1a81dd50af1dc1a264f70946f1fa9afd1c25636f959fe4206399e7de99ff289add86cb1822e33c9', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '64d9fd54-ca3b-4dc9-98d0-2be35de44309')
2025-03-26 18:23:06,908 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:23:06,908 [INFO] - [generated in 0.00009s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:23:06,908 [INFO] - COMMIT
2025-03-26 18:23:06,916 [INFO] - BEGIN (implicit)
2025-03-26 18:23:06,916 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:23:06,916 [INFO] - [generated in 0.00006s] (9,)
2025-03-26 18:23:06,917 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:23:06,917 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:23:06,917 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:23:06,917 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:06,917 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:23:06,917 [INFO] - ROLLBACK
2025-03-26 18:23:06,918 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:06] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:23:08,158 [INFO] - BEGIN (implicit)
2025-03-26 18:23:08,158 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:08,158 [INFO] - [cached since 27.97s ago] (1,)
2025-03-26 18:23:08,159 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:23:08,160 [INFO] - BEGIN (implicit)
2025-03-26 18:23:08,160 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:08,160 [INFO] - [cached since 27.97s ago] ('user1', 1, 0)
2025-03-26 18:23:08,163 [INFO] - ROLLBACK
2025-03-26 18:23:08,163 [INFO] - BEGIN (implicit)
2025-03-26 18:23:08,163 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:23:08,163 [INFO] - [cached since 27.97s ago] ()
2025-03-26 18:23:08,237 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:23:08,237 [INFO] - ROLLBACK
2025-03-26 18:23:08,243 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:08] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:23:08,268 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:23:11,032 [INFO] - BEGIN (implicit)
2025-03-26 18:23:11,033 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:11,033 [INFO] - [cached since 30.85s ago] (1,)
2025-03-26 18:23:11,034 [INFO] - BEGIN (implicit)
2025-03-26 18:23:11,038 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:11,038 [INFO] - [generated in 0.00031s] (3050, 1, 0)
2025-03-26 18:23:11,040 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:23:11,040 [INFO] - [cached since 28.84s ago] ()
2025-03-26 18:23:11,089 [INFO] - ROLLBACK
2025-03-26 18:23:11,090 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:11] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:23:11,139 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:23:15,160 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,162 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:15,162 [INFO] - [cached since 34.98s ago] (1,)
2025-03-26 18:23:15,164 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,166 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:15,166 [INFO] - [generated in 0.00021s] (3050, 1, 0)
2025-03-26 18:23:15,168 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:23:15,169 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,169 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:15,169 [INFO] - [cached since 34.98s ago] ('user1', 1, 0)
2025-03-26 18:23:15,169 [INFO] - ROLLBACK
2025-03-26 18:23:15,169 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,171 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:15,171 [INFO] - [generated in 0.00008s] (3050, 1, 0)
2025-03-26 18:23:15,173 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:23:15,173 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:23:15,176 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:23:15,176 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:23:15,176 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:23:15,176 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:23:15,179 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:23:15,179 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:23:15,180 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:23:15,180 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:23:15,219 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:23:15,219 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:23:15,219 [INFO] - COMMIT
2025-03-26 18:23:15,234 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:23:15,234 [INFO] - ROLLBACK
2025-03-26 18:23:15,234 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:15] "[32mPOST /admin/student/3050/delete HTTP/1.1[0m" 302 -
2025-03-26 18:23:15,241 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,241 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:15,241 [INFO] - [cached since 35.06s ago] (1,)
2025-03-26 18:23:15,241 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:23:15,242 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,242 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:15,242 [INFO] - [cached since 35.06s ago] ('user1', 1, 0)
2025-03-26 18:23:15,242 [INFO] - ROLLBACK
2025-03-26 18:23:15,242 [INFO] - BEGIN (implicit)
2025-03-26 18:23:15,242 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:23:15,242 [INFO] - [cached since 35.05s ago] ()
2025-03-26 18:23:15,250 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:23:15,250 [INFO] - ROLLBACK
2025-03-26 18:23:15,256 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:15] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:23:20,076 [INFO] - BEGIN (implicit)
2025-03-26 18:23:20,077 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:23:20,077 [INFO] - [cached since 39.89s ago] (1,)
2025-03-26 18:23:20,077 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:23:20,078 [INFO] - BEGIN (implicit)
2025-03-26 18:23:20,078 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:23:20,078 [INFO] - [cached since 39.89s ago] ('user1', 1, 0)
2025-03-26 18:23:20,079 [INFO] - ROLLBACK
2025-03-26 18:23:20,080 [INFO] - BEGIN (implicit)
2025-03-26 18:23:20,080 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:23:20,080 [INFO] - [cached since 39.89s ago] ()
2025-03-26 18:23:20,085 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:23:20,085 [INFO] - ROLLBACK
2025-03-26 18:23:20,092 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:20] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:23:20,133 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:23:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:23:33,169 [INFO] - BEGIN (implicit)
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:23:33,169 [INFO] - [raw sql] ()
2025-03-26 18:23:33,169 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:23:33,170 [INFO] - [raw sql] ()
2025-03-26 18:23:33,170 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:23:33,170 [INFO] - [raw sql] ()
2025-03-26 18:23:33,170 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:23:33,170 [INFO] - [raw sql] ()
2025-03-26 18:23:33,170 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:23:33,170 [INFO] - [raw sql] ()
2025-03-26 18:23:33,170 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:23:33,170 [INFO] - [raw sql] ()
2025-03-26 18:23:33,170 [INFO] - COMMIT
2025-03-26 18:23:33,179 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:23:33,179 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:25:57,953 [INFO] - BEGIN (implicit)
2025-03-26 18:25:57,956 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:25:57,956 [INFO] - [generated in 0.00018s] (1,)
2025-03-26 18:25:58,255 [INFO] - BEGIN (implicit)
2025-03-26 18:25:58,256 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:25:58,256 [INFO] - [generated in 0.00011s] ()
2025-03-26 18:25:58,258 [INFO] - ROLLBACK
2025-03-26 18:25:58,287 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:25:58] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:25:58,375 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:25:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:26:16,278 [INFO] - BEGIN (implicit)
2025-03-26 18:26:16,280 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:26:16,280 [INFO] - [cached since 18.32s ago] (1,)
2025-03-26 18:26:16,282 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:26:16,283 [INFO] - BEGIN (implicit)
2025-03-26 18:26:16,285 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:16,285 [INFO] - [generated in 0.00023s] ('user1', 1, 0)
2025-03-26 18:26:16,291 [INFO] - ROLLBACK
2025-03-26 18:26:16,294 [INFO] - BEGIN (implicit)
2025-03-26 18:26:16,294 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:16,294 [INFO] - [generated in 0.00008s] (9, 1, 0)
2025-03-26 18:26:16,297 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:16,297 [INFO] - [generated in 0.00010s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:26:16,298 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:26:16,298 [INFO] - [generated in 0.00006s] ()
2025-03-26 18:26:16,417 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:26:16,417 [INFO] - [generated in 0.00015s] ('user71', 'scrypt:32768:8:1$rGKyzB3Mr13WQaqC$0394fb90e4bfb7300d3afb8455b271fc87d579046d20fab15b2983c43b0ca66aff7a27ffb7e060f5858cac8c0b81ff8b1024cc3d90fec391f418f1ac5a541328', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '7f90cae6-9599-4a5a-abe6-5b9bf3c26efe')
2025-03-26 18:26:16,455 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:26:16,455 [INFO] - [generated in 0.00012s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:26:16,456 [INFO] - COMMIT
2025-03-26 18:26:16,489 [INFO] - BEGIN (implicit)
2025-03-26 18:26:16,490 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:26:16,490 [INFO] - [generated in 0.00010s] (9,)
2025-03-26 18:26:16,491 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:26:16,491 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:26:16,518 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:26:16,521 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:26:16,521 [INFO] - [generated in 0.00161s] (71,)
2025-03-26 18:26:16,522 [INFO] - ROLLBACK
2025-03-26 18:26:16,523 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:26:16] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:26:17,627 [INFO] - BEGIN (implicit)
2025-03-26 18:26:17,627 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:26:17,628 [INFO] - [cached since 19.67s ago] (1,)
2025-03-26 18:26:17,628 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:26:17,629 [INFO] - BEGIN (implicit)
2025-03-26 18:26:17,630 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:17,630 [INFO] - [cached since 1.345s ago] ('user1', 1, 0)
2025-03-26 18:26:17,631 [INFO] - ROLLBACK
2025-03-26 18:26:17,632 [INFO] - BEGIN (implicit)
2025-03-26 18:26:17,636 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:26:17,636 [INFO] - [generated in 0.00033s] ()
2025-03-26 18:26:18,099 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:26:18,100 [INFO] - ROLLBACK
2025-03-26 18:26:18,121 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:26:18] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:26:18,155 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:26:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:26:19,978 [INFO] - BEGIN (implicit)
2025-03-26 18:26:19,978 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:26:19,978 [INFO] - [cached since 22.02s ago] (1,)
2025-03-26 18:26:19,979 [INFO] - BEGIN (implicit)
2025-03-26 18:26:19,980 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:19,981 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 18:26:19,982 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:26:19,982 [INFO] - [cached since 21.73s ago] ()
2025-03-26 18:26:19,992 [INFO] - ROLLBACK
2025-03-26 18:26:19,992 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:26:19] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:26:20,043 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:26:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:26:22,693 [INFO] - BEGIN (implicit)
2025-03-26 18:26:22,693 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:26:22,694 [INFO] - [cached since 24.74s ago] (1,)
2025-03-26 18:26:22,695 [INFO] - BEGIN (implicit)
2025-03-26 18:26:22,696 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:22,696 [INFO] - [generated in 0.00026s] (3050, 1, 0)
2025-03-26 18:26:22,697 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:26:22,697 [INFO] - BEGIN (implicit)
2025-03-26 18:26:22,697 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:22,697 [INFO] - [cached since 6.413s ago] ('user1', 1, 0)
2025-03-26 18:26:22,700 [INFO] - ROLLBACK
2025-03-26 18:26:22,700 [INFO] - BEGIN (implicit)
2025-03-26 18:26:22,703 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:26:22,704 [INFO] - [generated in 0.00080s] (3050, 1, 0)
2025-03-26 18:26:22,706 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:26:22,706 [INFO] - [generated in 0.00017s] (71,)
2025-03-26 18:26:22,709 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:26:22,709 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:26:22,709 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:26:22,709 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:26:22,710 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:26:22,710 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:26:22,711 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:26:22,711 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:26:22,748 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:26:22,748 [INFO] - [generated in 0.00016s] (71,)
2025-03-26 18:26:22,749 [INFO] - COMMIT
2025-03-26 18:26:22,756 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:26:22,756 [INFO] - ROLLBACK
2025-03-26 18:26:22,756 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:26:22] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-26 18:45:54,361 [INFO] - BEGIN (implicit)
2025-03-26 18:45:54,361 [INFO] - PRAGMA main.table_info("users")
2025-03-26 18:45:54,361 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("students")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,362 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 18:45:54,362 [INFO] - [raw sql] ()
2025-03-26 18:45:54,363 [INFO] - COMMIT
2025-03-26 18:45:54,374 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 18:45:54,374 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 18:45:55,547 [INFO] - BEGIN (implicit)
2025-03-26 18:45:55,548 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:45:55,549 [INFO] - [generated in 0.00010s] (1,)
2025-03-26 18:45:55,549 [INFO] - BEGIN (implicit)
2025-03-26 18:45:55,552 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:45:55,552 [INFO] - [generated in 0.00010s] (3050, 1, 0)
2025-03-26 18:45:55,552 [INFO] - ROLLBACK
2025-03-26 18:45:55,552 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:45:55] "[33mGET /admin/student/3050 HTTP/1.1[0m" 404 -
2025-03-26 18:45:59,338 [INFO] - BEGIN (implicit)
2025-03-26 18:45:59,339 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:45:59,339 [INFO] - [cached since 3.791s ago] (1,)
2025-03-26 18:45:59,340 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:45:59,341 [INFO] - BEGIN (implicit)
2025-03-26 18:45:59,342 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:45:59,342 [INFO] - [generated in 0.00024s] ('user1', 1, 0)
2025-03-26 18:45:59,343 [INFO] - ROLLBACK
2025-03-26 18:45:59,344 [INFO] - BEGIN (implicit)
2025-03-26 18:45:59,346 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:45:59,346 [INFO] - [generated in 0.00014s] ()
2025-03-26 18:45:59,675 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:45:59,675 [INFO] - ROLLBACK
2025-03-26 18:45:59,711 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:45:59] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:45:59,753 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:45:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:46:00,999 [INFO] - BEGIN (implicit)
2025-03-26 18:46:01,000 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:01,000 [INFO] - [cached since 5.452s ago] (1,)
2025-03-26 18:46:01,002 [INFO] - BEGIN (implicit)
2025-03-26 18:46:01,002 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:46:01,003 [INFO] - [generated in 0.00017s] ()
2025-03-26 18:46:01,003 [INFO] - ROLLBACK
2025-03-26 18:46:01,037 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:01] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 18:46:01,080 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:46:23,251 [INFO] - BEGIN (implicit)
2025-03-26 18:46:23,252 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:23,252 [INFO] - [cached since 27.7s ago] (1,)
2025-03-26 18:46:23,253 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:46:23,253 [INFO] - BEGIN (implicit)
2025-03-26 18:46:23,254 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:23,254 [INFO] - [cached since 23.91s ago] ('user1', 1, 0)
2025-03-26 18:46:23,259 [INFO] - ROLLBACK
2025-03-26 18:46:23,262 [INFO] - BEGIN (implicit)
2025-03-26 18:46:23,263 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:23,263 [INFO] - [generated in 0.00008s] (9, 1, 0)
2025-03-26 18:46:23,266 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:23,266 [INFO] - [generated in 0.00008s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 18:46:23,267 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 18:46:23,267 [INFO] - [generated in 0.00005s] ()
2025-03-26 18:46:23,383 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 18:46:23,383 [INFO] - [generated in 0.00018s] ('user71', 'scrypt:32768:8:1$mDc0kvt0wyOTIZAN$e815020c28791e9b02bfe06a2a829b69bb17714ab0f1f43256f86b3856b986b404c47554ca0b940e3b681dd943427891dcf0bb8800ae72cb9f97ab7289bd9756', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '6c7ba7b9-1ab5-4f48-90dd-f0e258f6b164')
2025-03-26 18:46:23,412 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 18:46:23,412 [INFO] - [generated in 0.00012s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 18:46:23,412 [INFO] - COMMIT
2025-03-26 18:46:23,420 [INFO] - BEGIN (implicit)
2025-03-26 18:46:23,420 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 18:46:23,420 [INFO] - [generated in 0.00006s] (9,)
2025-03-26 18:46:23,421 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 18:46:23,421 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:46:23,421 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 18:46:23,421 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:23,421 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:46:23,421 [INFO] - ROLLBACK
2025-03-26 18:46:23,421 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:23] "[35m[1mPOST /api/admin/student HTTP/1.1[0m" 201 -
2025-03-26 18:46:24,710 [INFO] - BEGIN (implicit)
2025-03-26 18:46:24,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:24,711 [INFO] - [cached since 29.16s ago] (1,)
2025-03-26 18:46:24,715 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:46:24,716 [INFO] - BEGIN (implicit)
2025-03-26 18:46:24,716 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:24,716 [INFO] - [cached since 25.37s ago] ('user1', 1, 0)
2025-03-26 18:46:24,716 [INFO] - ROLLBACK
2025-03-26 18:46:24,717 [INFO] - BEGIN (implicit)
2025-03-26 18:46:24,717 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:46:24,717 [INFO] - [cached since 25.37s ago] ()
2025-03-26 18:46:24,780 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 18:46:24,780 [INFO] - ROLLBACK
2025-03-26 18:46:24,786 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:24] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:46:24,847 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:24] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:46:27,369 [INFO] - BEGIN (implicit)
2025-03-26 18:46:27,369 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:27,369 [INFO] - [cached since 31.82s ago] (1,)
2025-03-26 18:46:27,371 [INFO] - BEGIN (implicit)
2025-03-26 18:46:27,371 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:27,371 [INFO] - [cached since 31.82s ago] (3050, 1, 0)
2025-03-26 18:46:27,372 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:46:27,372 [INFO] - [cached since 26.37s ago] ()
2025-03-26 18:46:27,409 [INFO] - ROLLBACK
2025-03-26 18:46:27,410 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:27] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 18:46:27,455 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:46:30,741 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,741 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:30,742 [INFO] - [cached since 35.19s ago] (1,)
2025-03-26 18:46:30,743 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,744 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:30,744 [INFO] - [generated in 0.00022s] (3050, 1, 0)
2025-03-26 18:46:30,745 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:46:30,746 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,746 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:30,746 [INFO] - [cached since 31.4s ago] ('user1', 1, 0)
2025-03-26 18:46:30,782 [INFO] - ROLLBACK
2025-03-26 18:46:30,782 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,783 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:30,783 [INFO] - [generated in 0.00009s] (3050, 1, 0)
2025-03-26 18:46:30,786 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 18:46:30,786 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 18:46:30,787 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 18:46:30,787 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 18:46:30,787 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 18:46:30,788 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 18:46:30,788 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 18:46:30,788 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:46:30,789 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 18:46:30,789 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:46:30,790 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 18:46:30,790 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 18:46:30,790 [INFO] - COMMIT
2025-03-26 18:46:30,797 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 18:46:30,797 [INFO] - ROLLBACK
2025-03-26 18:46:30,797 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:30] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-26 18:46:30,809 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,810 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:30,810 [INFO] - [cached since 35.26s ago] (1,)
2025-03-26 18:46:30,810 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:46:30,810 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,810 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:30,810 [INFO] - [cached since 31.47s ago] ('user1', 1, 0)
2025-03-26 18:46:30,810 [INFO] - ROLLBACK
2025-03-26 18:46:30,811 [INFO] - BEGIN (implicit)
2025-03-26 18:46:30,811 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:46:30,811 [INFO] - [cached since 31.46s ago] ()
2025-03-26 18:46:30,820 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:46:30,820 [INFO] - ROLLBACK
2025-03-26 18:46:30,826 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:30] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:46:30,875 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:46:43,764 [INFO] - BEGIN (implicit)
2025-03-26 18:46:43,796 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:43,796 [INFO] - [cached since 48.25s ago] (1,)
2025-03-26 18:46:43,797 [INFO] - BEGIN (implicit)
2025-03-26 18:46:43,797 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:43,797 [INFO] - [cached since 48.25s ago] (3018, 1, 0)
2025-03-26 18:46:43,798 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 18:46:43,798 [INFO] - [cached since 42.8s ago] ()
2025-03-26 18:46:43,799 [INFO] - ROLLBACK
2025-03-26 18:46:43,799 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:43] "GET /admin/student/3018 HTTP/1.1" 200 -
2025-03-26 18:46:43,845 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 18:46:48,534 [INFO] - BEGIN (implicit)
2025-03-26 18:46:48,535 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 18:46:48,535 [INFO] - [cached since 52.99s ago] (1,)
2025-03-26 18:46:48,535 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 18:46:48,536 [INFO] - BEGIN (implicit)
2025-03-26 18:46:48,536 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 18:46:48,536 [INFO] - [cached since 49.19s ago] ('user1', 1, 0)
2025-03-26 18:46:48,537 [INFO] - ROLLBACK
2025-03-26 18:46:48,537 [INFO] - BEGIN (implicit)
2025-03-26 18:46:48,537 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 18:46:48,537 [INFO] - [cached since 49.19s ago] ()
2025-03-26 18:46:48,560 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 18:46:48,560 [INFO] - ROLLBACK
2025-03-26 18:46:48,566 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:48] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 18:46:48,615 [INFO] - 127.0.0.1 - - [26/Mar/2025 18:46:48] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:05:33,893 [INFO] - BEGIN (implicit)
2025-03-26 20:05:33,901 [INFO] - PRAGMA main.table_info("users")
2025-03-26 20:05:33,901 [INFO] - [raw sql] ()
2025-03-26 20:05:33,925 [INFO] - PRAGMA main.table_info("students")
2025-03-26 20:05:33,925 [INFO] - [raw sql] ()
2025-03-26 20:05:33,925 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 20:05:33,926 [INFO] - [raw sql] ()
2025-03-26 20:05:33,926 [INFO] - COMMIT
2025-03-26 20:05:33,936 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 20:05:33,936 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 20:05:39,655 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:39] "GET / HTTP/1.1" 200 -
2025-03-26 20:05:39,717 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-26 20:05:43,027 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 20:05:43,045 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:05:44,088 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:44] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 20:05:44,160 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:05:53,286 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:53] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 20:05:53,330 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:53] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 20:05:53,372 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:05:55,338 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:55] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-26 20:05:55,342 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:55] "GET /admin/login HTTP/1.1" 200 -
2025-03-26 20:05:55,409 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:05:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:06:03,944 [INFO] - BEGIN (implicit)
2025-03-26 20:06:03,948 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:03,948 [INFO] - [generated in 0.00019s] ('user1', 1, 0)
2025-03-26 20:06:04,034 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:04] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-26 20:06:04,039 [INFO] - BEGIN (implicit)
2025-03-26 20:06:04,040 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:06:04,040 [INFO] - [generated in 0.00029s] (1,)
2025-03-26 20:06:04,082 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:04] "GET /admin/ HTTP/1.1" 200 -
2025-03-26 20:06:04,129 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:06:08,631 [INFO] - BEGIN (implicit)
2025-03-26 20:06:08,632 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:06:08,632 [INFO] - [cached since 4.592s ago] (1,)
2025-03-26 20:06:08,633 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:06:08,634 [INFO] - BEGIN (implicit)
2025-03-26 20:06:08,635 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:08,635 [INFO] - [cached since 4.687s ago] ('user1', 1, 0)
2025-03-26 20:06:08,636 [INFO] - ROLLBACK
2025-03-26 20:06:08,637 [INFO] - BEGIN (implicit)
2025-03-26 20:06:08,644 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:06:08,644 [INFO] - [generated in 0.00025s] ()
2025-03-26 20:06:09,070 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:06:09,070 [INFO] - ROLLBACK
2025-03-26 20:06:09,090 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:09] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:06:09,135 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:06:29,676 [INFO] - BEGIN (implicit)
2025-03-26 20:06:29,677 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:06:29,678 [INFO] - [cached since 25.64s ago] (1,)
2025-03-26 20:06:29,679 [INFO] - BEGIN (implicit)
2025-03-26 20:06:29,686 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:29,686 [INFO] - [generated in 0.00036s] (3000, 1, 0)
2025-03-26 20:06:29,975 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:06:29,975 [INFO] - [generated in 0.00043s] ()
2025-03-26 20:06:29,995 [INFO] - ROLLBACK
2025-03-26 20:06:29,995 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:29] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 20:06:30,032 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:06:54,039 [INFO] - BEGIN (implicit)
2025-03-26 20:06:54,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:06:54,041 [INFO] - [cached since 50s ago] (1,)
2025-03-26 20:06:54,042 [INFO] - BEGIN (implicit)
2025-03-26 20:06:54,043 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:54,043 [INFO] - [cached since 24.36s ago] (3000, 1, 0)
2025-03-26 20:06:54,052 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:06:54,052 [INFO] - [cached since 24.08s ago] ()
2025-03-26 20:06:54,055 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:06:54,055 [INFO] - BEGIN (implicit)
2025-03-26 20:06:54,055 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:54,055 [INFO] - [cached since 50.11s ago] ('user1', 1, 0)
2025-03-26 20:06:54,058 [INFO] - ROLLBACK
2025-03-26 20:06:54,058 [INFO] - BEGIN (implicit)
2025-03-26 20:06:54,058 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:54,058 [INFO] - [cached since 24.37s ago] (3000, 1, 0)
2025-03-26 20:06:54,066 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:54,066 [INFO] - [generated in 0.00014s] ('user6', 6, 1, 0)
2025-03-26 20:06:54,140 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 20:06:54,140 [INFO] - [generated in 0.00016s] ('scrypt:32768:8:1$ESgp2XYdmfIdVq34$c9396a086f403500260acc70077bd673d0b669669c1542523af242a7a7ab8bb33b2ee6eb4e5fe2bb8b97b8a3da4fdbd825c9b7847b9c844e2c030aff9367f1ad', 6)
2025-03-26 20:06:54,181 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:54,181 [INFO] - [generated in 0.00016s] ('user6@school.ru', 6, 1, 0)
2025-03-26 20:06:54,181 [INFO] - UPDATE users SET profile_picture=? WHERE users.user_id = ?
2025-03-26 20:06:54,181 [INFO] - [generated in 0.00010s] ('iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 6)
2025-03-26 20:06:54,182 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:54,182 [INFO] - [generated in 0.00008s] (1, 1, 0)
2025-03-26 20:06:54,186 [INFO] - COMMIT
2025-03-26 20:06:54,204 [INFO] - PATCH /api/admin/student/3000 - Updated by user user1: {'username': 'user6', 'password': 'updated', 'first_name': 'Иван', 'last_name': 'Иванов', 'email': 'user6@school.ru', 'phone_number': '+7(900)000-00-05', 'profile_picture': 'updated', 'class_id': 1, 'birth_date': '2009-03-12', 'address': 'Улица 14, дом 2'}
2025-03-26 20:06:54,205 [INFO] - BEGIN (implicit)
2025-03-26 20:06:54,206 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 20:06:54,206 [INFO] - [generated in 0.00011s] (6,)
2025-03-26 20:06:54,207 [INFO] - ROLLBACK
2025-03-26 20:06:54,207 [INFO] - ROLLBACK
2025-03-26 20:06:54,207 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:54] "POST /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 20:06:55,479 [INFO] - BEGIN (implicit)
2025-03-26 20:06:55,479 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:06:55,480 [INFO] - [cached since 51.44s ago] (1,)
2025-03-26 20:06:55,480 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:06:55,481 [INFO] - BEGIN (implicit)
2025-03-26 20:06:55,481 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:55,482 [INFO] - [cached since 51.53s ago] ('user1', 1, 0)
2025-03-26 20:06:55,482 [INFO] - ROLLBACK
2025-03-26 20:06:55,483 [INFO] - BEGIN (implicit)
2025-03-26 20:06:55,483 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:06:55,483 [INFO] - [cached since 46.84s ago] ()
2025-03-26 20:06:55,509 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:06:55,509 [INFO] - ROLLBACK
2025-03-26 20:06:55,514 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:55] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:06:55,545 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:06:57,919 [INFO] - BEGIN (implicit)
2025-03-26 20:06:57,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:06:57,920 [INFO] - [cached since 53.88s ago] (1,)
2025-03-26 20:06:57,921 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:06:57,921 [INFO] - BEGIN (implicit)
2025-03-26 20:06:57,922 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:06:57,922 [INFO] - [cached since 53.97s ago] ('user1', 1, 0)
2025-03-26 20:06:57,923 [INFO] - ROLLBACK
2025-03-26 20:06:57,923 [INFO] - BEGIN (implicit)
2025-03-26 20:06:57,924 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:06:57,924 [INFO] - [cached since 49.28s ago] ()
2025-03-26 20:06:57,928 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:06:57,928 [INFO] - ROLLBACK
2025-03-26 20:06:57,937 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:57] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:06:57,966 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:06:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:09:47,106 [INFO] - BEGIN (implicit)
2025-03-26 20:09:47,109 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:09:47,109 [INFO] - [cached since 223.1s ago] (1,)
2025-03-26 20:09:47,111 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:09:47,112 [INFO] - BEGIN (implicit)
2025-03-26 20:09:47,112 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:09:47,112 [INFO] - [cached since 223.2s ago] ('user1', 1, 0)
2025-03-26 20:09:47,113 [INFO] - ROLLBACK
2025-03-26 20:09:47,114 [INFO] - BEGIN (implicit)
2025-03-26 20:09:47,114 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:09:47,114 [INFO] - [cached since 218.5s ago] ()
2025-03-26 20:09:47,126 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:09:47,126 [INFO] - ROLLBACK
2025-03-26 20:09:47,132 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:09:47] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:09:47,184 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:09:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:09:49,182 [INFO] - BEGIN (implicit)
2025-03-26 20:09:49,183 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:09:49,183 [INFO] - [cached since 225.1s ago] (1,)
2025-03-26 20:09:49,185 [INFO] - BEGIN (implicit)
2025-03-26 20:09:49,185 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:09:49,185 [INFO] - [cached since 199.5s ago] (3000, 1, 0)
2025-03-26 20:09:49,186 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:09:49,186 [INFO] - [cached since 199.2s ago] ()
2025-03-26 20:09:49,187 [INFO] - ROLLBACK
2025-03-26 20:09:49,188 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:09:49] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 20:09:49,222 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:09:49] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:10:02,307 [INFO] - BEGIN (implicit)
2025-03-26 20:10:02,307 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:10:02,308 [INFO] - [cached since 238.3s ago] (1,)
2025-03-26 20:10:02,308 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:10:02,309 [INFO] - BEGIN (implicit)
2025-03-26 20:10:02,309 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:10:02,309 [INFO] - [cached since 238.4s ago] ('user1', 1, 0)
2025-03-26 20:10:02,309 [INFO] - ROLLBACK
2025-03-26 20:10:02,310 [INFO] - BEGIN (implicit)
2025-03-26 20:10:02,310 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:10:02,311 [INFO] - [cached since 233.7s ago] ()
2025-03-26 20:10:02,315 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:10:02,315 [INFO] - ROLLBACK
2025-03-26 20:10:02,325 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:10:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:10:02,372 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:10:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:10:04,031 [INFO] - BEGIN (implicit)
2025-03-26 20:10:04,032 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:10:04,032 [INFO] - [cached since 240s ago] (1,)
2025-03-26 20:10:04,033 [INFO] - BEGIN (implicit)
2025-03-26 20:10:04,033 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:10:04,033 [INFO] - [cached since 214.3s ago] (3000, 1, 0)
2025-03-26 20:10:04,068 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:10:04,068 [INFO] - [cached since 214.1s ago] ()
2025-03-26 20:10:04,069 [INFO] - ROLLBACK
2025-03-26 20:10:04,069 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:10:04] "GET /admin/student/3000 HTTP/1.1" 200 -
2025-03-26 20:10:04,104 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:10:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:10:05,413 [INFO] - BEGIN (implicit)
2025-03-26 20:10:05,413 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:10:05,413 [INFO] - [cached since 241.4s ago] (1,)
2025-03-26 20:10:05,414 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:10:05,414 [INFO] - BEGIN (implicit)
2025-03-26 20:10:05,415 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:10:05,415 [INFO] - [cached since 241.5s ago] ('user1', 1, 0)
2025-03-26 20:10:05,417 [INFO] - ROLLBACK
2025-03-26 20:10:05,418 [INFO] - BEGIN (implicit)
2025-03-26 20:10:05,418 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:10:05,418 [INFO] - [cached since 236.8s ago] ()
2025-03-26 20:10:05,431 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:10:05,431 [INFO] - ROLLBACK
2025-03-26 20:10:05,438 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:10:05] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:10:05,481 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:10:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:28:17,359 [INFO] - BEGIN (implicit)
2025-03-26 20:28:17,359 [INFO] - PRAGMA main.table_info("users")
2025-03-26 20:28:17,359 [INFO] - [raw sql] ()
2025-03-26 20:28:17,359 [INFO] - PRAGMA main.table_info("students")
2025-03-26 20:28:17,359 [INFO] - [raw sql] ()
2025-03-26 20:28:17,359 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 20:28:17,359 [INFO] - [raw sql] ()
2025-03-26 20:28:17,359 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 20:28:17,359 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 20:28:17,360 [INFO] - [raw sql] ()
2025-03-26 20:28:17,360 [INFO] - COMMIT
2025-03-26 20:28:17,391 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 20:28:17,391 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 20:28:24,438 [INFO] - BEGIN (implicit)
2025-03-26 20:28:24,441 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:28:24,441 [INFO] - [generated in 0.00017s] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-26 20:28:24,442 [INFO] - ROLLBACK
2025-03-26 20:28:24,442 [ERROR] - POST /api/admin/teacher - Unauthorized access from IP: 127.0.0.1
2025-03-26 20:28:24,443 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:28:24] "[31m[1mPOST /api/admin/teacher HTTP/1.1[0m" 401 -
2025-03-26 20:28:24,447 [INFO] - BEGIN (implicit)
2025-03-26 20:28:24,448 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:28:24,448 [INFO] - [cached since 0.007061s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625', 1, 0)
2025-03-26 20:28:24,448 [INFO] - ROLLBACK
2025-03-26 20:28:24,448 [ERROR] - GET /api/admin/teachers - Unauthorized access from IP: 127.0.0.1
2025-03-26 20:28:24,448 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:28:24] "[31m[1mGET /api/admin/teachers HTTP/1.1[0m" 401 -
2025-03-26 20:28:38,575 [INFO] - BEGIN (implicit)
2025-03-26 20:28:38,577 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:28:38,577 [INFO] - [cached since 14.14s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:28:38,588 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:28:38,589 [ERROR] - POST /api/admin/teacher - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-26 20:28:38,589 [INFO] - ROLLBACK
2025-03-26 20:28:38,589 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 179, in post
    args = self.one_teacher_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/authorization_admin_decorator.py", line 64, in wrapped_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 268, in post
    abort(500, description=f"Ошибка при создании учителя: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-26 20:28:38,611 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:28:38] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-26 20:28:38,613 [INFO] - BEGIN (implicit)
2025-03-26 20:28:38,613 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:28:38,614 [INFO] - [cached since 14.17s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:28:38,614 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:28:38,614 [INFO] - BEGIN (implicit)
2025-03-26 20:28:38,618 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:28:38,618 [INFO] - [generated in 0.00010s] ()
2025-03-26 20:28:38,738 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-26 20:28:38,738 [INFO] - ROLLBACK
2025-03-26 20:28:38,738 [INFO] - ROLLBACK
2025-03-26 20:28:38,740 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:28:38] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-26 20:29:45,337 [INFO] - BEGIN (implicit)
2025-03-26 20:29:45,338 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:29:45,338 [INFO] - [cached since 80.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:29:45,341 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:29:45,341 [ERROR] - POST /api/admin/teacher - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-26 20:29:45,342 [INFO] - ROLLBACK
2025-03-26 20:29:45,342 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 179, in post
    args = self.one_teacher_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/authorization_admin_decorator.py", line 64, in wrapped_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 268, in post
    abort(500, description=f"Ошибка при создании учителя: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-26 20:29:45,343 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:29:45] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-26 20:29:45,345 [INFO] - BEGIN (implicit)
2025-03-26 20:29:45,345 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:29:45,345 [INFO] - [cached since 80.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:29:45,345 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:29:45,346 [INFO] - BEGIN (implicit)
2025-03-26 20:29:45,346 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:29:45,346 [INFO] - [cached since 66.73s ago] ()
2025-03-26 20:29:45,363 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-26 20:29:45,363 [INFO] - ROLLBACK
2025-03-26 20:29:45,363 [INFO] - ROLLBACK
2025-03-26 20:29:45,365 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:29:45] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-26 20:30:01,216 [INFO] - BEGIN (implicit)
2025-03-26 20:30:01,217 [INFO] - PRAGMA main.table_info("users")
2025-03-26 20:30:01,217 [INFO] - [raw sql] ()
2025-03-26 20:30:01,218 [INFO] - PRAGMA main.table_info("students")
2025-03-26 20:30:01,218 [INFO] - [raw sql] ()
2025-03-26 20:30:01,218 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 20:30:01,218 [INFO] - [raw sql] ()
2025-03-26 20:30:01,218 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 20:30:01,218 [INFO] - [raw sql] ()
2025-03-26 20:30:01,218 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 20:30:01,218 [INFO] - [raw sql] ()
2025-03-26 20:30:01,218 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 20:30:01,218 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 20:30:01,219 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 20:30:01,219 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 20:30:01,219 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 20:30:01,219 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 20:30:01,219 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 20:30:01,219 [INFO] - [raw sql] ()
2025-03-26 20:30:01,219 [INFO] - COMMIT
2025-03-26 20:30:01,272 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 20:30:01,273 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 20:30:30,353 [INFO] - BEGIN (implicit)
2025-03-26 20:30:30,356 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:30:30,356 [INFO] - [generated in 0.00017s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:30:30,380 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:30:30,381 [ERROR] - POST /api/admin/teacher - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-26 20:30:30,381 [INFO] - ROLLBACK
2025-03-26 20:30:30,381 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 179, in post
    args = self.one_teacher_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/authorization_admin_decorator.py", line 64, in wrapped_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 268, in post
    abort(500, description=f"Ошибка при создании учителя: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-26 20:30:30,410 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:30:30] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-26 20:30:30,412 [INFO] - BEGIN (implicit)
2025-03-26 20:30:30,412 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:30:30,412 [INFO] - [cached since 0.0567s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:30:30,413 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:30:30,413 [INFO] - BEGIN (implicit)
2025-03-26 20:30:30,415 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:30:30,416 [INFO] - [generated in 0.00008s] ()
2025-03-26 20:30:30,503 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-26 20:30:30,503 [INFO] - ROLLBACK
2025-03-26 20:30:30,503 [INFO] - ROLLBACK
2025-03-26 20:30:30,505 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:30:30] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-26 20:31:08,946 [INFO] - BEGIN (implicit)
2025-03-26 20:31:08,948 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:31:08,948 [INFO] - [cached since 38.59s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:31:08,950 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:31:08,951 [ERROR] - POST /api/admin/teacher - Error: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-03-26 20:31:08,951 [INFO] - ROLLBACK
2025-03-26 20:31:08,951 [ERROR] - Exception on /api/admin/teacher [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 179, in post
    args = self.one_teacher_post.parse_args()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 328, in parse_args
    value, found = arg.parse(req, self.bundle_errors)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 246, in parse
    self.handle_validation_error(ValueError(error_msg), bundle_errors)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/reqparse.py", line 173, in handle_validation_error
    flask_restful.abort(400, message=msg)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/authorization_admin_decorator.py", line 64, in wrapped_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/api/admin_teachers_api.py", line 268, in post
    abort(500, description=f"Ошибка при создании учителя: {str(e)}")
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 32, in abort
    original_flask_abort(http_status_code)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/helpers.py", line 284, in abort
    current_app.aborter(code, *args, **kwargs)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/werkzeug/exceptions.py", line 876, in __call__
    raise self.mapping[code](*args, **kwargs)
werkzeug.exceptions.InternalServerError: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-03-26 20:31:08,952 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:31:08] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 500 -
2025-03-26 20:31:08,954 [INFO] - BEGIN (implicit)
2025-03-26 20:31:08,954 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:31:08,954 [INFO] - [cached since 38.6s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:31:08,954 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:31:08,955 [INFO] - BEGIN (implicit)
2025-03-26 20:31:08,955 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:31:08,955 [INFO] - [cached since 38.54s ago] ()
2025-03-26 20:31:08,966 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-26 20:31:08,966 [INFO] - ROLLBACK
2025-03-26 20:31:08,966 [INFO] - ROLLBACK
2025-03-26 20:31:08,968 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:31:08] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-26 20:33:59,258 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,259 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,259 [INFO] - [cached since 208.9s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:33:59,260 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:33:59,261 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,261 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,261 [INFO] - [generated in 0.00009s] (2, 1, 0)
2025-03-26 20:33:59,263 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,263 [INFO] - [generated in 0.00007s] ('test_teacher', 'jane.smith@example.com', 1, 0)
2025-03-26 20:33:59,265 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-26 20:33:59,265 [INFO] - [generated in 0.00005s] ()
2025-03-26 20:33:59,341 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 20:33:59,341 [INFO] - [generated in 0.00015s] ('test_teacher', 'scrypt:32768:8:1$fJNKq5on3RPFgZFB$b57c63c419829604a3a7c596e26c31d03916d113d03ca4962c63fe523ef8a28b841bc7957a14af88dda06aae08efbfa53ff22b51415b4617354e37e99a839f55', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 20:33:59,379 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-26 20:33:59,379 [INFO] - [generated in 0.00011s] (71, 4015)
2025-03-26 20:33:59,380 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-26 20:33:59,381 [INFO] - [generated in 0.00008s] (4015, 2, None, None)
2025-03-26 20:33:59,382 [INFO] - COMMIT
2025-03-26 20:33:59,429 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,430 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 20:33:59,430 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 20:33:59,430 [INFO] - POST /api/admin/teacher - Teacher 4015 created by user test_teacher
2025-03-26 20:33:59,430 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:33:59,430 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 20:33:59,431 [INFO] - ROLLBACK
2025-03-26 20:33:59,431 [INFO] - ROLLBACK
2025-03-26 20:33:59,432 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:33:59] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-26 20:33:59,434 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,434 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,434 [INFO] - [cached since 209.1s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:33:59,434 [INFO] - GET /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:33:59,435 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,438 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:33:59,438 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-26 20:33:59,460 [INFO] - GET /api/admin/teacher/4015 - Retrieved by user user2
2025-03-26 20:33:59,460 [INFO] - ROLLBACK
2025-03-26 20:33:59,460 [INFO] - ROLLBACK
2025-03-26 20:33:59,460 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:33:59] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:33:59,462 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,463 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,463 [INFO] - [cached since 209.1s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:33:59,472 [INFO] - PATCH /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:33:59,472 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,473 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:33:59,473 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-26 20:33:59,475 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 20:33:59,475 [INFO] - [generated in 0.00009s] ('Janet', 71)
2025-03-26 20:33:59,476 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,476 [INFO] - [generated in 0.00009s] ('janet.smith@example.com', 71, 1, 0)
2025-03-26 20:33:59,476 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 20:33:59,476 [INFO] - [generated in 0.00009s] ('janet.smith@example.com', 71)
2025-03-26 20:33:59,477 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,477 [INFO] - [cached since 0.2154s ago] (1, 1, 0)
2025-03-26 20:33:59,478 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,478 [INFO] - [generated in 0.00009s] (4015, 1, 1, 0)
2025-03-26 20:33:59,479 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,479 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-26 20:33:59,479 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,479 [INFO] - [cached since 0.0006403s ago] (1, 1, 0)
2025-03-26 20:33:59,480 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-26 20:33:59,480 [INFO] - [cached since 0.0992s ago] (4015, 1, 1, 2)
2025-03-26 20:33:59,480 [INFO] - COMMIT
2025-03-26 20:33:59,549 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user2: {'first_name': 'Janet', 'email': 'janet.smith@example.com', 'position_id': 1, 'class_id': 1, 'subject_id': 2}
2025-03-26 20:33:59,550 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,552 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-26 20:33:59,552 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 20:33:59,552 [INFO] - ROLLBACK
2025-03-26 20:33:59,552 [INFO] - ROLLBACK
2025-03-26 20:33:59,553 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:33:59] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:33:59,554 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,555 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,555 [INFO] - [cached since 209.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:33:59,555 [INFO] - DELETE /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:33:59,555 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,556 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,556 [INFO] - [generated in 0.00007s] (4015, 1, 0)
2025-03-26 20:33:59,556 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-26 20:33:59,557 [INFO] - [generated in 0.00073s] (4015,)
2025-03-26 20:33:59,558 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 20:33:59,558 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 20:33:59,559 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 20:33:59,559 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 20:33:59,559 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-26 20:33:59,559 [INFO] - [generated in 0.00005s] (4015,)
2025-03-26 20:33:59,560 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-26 20:33:59,560 [INFO] - [generated in 0.00005s] (4015,)
2025-03-26 20:33:59,561 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-26 20:33:59,561 [INFO] - [generated in 0.00007s] (4015,)
2025-03-26 20:33:59,562 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-26 20:33:59,562 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 20:33:59,562 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 20:33:59,562 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 20:33:59,562 [INFO] - COMMIT
2025-03-26 20:33:59,568 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user2
2025-03-26 20:33:59,568 [INFO] - ROLLBACK
2025-03-26 20:33:59,569 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:33:59] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:33:59,570 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,570 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:33:59,570 [INFO] - [cached since 209.2s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:33:59,570 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:33:59,571 [INFO] - BEGIN (implicit)
2025-03-26 20:33:59,571 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:33:59,571 [INFO] - [cached since 209.2s ago] ()
2025-03-26 20:33:59,763 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-26 20:33:59,763 [INFO] - ROLLBACK
2025-03-26 20:33:59,763 [INFO] - ROLLBACK
2025-03-26 20:33:59,765 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:33:59] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-26 20:39:29,361 [INFO] - BEGIN (implicit)
2025-03-26 20:39:29,361 [INFO] - PRAGMA main.table_info("users")
2025-03-26 20:39:29,361 [INFO] - [raw sql] ()
2025-03-26 20:39:29,361 [INFO] - PRAGMA main.table_info("students")
2025-03-26 20:39:29,361 [INFO] - [raw sql] ()
2025-03-26 20:39:29,361 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 20:39:29,361 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 20:39:29,362 [INFO] - [raw sql] ()
2025-03-26 20:39:29,362 [INFO] - COMMIT
2025-03-26 20:39:29,373 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 20:39:29,373 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 20:39:31,904 [INFO] - BEGIN (implicit)
2025-03-26 20:39:31,905 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:31,905 [INFO] - [generated in 0.00010s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:39:31,932 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:39:31,933 [INFO] - BEGIN (implicit)
2025-03-26 20:39:31,934 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:31,934 [INFO] - [generated in 0.00009s] (2, 1, 0)
2025-03-26 20:39:31,934 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:31,934 [INFO] - [generated in 0.00007s] ('test_teacher', 'jane.smith@example.com', 1, 0)
2025-03-26 20:39:31,935 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-26 20:39:31,935 [INFO] - [generated in 0.00005s] ()
2025-03-26 20:39:32,022 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 20:39:32,022 [INFO] - [generated in 0.00016s] ('test_teacher', 'scrypt:32768:8:1$zhrXdepVvZT6pkqg$0b7b2b7065b9cbc1e0b56d34bd95c916fac60d46aea896529ec5ea895d2b5c211f492ee454f65708f7d83e6dee397cb6522c80037dd3aa458f85f18922370343', 'Jane', 'Smith', 'jane.smith@example.com', '+9876543210', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 20:39:32,045 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-26 20:39:32,045 [INFO] - [generated in 0.00011s] (71, 4015)
2025-03-26 20:39:32,046 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-26 20:39:32,046 [INFO] - [generated in 0.00006s] (4015, 2, None, None)
2025-03-26 20:39:32,046 [INFO] - COMMIT
2025-03-26 20:39:32,073 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,073 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 20:39:32,073 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 20:39:32,074 [INFO] - POST /api/admin/teacher - Teacher 4015 created by user test_teacher
2025-03-26 20:39:32,074 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:39:32,074 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 20:39:32,074 [INFO] - ROLLBACK
2025-03-26 20:39:32,074 [INFO] - ROLLBACK
2025-03-26 20:39:32,075 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:39:32] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-26 20:39:32,077 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,077 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,077 [INFO] - [cached since 0.172s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:39:32,077 [INFO] - GET /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:39:32,078 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,081 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON anon_1.teachers_teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:39:32,081 [INFO] - [generated in 0.00012s] (4015, 1, 0)
2025-03-26 20:39:32,082 [INFO] - GET /api/admin/teacher/4015 - Retrieved by user user2
2025-03-26 20:39:32,082 [INFO] - ROLLBACK
2025-03-26 20:39:32,082 [INFO] - ROLLBACK
2025-03-26 20:39:32,082 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:39:32] "GET /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:39:32,084 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,084 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,084 [INFO] - [cached since 0.1791s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:39:32,084 [INFO] - PATCH /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:39:32,084 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,086 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:39:32,086 [INFO] - [generated in 0.00009s] (4015, 1, 0)
2025-03-26 20:39:32,087 [INFO] - UPDATE users SET first_name=? WHERE users.user_id = ?
2025-03-26 20:39:32,087 [INFO] - [generated in 0.00006s] ('Janet', 71)
2025-03-26 20:39:32,088 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,088 [INFO] - [generated in 0.00007s] ('janet.smith@example.com', 71, 1, 0)
2025-03-26 20:39:32,089 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 20:39:32,089 [INFO] - [generated in 0.00008s] ('janet.smith@example.com', 71)
2025-03-26 20:39:32,089 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,089 [INFO] - [cached since 0.1558s ago] (1, 1, 0)
2025-03-26 20:39:32,090 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,090 [INFO] - [generated in 0.00022s] (4015, 1, 1, 0)
2025-03-26 20:39:32,091 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,091 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-26 20:39:32,091 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,091 [INFO] - [cached since 0.0003069s ago] (1, 1, 0)
2025-03-26 20:39:32,091 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-26 20:39:32,091 [INFO] - [cached since 0.04543s ago] (4015, 1, 1, 2)
2025-03-26 20:39:32,091 [INFO] - COMMIT
2025-03-26 20:39:32,154 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user2: {'first_name': 'Janet', 'email': 'janet.smith@example.com', 'position_id': 1, 'class_id': 1, 'subject_id': 2}
2025-03-26 20:39:32,154 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,156 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-26 20:39:32,156 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 20:39:32,156 [INFO] - ROLLBACK
2025-03-26 20:39:32,156 [INFO] - ROLLBACK
2025-03-26 20:39:32,157 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:39:32] "PATCH /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:39:32,158 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,159 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,159 [INFO] - [cached since 0.2535s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:39:32,159 [INFO] - DELETE /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:39:32,159 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,160 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,160 [INFO] - [generated in 0.00008s] (4015, 1, 0)
2025-03-26 20:39:32,161 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-26 20:39:32,161 [INFO] - [generated in 0.00006s] (4015,)
2025-03-26 20:39:32,162 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 20:39:32,162 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 20:39:32,163 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 20:39:32,163 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 20:39:32,164 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-26 20:39:32,164 [INFO] - [generated in 0.00007s] (4015,)
2025-03-26 20:39:32,165 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-26 20:39:32,165 [INFO] - [generated in 0.00015s] (4015,)
2025-03-26 20:39:32,166 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-26 20:39:32,166 [INFO] - [generated in 0.00019s] (4015,)
2025-03-26 20:39:32,167 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-26 20:39:32,167 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 20:39:32,167 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 20:39:32,167 [INFO] - [generated in 0.00005s] (71,)
2025-03-26 20:39:32,168 [INFO] - COMMIT
2025-03-26 20:39:32,174 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user2
2025-03-26 20:39:32,174 [INFO] - ROLLBACK
2025-03-26 20:39:32,174 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:39:32] "DELETE /api/admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:39:32,176 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,176 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-26 20:39:32,176 [INFO] - [cached since 0.2713s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-26 20:39:32,177 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user2 (via API key)
2025-03-26 20:39:32,177 [INFO] - BEGIN (implicit)
2025-03-26 20:39:32,179 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:39:32,179 [INFO] - [generated in 0.00008s] ()
2025-03-26 20:39:32,326 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user2
2025-03-26 20:39:32,326 [INFO] - ROLLBACK
2025-03-26 20:39:32,326 [INFO] - ROLLBACK
2025-03-26 20:39:32,328 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:39:32] "GET /api/admin/teachers HTTP/1.1" 200 -
2025-03-26 20:50:38,399 [INFO] - BEGIN (implicit)
2025-03-26 20:50:38,399 [INFO] - PRAGMA main.table_info("users")
2025-03-26 20:50:38,399 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("students")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,401 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 20:50:38,401 [INFO] - [raw sql] ()
2025-03-26 20:50:38,402 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 20:50:38,402 [INFO] - [raw sql] ()
2025-03-26 20:50:38,402 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 20:50:38,402 [INFO] - [raw sql] ()
2025-03-26 20:50:38,402 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 20:50:38,402 [INFO] - [raw sql] ()
2025-03-26 20:50:38,402 [INFO] - COMMIT
2025-03-26 20:50:38,414 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 20:50:38,414 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 20:50:43,692 [INFO] - BEGIN (implicit)
2025-03-26 20:50:43,694 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:50:43,694 [INFO] - [generated in 0.00016s] (1,)
2025-03-26 20:50:43,697 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:50:43,698 [INFO] - BEGIN (implicit)
2025-03-26 20:50:43,699 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:50:43,699 [INFO] - [generated in 0.00010s] ('user1', 1, 0)
2025-03-26 20:50:43,701 [INFO] - ROLLBACK
2025-03-26 20:50:43,702 [INFO] - BEGIN (implicit)
2025-03-26 20:50:43,704 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 20:50:43,704 [INFO] - [generated in 0.00007s] ()
2025-03-26 20:50:44,038 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 20:50:44,038 [INFO] - ROLLBACK
2025-03-26 20:50:44,060 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:44] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 20:50:44,144 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:50:45,041 [INFO] - BEGIN (implicit)
2025-03-26 20:50:45,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:50:45,042 [INFO] - [cached since 1.348s ago] (1,)
2025-03-26 20:50:45,042 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:50:45,044 [INFO] - BEGIN (implicit)
2025-03-26 20:50:45,044 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:50:45,044 [INFO] - [cached since 1.346s ago] ('user1', 1, 0)
2025-03-26 20:50:45,048 [INFO] - ROLLBACK
2025-03-26 20:50:45,049 [INFO] - BEGIN (implicit)
2025-03-26 20:50:45,057 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:50:45,057 [INFO] - [generated in 0.00022s] ()
2025-03-26 20:50:45,129 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-26 20:50:45,129 [INFO] - ROLLBACK
2025-03-26 20:50:45,137 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:45] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 20:50:45,183 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:50:50,831 [INFO] - BEGIN (implicit)
2025-03-26 20:50:50,833 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:50:50,833 [INFO] - [cached since 7.139s ago] (1,)
2025-03-26 20:50:50,834 [INFO] - BEGIN (implicit)
2025-03-26 20:50:50,835 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:50:50,835 [INFO] - [generated in 0.00015s] ()
2025-03-26 20:50:50,837 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 20:50:50,838 [INFO] - [generated in 0.00041s] ()
2025-03-26 20:50:50,842 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 20:50:50,842 [INFO] - [generated in 0.00019s] ()
2025-03-26 20:50:50,843 [INFO] - ROLLBACK
2025-03-26 20:50:50,875 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:50] "GET /admin/teacher/new HTTP/1.1" 200 -
2025-03-26 20:50:50,923 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:50:59,006 [INFO] - BEGIN (implicit)
2025-03-26 20:50:59,010 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:50:59,010 [INFO] - [cached since 15.32s ago] (1,)
2025-03-26 20:50:59,015 [INFO] - BEGIN (implicit)
2025-03-26 20:50:59,021 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:50:59,021 [INFO] - [generated in 0.00030s] (2000, 1, 0)
2025-03-26 20:50:59,024 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:50:59,024 [INFO] - [cached since 8.189s ago] ()
2025-03-26 20:50:59,024 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 20:50:59,024 [INFO] - [cached since 8.187s ago] ()
2025-03-26 20:50:59,024 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 20:50:59,024 [INFO] - [cached since 8.182s ago] ()
2025-03-26 20:50:59,065 [INFO] - ROLLBACK
2025-03-26 20:50:59,065 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:59] "GET /admin/teacher/2000 HTTP/1.1" 200 -
2025-03-26 20:50:59,096 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:50:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:51:03,564 [INFO] - BEGIN (implicit)
2025-03-26 20:51:03,564 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:03,564 [INFO] - [cached since 19.87s ago] (1,)
2025-03-26 20:51:03,565 [INFO] - BEGIN (implicit)
2025-03-26 20:51:03,566 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:51:03,566 [INFO] - [cached since 12.73s ago] ()
2025-03-26 20:51:03,567 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 20:51:03,567 [INFO] - [cached since 12.73s ago] ()
2025-03-26 20:51:03,568 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 20:51:03,568 [INFO] - [cached since 12.73s ago] ()
2025-03-26 20:51:03,569 [INFO] - ROLLBACK
2025-03-26 20:51:03,570 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:03] "GET /admin/teacher/new HTTP/1.1" 200 -
2025-03-26 20:51:03,610 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:51:35,973 [INFO] - BEGIN (implicit)
2025-03-26 20:51:35,974 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:35,975 [INFO] - [cached since 52.28s ago] (1,)
2025-03-26 20:51:35,976 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:51:35,977 [INFO] - BEGIN (implicit)
2025-03-26 20:51:35,978 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:35,978 [INFO] - [cached since 52.28s ago] ('user1', 1, 0)
2025-03-26 20:51:35,980 [INFO] - ROLLBACK
2025-03-26 20:51:35,983 [INFO] - BEGIN (implicit)
2025-03-26 20:51:35,984 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:35,984 [INFO] - [generated in 0.00018s] (2, 1, 0)
2025-03-26 20:51:35,987 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:35,988 [INFO] - [generated in 0.00018s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 20:51:35,989 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-26 20:51:35,989 [INFO] - [generated in 0.00012s] ()
2025-03-26 20:51:36,348 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 20:51:36,348 [INFO] - [generated in 0.00017s] ('user71', 'scrypt:32768:8:1$nZntAZIyJYQqGOBv$8f9f79298de7c2dff12e462eeb9ce8ab7a518f1c0f68af405ff720773d89a41cb3ab1cba12b8a0ebaa8a097cee78b82c5a9dfbb68d409f96d723ac0522516a09', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 20:51:36,362 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-26 20:51:36,362 [INFO] - [generated in 0.00010s] (71, 4015)
2025-03-26 20:51:36,363 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-26 20:51:36,363 [INFO] - [generated in 0.00007s] (4015, 2, None, 11)
2025-03-26 20:51:36,364 [INFO] - COMMIT
2025-03-26 20:51:36,501 [INFO] - BEGIN (implicit)
2025-03-26 20:51:36,501 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 20:51:36,501 [INFO] - [generated in 0.00008s] (71,)
2025-03-26 20:51:36,502 [INFO] - POST /api/admin/teacher - Teacher 4015 created by user user71
2025-03-26 20:51:36,502 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:36,502 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 20:51:36,502 [INFO] - ROLLBACK
2025-03-26 20:51:36,503 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:36] "[35m[1mPOST /api/admin/teacher HTTP/1.1[0m" 201 -
2025-03-26 20:51:38,249 [INFO] - BEGIN (implicit)
2025-03-26 20:51:38,249 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:38,250 [INFO] - [cached since 54.55s ago] (1,)
2025-03-26 20:51:38,250 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:51:38,251 [INFO] - BEGIN (implicit)
2025-03-26 20:51:38,251 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:38,251 [INFO] - [cached since 54.55s ago] ('user1', 1, 0)
2025-03-26 20:51:38,252 [INFO] - ROLLBACK
2025-03-26 20:51:38,252 [INFO] - BEGIN (implicit)
2025-03-26 20:51:38,253 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:51:38,253 [INFO] - [cached since 53.2s ago] ()
2025-03-26 20:51:38,268 [INFO] - GET /api/admin/teachers - Retrieved 19 teachers by user1
2025-03-26 20:51:38,268 [INFO] - ROLLBACK
2025-03-26 20:51:38,271 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:38] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 20:51:38,305 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:51:40,721 [INFO] - BEGIN (implicit)
2025-03-26 20:51:40,722 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:40,722 [INFO] - [cached since 57.03s ago] (1,)
2025-03-26 20:51:40,723 [INFO] - BEGIN (implicit)
2025-03-26 20:51:40,723 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:51:40,723 [INFO] - [cached since 41.7s ago] (4015, 1, 0)
2025-03-26 20:51:40,726 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 20:51:40,726 [INFO] - [cached since 49.89s ago] ()
2025-03-26 20:51:40,727 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 20:51:40,727 [INFO] - [cached since 49.89s ago] ()
2025-03-26 20:51:40,727 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 20:51:40,727 [INFO] - [cached since 49.88s ago] ()
2025-03-26 20:51:40,728 [INFO] - ROLLBACK
2025-03-26 20:51:40,729 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:40] "GET /admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 20:51:40,780 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 20:51:43,660 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,662 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:43,662 [INFO] - [cached since 59.97s ago] (1,)
2025-03-26 20:51:43,664 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,665 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:43,665 [INFO] - [generated in 0.00046s] (4015, 1, 0)
2025-03-26 20:51:43,666 [INFO] - DELETE /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:51:43,667 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,667 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:43,667 [INFO] - [cached since 59.97s ago] ('user1', 1, 0)
2025-03-26 20:51:43,671 [INFO] - ROLLBACK
2025-03-26 20:51:43,672 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,674 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:43,674 [INFO] - [generated in 0.00021s] (4015, 1, 0)
2025-03-26 20:51:43,676 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-26 20:51:43,676 [INFO] - [generated in 0.00014s] (4015,)
2025-03-26 20:51:43,682 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 20:51:43,682 [INFO] - [generated in 0.00027s] (71,)
2025-03-26 20:51:43,684 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 20:51:43,684 [INFO] - [generated in 0.00025s] (71,)
2025-03-26 20:51:43,685 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-26 20:51:43,685 [INFO] - [generated in 0.00011s] (4015,)
2025-03-26 20:51:43,686 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-26 20:51:43,686 [INFO] - [generated in 0.00007s] (4015,)
2025-03-26 20:51:43,686 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-26 20:51:43,686 [INFO] - [generated in 0.00006s] (4015,)
2025-03-26 20:51:43,688 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-26 20:51:43,688 [INFO] - [generated in 0.00011s] (71,)
2025-03-26 20:51:43,688 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 20:51:43,688 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 20:51:43,689 [INFO] - COMMIT
2025-03-26 20:51:43,696 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user1
2025-03-26 20:51:43,696 [INFO] - ROLLBACK
2025-03-26 20:51:43,696 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:43] "POST /admin/teacher/4015/delete HTTP/1.1" 200 -
2025-03-26 20:51:43,703 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,703 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 20:51:43,703 [INFO] - [cached since 60.01s ago] (1,)
2025-03-26 20:51:43,703 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 20:51:43,703 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,704 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 20:51:43,704 [INFO] - [cached since 60s ago] ('user1', 1, 0)
2025-03-26 20:51:43,704 [INFO] - ROLLBACK
2025-03-26 20:51:43,704 [INFO] - BEGIN (implicit)
2025-03-26 20:51:43,705 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 20:51:43,705 [INFO] - [cached since 58.65s ago] ()
2025-03-26 20:51:43,710 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-26 20:51:43,710 [INFO] - ROLLBACK
2025-03-26 20:51:43,712 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:43] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 20:51:43,740 [INFO] - 127.0.0.1 - - [26/Mar/2025 20:51:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:07:53,918 [INFO] - BEGIN (implicit)
2025-03-26 21:07:53,918 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:07:53,918 [INFO] - [raw sql] ()
2025-03-26 21:07:53,919 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:07:53,919 [INFO] - [raw sql] ()
2025-03-26 21:07:53,919 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:07:53,919 [INFO] - [raw sql] ()
2025-03-26 21:07:53,919 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:07:53,919 [INFO] - [raw sql] ()
2025-03-26 21:07:53,919 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:07:53,919 [INFO] - [raw sql] ()
2025-03-26 21:07:53,919 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:07:53,919 [INFO] - [raw sql] ()
2025-03-26 21:07:53,919 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:07:53,920 [INFO] - [raw sql] ()
2025-03-26 21:07:53,920 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:07:53,920 [INFO] - [raw sql] ()
2025-03-26 21:07:53,920 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:07:53,920 [INFO] - [raw sql] ()
2025-03-26 21:07:53,920 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:07:53,920 [INFO] - [raw sql] ()
2025-03-26 21:07:53,920 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:07:53,920 [INFO] - [raw sql] ()
2025-03-26 21:07:53,920 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:07:53,920 [INFO] - [raw sql] ()
2025-03-26 21:07:53,920 [INFO] - COMMIT
2025-03-26 21:07:53,938 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:07:53,938 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:07:58,484 [INFO] - BEGIN (implicit)
2025-03-26 21:07:58,486 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:07:58,486 [INFO] - [generated in 0.00014s] (1,)
2025-03-26 21:07:58,487 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:07:58,487 [INFO] - BEGIN (implicit)
2025-03-26 21:07:58,488 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:07:58,488 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-26 21:07:58,488 [INFO] - ROLLBACK
2025-03-26 21:07:58,488 [INFO] - BEGIN (implicit)
2025-03-26 21:07:58,490 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:07:58,490 [INFO] - [generated in 0.00007s] ()
2025-03-26 21:07:58,686 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:07:58,686 [INFO] - ROLLBACK
2025-03-26 21:07:58,712 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:07:58] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:07:58,819 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:07:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:08:07,146 [INFO] - BEGIN (implicit)
2025-03-26 21:08:07,147 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:08:07,147 [INFO] - [cached since 8.662s ago] (1,)
2025-03-26 21:08:07,150 [INFO] - BEGIN (implicit)
2025-03-26 21:08:07,151 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:08:07,151 [INFO] - [generated in 0.00013s] ()
2025-03-26 21:08:07,195 [INFO] - ROLLBACK
2025-03-26 21:08:07,195 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:08:07] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:08:07,235 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:08:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:08:34,090 [INFO] - BEGIN (implicit)
2025-03-26 21:08:34,095 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:08:34,096 [INFO] - [cached since 35.61s ago] (1,)
2025-03-26 21:08:34,133 [INFO] - BEGIN (implicit)
2025-03-26 21:08:34,133 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:08:34,133 [INFO] - [cached since 26.98s ago] ()
2025-03-26 21:08:34,136 [INFO] - ROLLBACK
2025-03-26 21:08:34,137 [ERROR] - Exception on /admin/student/new [POST]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/wtforms/validators.py", line 401, in __call__
    import email_validator
ModuleNotFoundError: No module named 'email_validator'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/login_decorator.py", line 15, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 119, in new_student
    if form.validate_on_submit():
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_wtf/form.py", line 86, in validate_on_submit
    return self.is_submitted() and self.validate(extra_validators=extra_validators)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/wtforms/form.py", line 330, in validate
    return super().validate(extra)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/wtforms/form.py", line 147, in validate
    if not field.validate(self, extra):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/wtforms/fields/core.py", line 234, in validate
    stop_validation = self._run_validation_chain(form, chain)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/wtforms/fields/core.py", line 254, in _run_validation_chain
    validator(form, self)
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/wtforms/validators.py", line 403, in __call__
    raise Exception(
Exception: Install 'email_validator' for email validation support.
2025-03-26 21:08:34,176 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:08:34] "[35m[1mPOST /admin/student/new HTTP/1.1[0m" 500 -
2025-03-26 21:11:01,237 [INFO] - BEGIN (implicit)
2025-03-26 21:11:01,249 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:11:01,249 [INFO] - [raw sql] ()
2025-03-26 21:11:01,250 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:11:01,250 [INFO] - [raw sql] ()
2025-03-26 21:11:01,250 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:11:01,250 [INFO] - [raw sql] ()
2025-03-26 21:11:01,250 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:11:01,250 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:11:01,251 [INFO] - [raw sql] ()
2025-03-26 21:11:01,251 [INFO] - COMMIT
2025-03-26 21:11:01,261 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:11:01,261 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:11:05,563 [INFO] - BEGIN (implicit)
2025-03-26 21:11:05,566 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:05,566 [INFO] - [generated in 0.00028s] (1,)
2025-03-26 21:11:05,569 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:05,569 [INFO] - BEGIN (implicit)
2025-03-26 21:11:05,570 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:05,570 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 21:11:05,576 [INFO] - ROLLBACK
2025-03-26 21:11:05,576 [INFO] - BEGIN (implicit)
2025-03-26 21:11:05,578 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:11:05,578 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:11:05,898 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:11:05,898 [INFO] - ROLLBACK
2025-03-26 21:11:05,946 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:05] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:11:05,996 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:10,476 [INFO] - BEGIN (implicit)
2025-03-26 21:11:10,476 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:10,476 [INFO] - [cached since 4.911s ago] (1,)
2025-03-26 21:11:10,479 [INFO] - BEGIN (implicit)
2025-03-26 21:11:10,480 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:11:10,480 [INFO] - [generated in 0.00038s] ()
2025-03-26 21:11:10,529 [INFO] - ROLLBACK
2025-03-26 21:11:10,529 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:10] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:11:10,570 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:29,265 [INFO] - BEGIN (implicit)
2025-03-26 21:11:29,267 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:29,267 [INFO] - [cached since 23.7s ago] (1,)
2025-03-26 21:11:29,269 [INFO] - BEGIN (implicit)
2025-03-26 21:11:29,270 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:11:29,270 [INFO] - [cached since 18.79s ago] ()
2025-03-26 21:11:29,367 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:29,367 [INFO] - BEGIN (implicit)
2025-03-26 21:11:29,368 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:29,368 [INFO] - [cached since 23.8s ago] ('user1', 1, 0)
2025-03-26 21:11:29,368 [INFO] - ROLLBACK
2025-03-26 21:11:29,369 [INFO] - ROLLBACK
2025-03-26 21:11:29,369 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:29] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:11:29,404 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:45,153 [INFO] - BEGIN (implicit)
2025-03-26 21:11:45,155 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:45,155 [INFO] - [cached since 39.59s ago] (1,)
2025-03-26 21:11:45,158 [INFO] - BEGIN (implicit)
2025-03-26 21:11:45,158 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:11:45,158 [INFO] - [cached since 34.68s ago] ()
2025-03-26 21:11:45,160 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:45,161 [INFO] - BEGIN (implicit)
2025-03-26 21:11:45,161 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:45,161 [INFO] - [cached since 39.59s ago] ('user1', 1, 0)
2025-03-26 21:11:45,216 [INFO] - ROLLBACK
2025-03-26 21:11:45,217 [INFO] - ROLLBACK
2025-03-26 21:11:45,218 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:45] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:11:45,252 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:47,139 [INFO] - BEGIN (implicit)
2025-03-26 21:11:47,140 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:47,140 [INFO] - [cached since 41.57s ago] (1,)
2025-03-26 21:11:47,141 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:47,141 [INFO] - BEGIN (implicit)
2025-03-26 21:11:47,141 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:47,142 [INFO] - [cached since 41.57s ago] ('user1', 1, 0)
2025-03-26 21:11:47,142 [INFO] - ROLLBACK
2025-03-26 21:11:47,143 [INFO] - BEGIN (implicit)
2025-03-26 21:11:47,143 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:11:47,143 [INFO] - [cached since 41.56s ago] ()
2025-03-26 21:11:47,320 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:11:47,320 [INFO] - ROLLBACK
2025-03-26 21:11:47,324 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:47] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:11:47,376 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:57,027 [INFO] - BEGIN (implicit)
2025-03-26 21:11:57,029 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:57,029 [INFO] - [cached since 51.46s ago] (1,)
2025-03-26 21:11:57,031 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:57,032 [INFO] - BEGIN (implicit)
2025-03-26 21:11:57,034 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:57,034 [INFO] - [cached since 51.46s ago] ('user1', 1, 0)
2025-03-26 21:11:57,035 [INFO] - ROLLBACK
2025-03-26 21:11:57,035 [INFO] - BEGIN (implicit)
2025-03-26 21:11:57,036 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:11:57,036 [INFO] - [cached since 51.46s ago] ()
2025-03-26 21:11:57,047 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:11:57,047 [INFO] - ROLLBACK
2025-03-26 21:11:57,053 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:57] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:11:57,084 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:59,229 [INFO] - BEGIN (implicit)
2025-03-26 21:11:59,229 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:59,230 [INFO] - [cached since 53.66s ago] (1,)
2025-03-26 21:11:59,230 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:59,231 [INFO] - BEGIN (implicit)
2025-03-26 21:11:59,231 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:59,233 [INFO] - [cached since 53.66s ago] ('user1', 1, 0)
2025-03-26 21:11:59,233 [INFO] - ROLLBACK
2025-03-26 21:11:59,234 [INFO] - BEGIN (implicit)
2025-03-26 21:11:59,234 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:11:59,234 [INFO] - [cached since 53.66s ago] ()
2025-03-26 21:11:59,239 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:11:59,239 [INFO] - ROLLBACK
2025-03-26 21:11:59,252 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:59] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:11:59,275 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:11:59,856 [INFO] - BEGIN (implicit)
2025-03-26 21:11:59,857 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:11:59,857 [INFO] - [cached since 54.29s ago] (1,)
2025-03-26 21:11:59,858 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:11:59,858 [INFO] - BEGIN (implicit)
2025-03-26 21:11:59,859 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:11:59,859 [INFO] - [cached since 54.29s ago] ('user1', 1, 0)
2025-03-26 21:11:59,860 [INFO] - ROLLBACK
2025-03-26 21:11:59,860 [INFO] - BEGIN (implicit)
2025-03-26 21:11:59,861 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:11:59,861 [INFO] - [cached since 54.28s ago] ()
2025-03-26 21:11:59,867 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:11:59,868 [INFO] - ROLLBACK
2025-03-26 21:11:59,877 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:59] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:11:59,910 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:11:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:00,652 [INFO] - BEGIN (implicit)
2025-03-26 21:12:00,653 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:00,654 [INFO] - [cached since 55.09s ago] (1,)
2025-03-26 21:12:00,654 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:00,655 [INFO] - BEGIN (implicit)
2025-03-26 21:12:00,656 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:00,656 [INFO] - [cached since 55.09s ago] ('user1', 1, 0)
2025-03-26 21:12:00,656 [INFO] - ROLLBACK
2025-03-26 21:12:00,657 [INFO] - BEGIN (implicit)
2025-03-26 21:12:00,657 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:12:00,657 [INFO] - [cached since 55.08s ago] ()
2025-03-26 21:12:00,661 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:12:00,661 [INFO] - ROLLBACK
2025-03-26 21:12:00,670 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:00] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:12:00,698 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:01,434 [INFO] - BEGIN (implicit)
2025-03-26 21:12:01,435 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:01,435 [INFO] - [cached since 55.87s ago] (1,)
2025-03-26 21:12:01,435 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:01,435 [INFO] - BEGIN (implicit)
2025-03-26 21:12:01,436 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:01,436 [INFO] - [cached since 55.87s ago] ('user1', 1, 0)
2025-03-26 21:12:01,436 [INFO] - ROLLBACK
2025-03-26 21:12:01,436 [INFO] - BEGIN (implicit)
2025-03-26 21:12:01,437 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:12:01,437 [INFO] - [cached since 55.86s ago] ()
2025-03-26 21:12:01,442 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:12:01,442 [INFO] - ROLLBACK
2025-03-26 21:12:01,451 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:01] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:12:01,486 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:01] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:02,169 [INFO] - BEGIN (implicit)
2025-03-26 21:12:02,170 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:02,170 [INFO] - [cached since 56.6s ago] (1,)
2025-03-26 21:12:02,171 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:02,172 [INFO] - BEGIN (implicit)
2025-03-26 21:12:02,172 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:02,172 [INFO] - [cached since 56.6s ago] ('user1', 1, 0)
2025-03-26 21:12:02,173 [INFO] - ROLLBACK
2025-03-26 21:12:02,174 [INFO] - BEGIN (implicit)
2025-03-26 21:12:02,174 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:12:02,174 [INFO] - [cached since 56.6s ago] ()
2025-03-26 21:12:02,180 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:12:02,180 [INFO] - ROLLBACK
2025-03-26 21:12:02,187 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:12:02,216 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:02,933 [INFO] - BEGIN (implicit)
2025-03-26 21:12:02,934 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:02,934 [INFO] - [cached since 57.37s ago] (1,)
2025-03-26 21:12:02,935 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:02,935 [INFO] - BEGIN (implicit)
2025-03-26 21:12:02,936 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:02,936 [INFO] - [cached since 57.37s ago] ('user1', 1, 0)
2025-03-26 21:12:02,936 [INFO] - ROLLBACK
2025-03-26 21:12:02,937 [INFO] - BEGIN (implicit)
2025-03-26 21:12:02,937 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:12:02,937 [INFO] - [cached since 57.36s ago] ()
2025-03-26 21:12:02,944 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:12:02,945 [INFO] - ROLLBACK
2025-03-26 21:12:02,957 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:02] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:12:02,989 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:03,729 [INFO] - BEGIN (implicit)
2025-03-26 21:12:03,730 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:03,730 [INFO] - [cached since 58.16s ago] (1,)
2025-03-26 21:12:03,731 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:03,732 [INFO] - BEGIN (implicit)
2025-03-26 21:12:03,732 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:03,732 [INFO] - [cached since 58.16s ago] ('user1', 1, 0)
2025-03-26 21:12:03,732 [INFO] - ROLLBACK
2025-03-26 21:12:03,733 [INFO] - BEGIN (implicit)
2025-03-26 21:12:03,733 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:12:03,734 [INFO] - [cached since 58.16s ago] ()
2025-03-26 21:12:03,739 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:12:03,739 [INFO] - ROLLBACK
2025-03-26 21:12:03,748 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:03] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:12:03,781 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:04,358 [INFO] - BEGIN (implicit)
2025-03-26 21:12:04,359 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:04,359 [INFO] - [cached since 58.79s ago] (1,)
2025-03-26 21:12:04,360 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:04,361 [INFO] - BEGIN (implicit)
2025-03-26 21:12:04,361 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:04,361 [INFO] - [cached since 58.79s ago] ('user1', 1, 0)
2025-03-26 21:12:04,361 [INFO] - ROLLBACK
2025-03-26 21:12:04,362 [INFO] - BEGIN (implicit)
2025-03-26 21:12:04,362 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:12:04,362 [INFO] - [cached since 58.78s ago] ()
2025-03-26 21:12:04,369 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:12:04,369 [INFO] - ROLLBACK
2025-03-26 21:12:04,379 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:04] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:12:04,412 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:18,335 [INFO] - BEGIN (implicit)
2025-03-26 21:12:18,337 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:18,337 [INFO] - [cached since 72.77s ago] (1,)
2025-03-26 21:12:18,339 [INFO] - BEGIN (implicit)
2025-03-26 21:12:18,340 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:12:18,340 [INFO] - [cached since 67.86s ago] ()
2025-03-26 21:12:18,341 [INFO] - ROLLBACK
2025-03-26 21:12:18,342 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:18] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:12:18,394 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:12:50,851 [INFO] - BEGIN (implicit)
2025-03-26 21:12:50,853 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:12:50,853 [INFO] - [cached since 105.3s ago] (1,)
2025-03-26 21:12:50,855 [INFO] - BEGIN (implicit)
2025-03-26 21:12:50,855 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:12:50,855 [INFO] - [cached since 100.4s ago] ()
2025-03-26 21:12:50,859 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:12:50,860 [INFO] - BEGIN (implicit)
2025-03-26 21:12:50,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:12:50,860 [INFO] - [cached since 105.3s ago] ('user1', 1, 0)
2025-03-26 21:12:50,867 [INFO] - ROLLBACK
2025-03-26 21:12:50,868 [INFO] - ROLLBACK
2025-03-26 21:12:50,868 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:50] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:12:50,905 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:12:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:13:07,280 [INFO] - BEGIN (implicit)
2025-03-26 21:13:07,280 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:13:07,281 [INFO] - [cached since 121.7s ago] (1,)
2025-03-26 21:13:07,283 [INFO] - BEGIN (implicit)
2025-03-26 21:13:07,283 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:13:07,283 [INFO] - [cached since 116.8s ago] ()
2025-03-26 21:13:07,284 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:13:07,285 [INFO] - BEGIN (implicit)
2025-03-26 21:13:07,286 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:13:07,286 [INFO] - [cached since 121.7s ago] ('user1', 1, 0)
2025-03-26 21:13:07,292 [INFO] - ROLLBACK
2025-03-26 21:13:07,293 [INFO] - ROLLBACK
2025-03-26 21:13:07,294 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:13:07] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:13:07,329 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:13:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:20:38,588 [INFO] - BEGIN (implicit)
2025-03-26 21:20:38,603 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:20:38,603 [INFO] - [raw sql] ()
2025-03-26 21:20:38,604 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:20:38,604 [INFO] - [raw sql] ()
2025-03-26 21:20:38,604 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:20:38,604 [INFO] - [raw sql] ()
2025-03-26 21:20:38,604 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:20:38,604 [INFO] - [raw sql] ()
2025-03-26 21:20:38,604 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:20:38,604 [INFO] - [raw sql] ()
2025-03-26 21:20:38,604 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:20:38,604 [INFO] - [raw sql] ()
2025-03-26 21:20:38,604 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:20:38,604 [INFO] - [raw sql] ()
2025-03-26 21:20:38,605 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:20:38,605 [INFO] - [raw sql] ()
2025-03-26 21:20:38,605 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:20:38,605 [INFO] - [raw sql] ()
2025-03-26 21:20:38,605 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:20:38,605 [INFO] - [raw sql] ()
2025-03-26 21:20:38,605 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:20:38,605 [INFO] - [raw sql] ()
2025-03-26 21:20:38,605 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:20:38,605 [INFO] - [raw sql] ()
2025-03-26 21:20:38,605 [INFO] - COMMIT
2025-03-26 21:20:38,616 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:20:38,616 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:20:47,753 [INFO] - BEGIN (implicit)
2025-03-26 21:20:47,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:20:47,756 [INFO] - [generated in 0.00017s] (1,)
2025-03-26 21:20:47,797 [INFO] - BEGIN (implicit)
2025-03-26 21:20:47,798 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:20:47,798 [INFO] - [generated in 0.00014s] ()
2025-03-26 21:20:47,862 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:20:47,863 [INFO] - BEGIN (implicit)
2025-03-26 21:20:47,864 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:20:47,864 [INFO] - [generated in 0.00012s] ('user1', 1, 0)
2025-03-26 21:20:47,865 [INFO] - ROLLBACK
2025-03-26 21:20:47,895 [INFO] - ROLLBACK
2025-03-26 21:20:47,895 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:20:47] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:20:47,974 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:20:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:21:41,692 [INFO] - BEGIN (implicit)
2025-03-26 21:21:41,694 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:21:41,695 [INFO] - [cached since 53.94s ago] (1,)
2025-03-26 21:21:41,989 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:21:41,990 [INFO] - BEGIN (implicit)
2025-03-26 21:21:41,990 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:21:41,990 [INFO] - [cached since 54.13s ago] ('user1', 1, 0)
2025-03-26 21:21:41,991 [INFO] - ROLLBACK
2025-03-26 21:21:41,992 [INFO] - BEGIN (implicit)
2025-03-26 21:21:41,995 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:21:41,995 [INFO] - [generated in 0.00010s] ()
2025-03-26 21:21:42,295 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 21:21:42,295 [INFO] - ROLLBACK
2025-03-26 21:21:42,336 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:21:42] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:21:42,386 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:21:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:21:44,985 [INFO] - BEGIN (implicit)
2025-03-26 21:21:44,985 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:21:44,986 [INFO] - [cached since 57.23s ago] (1,)
2025-03-26 21:21:44,986 [INFO] - BEGIN (implicit)
2025-03-26 21:21:44,986 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:21:44,986 [INFO] - [cached since 57.19s ago] ()
2025-03-26 21:21:44,988 [INFO] - ROLLBACK
2025-03-26 21:21:44,988 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:21:44] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:21:45,034 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:21:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:22:07,630 [INFO] - BEGIN (implicit)
2025-03-26 21:22:07,631 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:22:07,632 [INFO] - [cached since 79.88s ago] (1,)
2025-03-26 21:22:07,634 [INFO] - BEGIN (implicit)
2025-03-26 21:22:07,635 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:22:07,635 [INFO] - [cached since 79.84s ago] ()
2025-03-26 21:22:07,641 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:22:07,642 [INFO] - BEGIN (implicit)
2025-03-26 21:22:07,642 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:22:07,642 [INFO] - [cached since 79.78s ago] ('user1', 1, 0)
2025-03-26 21:22:07,645 [INFO] - ROLLBACK
2025-03-26 21:22:07,646 [INFO] - ROLLBACK
2025-03-26 21:22:07,646 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:22:07] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:22:07,680 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:22:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:28:12,571 [INFO] - BEGIN (implicit)
2025-03-26 21:28:12,588 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:28:12,588 [INFO] - [raw sql] ()
2025-03-26 21:28:12,590 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:28:12,590 [INFO] - [raw sql] ()
2025-03-26 21:28:12,590 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:28:12,590 [INFO] - [raw sql] ()
2025-03-26 21:28:12,590 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:28:12,590 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:28:12,591 [INFO] - [raw sql] ()
2025-03-26 21:28:12,591 [INFO] - COMMIT
2025-03-26 21:28:12,613 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:28:12,613 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:28:23,156 [INFO] - BEGIN (implicit)
2025-03-26 21:28:23,158 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:28:23,158 [INFO] - [generated in 0.00023s] (1,)
2025-03-26 21:28:23,163 [INFO] - BEGIN (implicit)
2025-03-26 21:28:23,164 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:28:23,164 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:28:23,240 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:28:23,241 [INFO] - BEGIN (implicit)
2025-03-26 21:28:23,241 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:28:23,241 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 21:28:23,243 [INFO] - ROLLBACK
2025-03-26 21:28:23,279 [INFO] - ROLLBACK
2025-03-26 21:28:23,279 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:28:23] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:28:23,342 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:28:23] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:30:44,379 [INFO] - BEGIN (implicit)
2025-03-26 21:30:44,379 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:30:44,379 [INFO] - [raw sql] ()
2025-03-26 21:30:44,380 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:30:44,380 [INFO] - [raw sql] ()
2025-03-26 21:30:44,380 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:30:44,380 [INFO] - [raw sql] ()
2025-03-26 21:30:44,380 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:30:44,380 [INFO] - [raw sql] ()
2025-03-26 21:30:44,380 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:30:44,380 [INFO] - [raw sql] ()
2025-03-26 21:30:44,380 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:30:44,381 [INFO] - [raw sql] ()
2025-03-26 21:30:44,381 [INFO] - COMMIT
2025-03-26 21:30:44,392 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:30:44,392 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:30:52,016 [INFO] - BEGIN (implicit)
2025-03-26 21:30:52,018 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:30:52,018 [INFO] - [generated in 0.00020s] (1,)
2025-03-26 21:30:52,023 [INFO] - BEGIN (implicit)
2025-03-26 21:30:52,023 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:30:52,023 [INFO] - [generated in 0.00007s] ()
2025-03-26 21:30:52,091 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:30:52,091 [INFO] - BEGIN (implicit)
2025-03-26 21:30:52,092 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:30:52,092 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 21:30:52,093 [INFO] - ROLLBACK
2025-03-26 21:30:52,103 [INFO] - ROLLBACK
2025-03-26 21:30:52,103 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:30:52] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:30:52,158 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:30:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:31:26,027 [INFO] - BEGIN (implicit)
2025-03-26 21:31:26,027 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:31:26,027 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:31:26,029 [INFO] - [raw sql] ()
2025-03-26 21:31:26,029 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:31:26,030 [INFO] - [raw sql] ()
2025-03-26 21:31:26,030 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:31:26,030 [INFO] - [raw sql] ()
2025-03-26 21:31:26,030 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:31:26,030 [INFO] - [raw sql] ()
2025-03-26 21:31:26,030 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:31:26,030 [INFO] - [raw sql] ()
2025-03-26 21:31:26,030 [INFO] - COMMIT
2025-03-26 21:31:26,049 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:31:26,049 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:31:32,902 [INFO] - BEGIN (implicit)
2025-03-26 21:31:32,906 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:31:32,907 [INFO] - [generated in 0.00018s] (1,)
2025-03-26 21:31:32,909 [INFO] - BEGIN (implicit)
2025-03-26 21:31:32,909 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:31:32,909 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:31:32,946 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:31:32,946 [INFO] - BEGIN (implicit)
2025-03-26 21:31:32,947 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:31:32,947 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 21:31:32,948 [INFO] - ROLLBACK
2025-03-26 21:31:32,958 [INFO] - ROLLBACK
2025-03-26 21:31:32,958 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:31:32] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:31:33,005 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:31:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:34:39,170 [INFO] - BEGIN (implicit)
2025-03-26 21:34:39,170 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:34:39,170 [INFO] - [raw sql] ()
2025-03-26 21:34:39,172 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:34:39,172 [INFO] - [raw sql] ()
2025-03-26 21:34:39,172 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:34:39,172 [INFO] - [raw sql] ()
2025-03-26 21:34:39,172 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:34:39,172 [INFO] - [raw sql] ()
2025-03-26 21:34:39,172 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:34:39,172 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:34:39,173 [INFO] - [raw sql] ()
2025-03-26 21:34:39,173 [INFO] - COMMIT
2025-03-26 21:34:39,190 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:34:39,190 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:34:45,291 [INFO] - BEGIN (implicit)
2025-03-26 21:34:45,293 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:34:45,293 [INFO] - [generated in 0.00013s] (1,)
2025-03-26 21:34:45,296 [INFO] - BEGIN (implicit)
2025-03-26 21:34:45,297 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:34:45,297 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:34:45,375 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:34:45,375 [INFO] - BEGIN (implicit)
2025-03-26 21:34:45,376 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:34:45,376 [INFO] - [generated in 0.00011s] ('user1', 1, 0)
2025-03-26 21:34:45,377 [INFO] - ROLLBACK
2025-03-26 21:34:45,407 [INFO] - ROLLBACK
2025-03-26 21:34:45,407 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:34:45] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:34:45,454 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:34:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:35:22,431 [INFO] - BEGIN (implicit)
2025-03-26 21:35:22,431 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:35:22,431 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:35:22,432 [INFO] - [raw sql] ()
2025-03-26 21:35:22,432 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:35:22,433 [INFO] - [raw sql] ()
2025-03-26 21:35:22,433 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:35:22,433 [INFO] - [raw sql] ()
2025-03-26 21:35:22,433 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:35:22,433 [INFO] - [raw sql] ()
2025-03-26 21:35:22,433 [INFO] - COMMIT
2025-03-26 21:35:22,443 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:35:22,443 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:35:28,480 [INFO] - BEGIN (implicit)
2025-03-26 21:35:28,482 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:35:28,483 [INFO] - [generated in 0.00021s] (1,)
2025-03-26 21:35:28,488 [INFO] - BEGIN (implicit)
2025-03-26 21:35:28,488 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:35:28,488 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:35:28,526 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:35:28,527 [INFO] - BEGIN (implicit)
2025-03-26 21:35:28,527 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:35:28,527 [INFO] - [generated in 0.00011s] ('user1', 1, 0)
2025-03-26 21:35:28,530 [INFO] - ROLLBACK
2025-03-26 21:35:28,542 [INFO] - ROLLBACK
2025-03-26 21:35:28,542 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:35:28] "POST /admin/student/new HTTP/1.1" 200 -
2025-03-26 21:35:28,587 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:35:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:43:48,747 [INFO] - BEGIN (implicit)
2025-03-26 21:43:48,747 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:43:48,747 [INFO] - [raw sql] ()
2025-03-26 21:43:48,757 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:43:48,757 [INFO] - [raw sql] ()
2025-03-26 21:43:48,757 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:43:48,757 [INFO] - [raw sql] ()
2025-03-26 21:43:48,757 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:43:48,757 [INFO] - [raw sql] ()
2025-03-26 21:43:48,757 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:43:48,757 [INFO] - [raw sql] ()
2025-03-26 21:43:48,757 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:43:48,757 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:43:48,758 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:43:48,758 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:43:48,758 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:43:48,758 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:43:48,758 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:43:48,758 [INFO] - [raw sql] ()
2025-03-26 21:43:48,758 [INFO] - COMMIT
2025-03-26 21:43:48,770 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:43:48,770 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:43:55,646 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:43:55,648 [INFO] - [generated in 0.00013s] (1,)
2025-03-26 21:43:55,651 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,651 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:43:55,651 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:43:55,736 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:43:55,736 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,737 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:43:55,737 [INFO] - [generated in 0.00016s] ('user1', 1, 0)
2025-03-26 21:43:55,738 [INFO] - ROLLBACK
2025-03-26 21:43:55,738 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,739 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:43:55,739 [INFO] - [generated in 0.00007s] (9, 1, 0)
2025-03-26 21:43:55,740 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 21:43:55,740 [INFO] - [generated in 0.00006s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 21:43:55,740 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 21:43:55,740 [INFO] - [generated in 0.00005s] ()
2025-03-26 21:43:55,829 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 21:43:55,829 [INFO] - [generated in 0.00015s] ('user71', 'scrypt:32768:8:1$nsH1yhgDNxhV76rE$fd092a3c1f5b3f61437670f8219fe6308e8af23e3835027fe6a6ff1a71038101a3a154e9a033d873ed35bf72b9ed562d217d6a9d0684ebcbd8705ed28299e6ec', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 'd8aeeced-a917-47b5-8bd9-883026d786d2')
2025-03-26 21:43:55,865 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 21:43:55,866 [INFO] - [generated in 0.00013s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 21:43:55,866 [INFO] - COMMIT
2025-03-26 21:43:55,912 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,913 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 21:43:55,913 [INFO] - [generated in 0.00011s] (9,)
2025-03-26 21:43:55,913 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 21:43:55,913 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 21:43:55,914 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 21:43:55,914 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:43:55,914 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 21:43:55,914 [INFO] - ROLLBACK
2025-03-26 21:43:55,914 [INFO] - ROLLBACK
2025-03-26 21:43:55,915 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:43:55] "[32mPOST /admin/student/new HTTP/1.1[0m" 302 -
2025-03-26 21:43:55,923 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,923 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:43:55,923 [INFO] - [cached since 0.2755s ago] (1,)
2025-03-26 21:43:55,923 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:43:55,923 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,923 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:43:55,923 [INFO] - [cached since 0.1864s ago] ('user1', 1, 0)
2025-03-26 21:43:55,924 [INFO] - ROLLBACK
2025-03-26 21:43:55,924 [INFO] - BEGIN (implicit)
2025-03-26 21:43:55,933 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:43:55,933 [INFO] - [generated in 0.00015s] ()
2025-03-26 21:43:56,285 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 21:43:56,286 [INFO] - ROLLBACK
2025-03-26 21:43:56,333 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:43:56] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:43:56,433 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:43:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:43:59,654 [INFO] - BEGIN (implicit)
2025-03-26 21:43:59,655 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:43:59,655 [INFO] - [cached since 4.008s ago] (1,)
2025-03-26 21:43:59,657 [INFO] - BEGIN (implicit)
2025-03-26 21:43:59,661 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:43:59,661 [INFO] - [generated in 0.00029s] (3050, 1, 0)
2025-03-26 21:43:59,662 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:43:59,663 [INFO] - [cached since 4.012s ago] ()
2025-03-26 21:43:59,717 [INFO] - ROLLBACK
2025-03-26 21:43:59,717 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:43:59] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:43:59,754 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:43:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:44:06,223 [INFO] - BEGIN (implicit)
2025-03-26 21:44:06,225 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:44:06,225 [INFO] - [cached since 10.58s ago] (1,)
2025-03-26 21:44:06,228 [INFO] - BEGIN (implicit)
2025-03-26 21:44:06,229 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:44:06,229 [INFO] - [cached since 6.568s ago] (3050, 1, 0)
2025-03-26 21:44:06,231 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:44:06,231 [INFO] - [cached since 10.58s ago] ()
2025-03-26 21:44:06,232 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:44:06,233 [INFO] - BEGIN (implicit)
2025-03-26 21:44:06,233 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:44:06,233 [INFO] - [cached since 10.5s ago] ('user1', 1, 0)
2025-03-26 21:44:06,239 [INFO] - ROLLBACK
2025-03-26 21:44:06,239 [INFO] - BEGIN (implicit)
2025-03-26 21:44:06,240 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:44:06,240 [INFO] - [cached since 6.578s ago] (3050, 1, 0)
2025-03-26 21:44:06,244 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 21:44:06,245 [INFO] - [generated in 0.00011s] ('user71', 71, 1, 0)
2025-03-26 21:44:06,321 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 21:44:06,321 [INFO] - [generated in 0.00015s] ('scrypt:32768:8:1$jD9YbhM4rbg5vIoa$c054b4226261568928379461f6269278d86006082a84325417aceeb8401849c0bf5f79cbeca3abeff5db1e51abc7ec088665759d0a57211b91b7bc7ecf71b515', 71)
2025-03-26 21:44:06,323 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 21:44:06,323 [INFO] - [generated in 0.00009s] ('kila280509@gmail.com', 71, 1, 0)
2025-03-26 21:44:06,323 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:44:06,323 [INFO] - [cached since 10.58s ago] (9, 1, 0)
2025-03-26 21:44:06,324 [INFO] - COMMIT
2025-03-26 21:44:06,327 [INFO] - PATCH /api/admin/student/3050 - Updated by user user1: {'username': 'user71', 'password': 'updated', 'first_name': 'Илья', 'last_name': 'Коротков', 'email': 'kila280509@gmail.com', 'phone_number': '9810200877', 'class_id': 9, 'birth_date': '2009-05-28', 'address': 'Парковая 18 к3'}
2025-03-26 21:44:06,327 [INFO] - BEGIN (implicit)
2025-03-26 21:44:06,329 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 21:44:06,329 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 21:44:06,329 [INFO] - ROLLBACK
2025-03-26 21:44:06,329 [INFO] - ROLLBACK
2025-03-26 21:44:06,329 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:44:06] "POST /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:16,098 [INFO] - BEGIN (implicit)
2025-03-26 21:48:16,098 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:48:16,098 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,099 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:48:16,099 [INFO] - [raw sql] ()
2025-03-26 21:48:16,100 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:48:16,100 [INFO] - [raw sql] ()
2025-03-26 21:48:16,100 [INFO] - COMMIT
2025-03-26 21:48:16,111 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:48:16,111 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:48:18,552 [INFO] - BEGIN (implicit)
2025-03-26 21:48:18,554 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:18,554 [INFO] - [generated in 0.00012s] (1,)
2025-03-26 21:48:18,603 [INFO] - BEGIN (implicit)
2025-03-26 21:48:18,606 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:18,606 [INFO] - [generated in 0.00013s] (3050, 1, 0)
2025-03-26 21:48:18,629 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:18,629 [INFO] - [generated in 0.00012s] ()
2025-03-26 21:48:18,656 [INFO] - ROLLBACK
2025-03-26 21:48:18,656 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:18] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:21,761 [INFO] - BEGIN (implicit)
2025-03-26 21:48:21,763 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:21,763 [INFO] - [cached since 3.209s ago] (1,)
2025-03-26 21:48:21,792 [INFO] - BEGIN (implicit)
2025-03-26 21:48:21,792 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:21,792 [INFO] - [cached since 3.186s ago] (3050, 1, 0)
2025-03-26 21:48:21,807 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:21,807 [INFO] - [cached since 3.179s ago] ()
2025-03-26 21:48:21,808 [INFO] - ROLLBACK
2025-03-26 21:48:21,808 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:21] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:21,843 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:22,858 [INFO] - BEGIN (implicit)
2025-03-26 21:48:22,858 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:22,858 [INFO] - [cached since 4.304s ago] (1,)
2025-03-26 21:48:22,859 [INFO] - BEGIN (implicit)
2025-03-26 21:48:22,860 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:22,860 [INFO] - [cached since 4.254s ago] (3050, 1, 0)
2025-03-26 21:48:22,861 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:22,861 [INFO] - [cached since 4.232s ago] ()
2025-03-26 21:48:22,863 [INFO] - ROLLBACK
2025-03-26 21:48:22,864 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:22] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:22,894 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:28,703 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,704 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:28,705 [INFO] - [cached since 10.15s ago] (1,)
2025-03-26 21:48:28,707 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,708 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,708 [INFO] - [cached since 10.1s ago] (3050, 1, 0)
2025-03-26 21:48:28,714 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:28,714 [INFO] - [cached since 10.09s ago] ()
2025-03-26 21:48:28,792 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:48:28,792 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,793 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,793 [INFO] - [generated in 0.00016s] ('user1', 1, 0)
2025-03-26 21:48:28,794 [INFO] - ROLLBACK
2025-03-26 21:48:28,794 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,794 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,794 [INFO] - [cached since 10.19s ago] (3050, 1, 0)
2025-03-26 21:48:28,795 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,795 [INFO] - [generated in 0.00007s] ('user71', 71, 1, 0)
2025-03-26 21:48:28,869 [INFO] - UPDATE users SET password_hash=? WHERE users.user_id = ?
2025-03-26 21:48:28,869 [INFO] - [generated in 0.00016s] ('scrypt:32768:8:1$5YasYCQurRZ7feKo$59eb7c18507b7eedee12f9549e1e21302dbf939026e5ee86cf1a31a2832e7649d2a637c05a645d4bb22517403b17b98a02f9afd3e7353e782c9f94b746b5c8d0', 71)
2025-03-26 21:48:28,897 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,897 [INFO] - [generated in 0.00011s] ('kila280509@gmail.com', 71, 1, 0)
2025-03-26 21:48:28,897 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,897 [INFO] - [generated in 0.00007s] (9, 1, 0)
2025-03-26 21:48:28,898 [INFO] - COMMIT
2025-03-26 21:48:28,912 [INFO] - PATCH /api/admin/student/3050 - Updated by user user1: {'username': 'user71', 'password': 'updated', 'first_name': 'Илья', 'last_name': 'Коротков', 'email': 'kila280509@gmail.com', 'phone_number': '9810200877', 'class_id': 9, 'birth_date': '2009-05-28', 'address': 'Парковая 18 к3'}
2025-03-26 21:48:28,912 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,913 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 21:48:28,913 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 21:48:28,914 [INFO] - ROLLBACK
2025-03-26 21:48:28,914 [INFO] - ROLLBACK
2025-03-26 21:48:28,914 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:28] "[32mPOST /admin/student/3050 HTTP/1.1[0m" 302 -
2025-03-26 21:48:28,918 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,918 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:28,918 [INFO] - [cached since 10.36s ago] (1,)
2025-03-26 21:48:28,918 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:48:28,920 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,920 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:28,920 [INFO] - [cached since 0.1276s ago] ('user1', 1, 0)
2025-03-26 21:48:28,921 [INFO] - ROLLBACK
2025-03-26 21:48:28,922 [INFO] - BEGIN (implicit)
2025-03-26 21:48:28,923 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:48:28,923 [INFO] - [generated in 0.00008s] ()
2025-03-26 21:48:29,067 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 21:48:29,067 [INFO] - ROLLBACK
2025-03-26 21:48:29,108 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:29] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:48:29,158 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:32,602 [INFO] - BEGIN (implicit)
2025-03-26 21:48:32,604 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:32,604 [INFO] - [cached since 14.05s ago] (1,)
2025-03-26 21:48:32,605 [INFO] - BEGIN (implicit)
2025-03-26 21:48:32,605 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:32,605 [INFO] - [cached since 14s ago] (3050, 1, 0)
2025-03-26 21:48:32,606 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:32,606 [INFO] - [cached since 13.98s ago] ()
2025-03-26 21:48:32,607 [INFO] - ROLLBACK
2025-03-26 21:48:32,608 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:32] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:32,649 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:37,137 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,138 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:37,138 [INFO] - [cached since 18.58s ago] (1,)
2025-03-26 21:48:37,141 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,141 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,141 [INFO] - [cached since 18.54s ago] (3050, 1, 0)
2025-03-26 21:48:37,143 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:37,143 [INFO] - [cached since 18.51s ago] ()
2025-03-26 21:48:37,145 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:48:37,146 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,146 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,146 [INFO] - [cached since 8.353s ago] ('user1', 1, 0)
2025-03-26 21:48:37,151 [INFO] - ROLLBACK
2025-03-26 21:48:37,152 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,152 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,152 [INFO] - [cached since 18.55s ago] (3050, 1, 0)
2025-03-26 21:48:37,153 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,153 [INFO] - [cached since 8.358s ago] ('user71', 71, 1, 0)
2025-03-26 21:48:37,155 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,155 [INFO] - [cached since 8.258s ago] ('kila280509@gmail.co', 71, 1, 0)
2025-03-26 21:48:37,156 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 21:48:37,156 [INFO] - [generated in 0.00011s] ('kila280509@gmail.co', 71)
2025-03-26 21:48:37,195 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,195 [INFO] - [cached since 8.298s ago] (9, 1, 0)
2025-03-26 21:48:37,195 [INFO] - COMMIT
2025-03-26 21:48:37,213 [INFO] - PATCH /api/admin/student/3050 - Updated by user user1: {'username': 'user71', 'first_name': 'Илья', 'last_name': 'Коротков', 'email': 'kila280509@gmail.co', 'phone_number': '9810200877', 'class_id': 9, 'birth_date': '2009-05-28', 'address': 'Парковая 18 к3'}
2025-03-26 21:48:37,213 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,214 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 21:48:37,214 [INFO] - [cached since 8.3s ago] (71,)
2025-03-26 21:48:37,214 [INFO] - ROLLBACK
2025-03-26 21:48:37,215 [INFO] - ROLLBACK
2025-03-26 21:48:37,215 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:37] "[32mPOST /admin/student/3050 HTTP/1.1[0m" 302 -
2025-03-26 21:48:37,220 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,220 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:37,220 [INFO] - [cached since 18.67s ago] (1,)
2025-03-26 21:48:37,220 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:48:37,221 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,221 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:37,221 [INFO] - [cached since 8.428s ago] ('user1', 1, 0)
2025-03-26 21:48:37,221 [INFO] - ROLLBACK
2025-03-26 21:48:37,222 [INFO] - BEGIN (implicit)
2025-03-26 21:48:37,223 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:48:37,223 [INFO] - [cached since 8.299s ago] ()
2025-03-26 21:48:37,234 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 21:48:37,234 [INFO] - ROLLBACK
2025-03-26 21:48:37,240 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:37] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:48:37,288 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:40,455 [INFO] - BEGIN (implicit)
2025-03-26 21:48:40,455 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:40,455 [INFO] - [cached since 21.9s ago] (1,)
2025-03-26 21:48:40,456 [INFO] - BEGIN (implicit)
2025-03-26 21:48:40,456 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:40,456 [INFO] - [cached since 21.85s ago] (3050, 1, 0)
2025-03-26 21:48:40,457 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:40,457 [INFO] - [cached since 21.83s ago] ()
2025-03-26 21:48:40,460 [INFO] - ROLLBACK
2025-03-26 21:48:40,460 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:40] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:40,501 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:46,470 [INFO] - The CSRF token is missing.
2025-03-26 21:48:46,471 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:46] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:48:50,758 [INFO] - BEGIN (implicit)
2025-03-26 21:48:50,760 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:50,760 [INFO] - [cached since 32.21s ago] (1,)
2025-03-26 21:48:50,763 [INFO] - BEGIN (implicit)
2025-03-26 21:48:50,764 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:50,764 [INFO] - [cached since 32.16s ago] (3050, 1, 0)
2025-03-26 21:48:50,765 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:50,765 [INFO] - [cached since 32.14s ago] ()
2025-03-26 21:48:50,768 [INFO] - ROLLBACK
2025-03-26 21:48:50,769 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:50] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:50,810 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:52,034 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,034 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:52,034 [INFO] - [cached since 33.48s ago] (1,)
2025-03-26 21:48:52,035 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,035 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:52,036 [INFO] - [cached since 33.43s ago] (3050, 1, 0)
2025-03-26 21:48:52,037 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:52,037 [INFO] - [cached since 33.41s ago] ()
2025-03-26 21:48:52,040 [INFO] - ROLLBACK
2025-03-26 21:48:52,041 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:52,079 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:52,542 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,543 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:52,543 [INFO] - [cached since 33.99s ago] (1,)
2025-03-26 21:48:52,544 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,545 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:52,545 [INFO] - [cached since 33.94s ago] (3050, 1, 0)
2025-03-26 21:48:52,549 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:52,549 [INFO] - [cached since 33.92s ago] ()
2025-03-26 21:48:52,551 [INFO] - ROLLBACK
2025-03-26 21:48:52,551 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:52,583 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:52,750 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,751 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:52,752 [INFO] - [cached since 34.2s ago] (1,)
2025-03-26 21:48:52,753 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,753 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:52,753 [INFO] - [cached since 34.15s ago] (3050, 1, 0)
2025-03-26 21:48:52,754 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:52,755 [INFO] - [cached since 34.13s ago] ()
2025-03-26 21:48:52,758 [INFO] - ROLLBACK
2025-03-26 21:48:52,759 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:52,788 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:52,975 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,975 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:52,976 [INFO] - [cached since 34.42s ago] (1,)
2025-03-26 21:48:52,976 [INFO] - BEGIN (implicit)
2025-03-26 21:48:52,977 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:52,977 [INFO] - [cached since 34.37s ago] (3050, 1, 0)
2025-03-26 21:48:52,978 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:52,978 [INFO] - [cached since 34.35s ago] ()
2025-03-26 21:48:52,982 [INFO] - ROLLBACK
2025-03-26 21:48:52,983 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:52] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:53,014 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:53,155 [INFO] - BEGIN (implicit)
2025-03-26 21:48:53,156 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:53,156 [INFO] - [cached since 34.6s ago] (1,)
2025-03-26 21:48:53,158 [INFO] - BEGIN (implicit)
2025-03-26 21:48:53,159 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:53,159 [INFO] - [cached since 34.55s ago] (3050, 1, 0)
2025-03-26 21:48:53,162 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:53,163 [INFO] - [cached since 34.53s ago] ()
2025-03-26 21:48:53,166 [INFO] - ROLLBACK
2025-03-26 21:48:53,167 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:53] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:53,199 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:48:53,338 [INFO] - BEGIN (implicit)
2025-03-26 21:48:53,338 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:48:53,338 [INFO] - [cached since 34.78s ago] (1,)
2025-03-26 21:48:53,339 [INFO] - BEGIN (implicit)
2025-03-26 21:48:53,340 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:48:53,340 [INFO] - [cached since 34.73s ago] (3050, 1, 0)
2025-03-26 21:48:53,343 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:48:53,343 [INFO] - [cached since 34.71s ago] ()
2025-03-26 21:48:53,347 [INFO] - ROLLBACK
2025-03-26 21:48:53,348 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:53] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:48:53,374 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:48:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:49:10,263 [INFO] - The CSRF token is missing.
2025-03-26 21:49:10,266 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:49:10] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:51:29,353 [INFO] - BEGIN (implicit)
2025-03-26 21:51:29,355 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:51:29,355 [INFO] - [cached since 190.8s ago] (1,)
2025-03-26 21:51:29,361 [INFO] - BEGIN (implicit)
2025-03-26 21:51:29,361 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:51:29,361 [INFO] - [cached since 190.8s ago] (3050, 1, 0)
2025-03-26 21:51:29,364 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:51:29,364 [INFO] - [cached since 190.7s ago] ()
2025-03-26 21:51:29,366 [INFO] - ROLLBACK
2025-03-26 21:51:29,367 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:29] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:51:29,426 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:51:31,334 [INFO] - BEGIN (implicit)
2025-03-26 21:51:31,335 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:51:31,335 [INFO] - [cached since 192.8s ago] (1,)
2025-03-26 21:51:31,335 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:51:31,336 [INFO] - BEGIN (implicit)
2025-03-26 21:51:31,336 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:51:31,336 [INFO] - [cached since 182.5s ago] ('user1', 1, 0)
2025-03-26 21:51:31,340 [INFO] - ROLLBACK
2025-03-26 21:51:31,340 [INFO] - BEGIN (implicit)
2025-03-26 21:51:31,341 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:51:31,341 [INFO] - [cached since 182.4s ago] ()
2025-03-26 21:51:31,463 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 21:51:31,463 [INFO] - ROLLBACK
2025-03-26 21:51:31,467 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:31] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:51:31,523 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:51:34,127 [INFO] - BEGIN (implicit)
2025-03-26 21:51:34,127 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:51:34,127 [INFO] - [cached since 195.6s ago] (1,)
2025-03-26 21:51:34,128 [INFO] - BEGIN (implicit)
2025-03-26 21:51:34,129 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:51:34,129 [INFO] - [cached since 195.5s ago] (3050, 1, 0)
2025-03-26 21:51:34,129 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:51:34,129 [INFO] - [cached since 195.5s ago] ()
2025-03-26 21:51:34,131 [INFO] - ROLLBACK
2025-03-26 21:51:34,132 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:34] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:51:34,176 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:34] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:51:38,888 [INFO] - BEGIN (implicit)
2025-03-26 21:51:38,889 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:51:38,889 [INFO] - [raw sql] ()
2025-03-26 21:51:38,891 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:51:38,891 [INFO] - [raw sql] ()
2025-03-26 21:51:38,891 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:51:38,891 [INFO] - [raw sql] ()
2025-03-26 21:51:38,891 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:51:38,892 [INFO] - [raw sql] ()
2025-03-26 21:51:38,892 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:51:38,892 [INFO] - [raw sql] ()
2025-03-26 21:51:38,892 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:51:38,892 [INFO] - [raw sql] ()
2025-03-26 21:51:38,892 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:51:38,892 [INFO] - [raw sql] ()
2025-03-26 21:51:38,892 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:51:38,893 [INFO] - [raw sql] ()
2025-03-26 21:51:38,893 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:51:38,893 [INFO] - [raw sql] ()
2025-03-26 21:51:38,893 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:51:38,893 [INFO] - [raw sql] ()
2025-03-26 21:51:38,893 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:51:38,893 [INFO] - [raw sql] ()
2025-03-26 21:51:38,894 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:51:38,894 [INFO] - [raw sql] ()
2025-03-26 21:51:38,894 [INFO] - COMMIT
2025-03-26 21:51:38,917 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:51:38,917 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:51:42,431 [INFO] - The CSRF token is missing.
2025-03-26 21:51:42,433 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:42] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:51:45,804 [INFO] - BEGIN (implicit)
2025-03-26 21:51:45,805 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:51:45,805 [INFO] - [generated in 0.00016s] (1,)
2025-03-26 21:51:45,856 [INFO] - BEGIN (implicit)
2025-03-26 21:51:45,859 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:51:45,859 [INFO] - [generated in 0.00015s] (3050, 1, 0)
2025-03-26 21:51:45,890 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:51:45,890 [INFO] - [generated in 0.00013s] ()
2025-03-26 21:51:45,914 [INFO] - ROLLBACK
2025-03-26 21:51:45,915 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:45] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:51:45,951 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:51:46,605 [INFO] - BEGIN (implicit)
2025-03-26 21:51:46,606 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:51:46,606 [INFO] - [cached since 0.801s ago] (1,)
2025-03-26 21:51:46,608 [INFO] - BEGIN (implicit)
2025-03-26 21:51:46,609 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:51:46,609 [INFO] - [cached since 0.7504s ago] (3050, 1, 0)
2025-03-26 21:51:46,611 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:51:46,611 [INFO] - [cached since 0.7217s ago] ()
2025-03-26 21:51:46,615 [INFO] - ROLLBACK
2025-03-26 21:51:46,616 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:46] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:51:46,640 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:51:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:52:50,228 [INFO] - The CSRF token is missing.
2025-03-26 21:52:50,230 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:52:50] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:54:50,369 [INFO] - BEGIN (implicit)
2025-03-26 21:54:50,371 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:54:50,372 [INFO] - [cached since 184.6s ago] (1,)
2025-03-26 21:54:50,378 [INFO] - BEGIN (implicit)
2025-03-26 21:54:50,379 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:54:50,379 [INFO] - [cached since 184.5s ago] (3050, 1, 0)
2025-03-26 21:54:50,670 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:54:50,671 [INFO] - [cached since 184.8s ago] ()
2025-03-26 21:54:50,672 [INFO] - ROLLBACK
2025-03-26 21:54:50,673 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:54:50] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:54:50,706 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:54:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:56:33,928 [INFO] - BEGIN (implicit)
2025-03-26 21:56:33,928 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:56:33,928 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:56:33,930 [INFO] - [raw sql] ()
2025-03-26 21:56:33,930 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:56:33,931 [INFO] - [raw sql] ()
2025-03-26 21:56:33,931 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:56:33,931 [INFO] - [raw sql] ()
2025-03-26 21:56:33,931 [INFO] - COMMIT
2025-03-26 21:56:33,946 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:56:33,946 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:56:37,856 [INFO] - BEGIN (implicit)
2025-03-26 21:56:37,857 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:56:37,858 [INFO] - [generated in 0.00012s] (1,)
2025-03-26 21:56:37,860 [INFO] - BEGIN (implicit)
2025-03-26 21:56:37,862 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:56:37,862 [INFO] - [generated in 0.00013s] (3050, 1, 0)
2025-03-26 21:56:37,917 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:56:37,917 [INFO] - [generated in 0.00013s] ()
2025-03-26 21:56:37,941 [INFO] - ROLLBACK
2025-03-26 21:56:37,941 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:37] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:56:37,978 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:56:39,456 [INFO] - BEGIN (implicit)
2025-03-26 21:56:39,457 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:56:39,457 [INFO] - [cached since 1.599s ago] (1,)
2025-03-26 21:56:39,458 [INFO] - BEGIN (implicit)
2025-03-26 21:56:39,459 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:56:39,459 [INFO] - [cached since 1.596s ago] (3050, 1, 0)
2025-03-26 21:56:39,460 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:56:39,460 [INFO] - [cached since 1.543s ago] ()
2025-03-26 21:56:39,464 [INFO] - ROLLBACK
2025-03-26 21:56:39,465 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:39] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:56:39,500 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:56:40,327 [INFO] - BEGIN (implicit)
2025-03-26 21:56:40,327 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:56:40,328 [INFO] - [cached since 2.47s ago] (1,)
2025-03-26 21:56:40,329 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 21:56:40,330 [INFO] - BEGIN (implicit)
2025-03-26 21:56:40,331 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 21:56:40,331 [INFO] - [generated in 0.00027s] ('user1', 1, 0)
2025-03-26 21:56:40,337 [INFO] - ROLLBACK
2025-03-26 21:56:40,337 [INFO] - BEGIN (implicit)
2025-03-26 21:56:40,341 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 21:56:40,342 [INFO] - [generated in 0.00023s] ()
2025-03-26 21:56:40,675 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 21:56:40,675 [INFO] - ROLLBACK
2025-03-26 21:56:40,716 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:40] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 21:56:40,774 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:56:43,324 [INFO] - BEGIN (implicit)
2025-03-26 21:56:43,325 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:56:43,325 [INFO] - [cached since 5.468s ago] (1,)
2025-03-26 21:56:43,326 [INFO] - BEGIN (implicit)
2025-03-26 21:56:43,326 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:56:43,326 [INFO] - [cached since 5.464s ago] (3050, 1, 0)
2025-03-26 21:56:43,327 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:56:43,327 [INFO] - [cached since 5.41s ago] ()
2025-03-26 21:56:43,331 [INFO] - ROLLBACK
2025-03-26 21:56:43,331 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:43] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:56:43,372 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:56:47,224 [INFO] - The CSRF token is missing.
2025-03-26 21:56:47,225 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:47] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:56:55,083 [INFO] - The CSRF token is missing.
2025-03-26 21:56:55,084 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:55] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:56:57,217 [INFO] - BEGIN (implicit)
2025-03-26 21:56:57,253 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:56:57,253 [INFO] - [cached since 19.4s ago] (1,)
2025-03-26 21:56:57,254 [INFO] - BEGIN (implicit)
2025-03-26 21:56:57,255 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:56:57,255 [INFO] - [cached since 19.39s ago] (3050, 1, 0)
2025-03-26 21:56:57,256 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:56:57,256 [INFO] - [cached since 19.34s ago] ()
2025-03-26 21:56:57,257 [INFO] - ROLLBACK
2025-03-26 21:56:57,257 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:57] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:56:57,293 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:56:57] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:57:15,089 [INFO] - The CSRF token is missing.
2025-03-26 21:57:15,091 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:57:15] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:57:21,406 [INFO] - BEGIN (implicit)
2025-03-26 21:57:21,406 [INFO] - PRAGMA main.table_info("users")
2025-03-26 21:57:21,406 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("students")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 21:57:21,407 [INFO] - [raw sql] ()
2025-03-26 21:57:21,407 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 21:57:21,408 [INFO] - [raw sql] ()
2025-03-26 21:57:21,408 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 21:57:21,408 [INFO] - [raw sql] ()
2025-03-26 21:57:21,408 [INFO] - COMMIT
2025-03-26 21:57:21,417 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 21:57:21,417 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 21:57:24,819 [INFO] - The CSRF token is missing.
2025-03-26 21:57:24,820 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:57:24] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:57:27,562 [INFO] - BEGIN (implicit)
2025-03-26 21:57:27,563 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 21:57:27,563 [INFO] - [generated in 0.00012s] (1,)
2025-03-26 21:57:27,566 [INFO] - BEGIN (implicit)
2025-03-26 21:57:27,569 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 21:57:27,569 [INFO] - [generated in 0.00013s] (3050, 1, 0)
2025-03-26 21:57:27,607 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 21:57:27,607 [INFO] - [generated in 0.00012s] ()
2025-03-26 21:57:27,631 [INFO] - ROLLBACK
2025-03-26 21:57:27,631 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:57:27] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 21:57:27,670 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:57:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 21:57:30,756 [INFO] - The CSRF token is missing.
2025-03-26 21:57:30,757 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:57:30] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 21:59:28,018 [INFO] - The CSRF token is missing.
2025-03-26 21:59:28,308 [INFO] - 127.0.0.1 - - [26/Mar/2025 21:59:28] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 22:01:22,283 [INFO] - BEGIN (implicit)
2025-03-26 22:01:22,283 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:01:22,283 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:01:22,284 [INFO] - [raw sql] ()
2025-03-26 22:01:22,284 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:01:22,285 [INFO] - [raw sql] ()
2025-03-26 22:01:22,285 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:01:22,285 [INFO] - [raw sql] ()
2025-03-26 22:01:22,285 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:01:22,285 [INFO] - [raw sql] ()
2025-03-26 22:01:22,285 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:01:22,285 [INFO] - [raw sql] ()
2025-03-26 22:01:22,285 [INFO] - COMMIT
2025-03-26 22:01:22,295 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:01:22,295 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:01:24,890 [INFO] - BEGIN (implicit)
2025-03-26 22:01:24,893 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:01:24,893 [INFO] - [generated in 0.00013s] (1,)
2025-03-26 22:01:24,896 [INFO] - BEGIN (implicit)
2025-03-26 22:01:24,898 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:01:24,898 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-26 22:01:24,950 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:01:24,950 [INFO] - [generated in 0.00013s] ()
2025-03-26 22:01:24,974 [INFO] - ROLLBACK
2025-03-26 22:01:24,974 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:01:24] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 22:01:25,018 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:01:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:01:27,433 [INFO] - The CSRF token is missing.
2025-03-26 22:01:27,433 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:01:27] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 22:25:45,039 [INFO] - BEGIN (implicit)
2025-03-26 22:25:45,052 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:25:45,052 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:25:45,054 [INFO] - [raw sql] ()
2025-03-26 22:25:45,054 [INFO] - COMMIT
2025-03-26 22:25:45,065 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:25:45,065 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:25:50,289 [INFO] - BEGIN (implicit)
2025-03-26 22:25:50,290 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:25:50,291 [INFO] - [generated in 0.00013s] (1,)
2025-03-26 22:25:50,293 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:25:50,294 [INFO] - BEGIN (implicit)
2025-03-26 22:25:50,294 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:25:50,294 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-26 22:25:50,297 [INFO] - ROLLBACK
2025-03-26 22:25:50,297 [INFO] - BEGIN (implicit)
2025-03-26 22:25:50,299 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:25:50,299 [INFO] - [generated in 0.00010s] ()
2025-03-26 22:25:50,660 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 22:25:50,660 [INFO] - ROLLBACK
2025-03-26 22:25:50,677 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:25:50] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:25:50,783 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:25:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:25:53,739 [INFO] - BEGIN (implicit)
2025-03-26 22:25:53,739 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:25:53,739 [INFO] - [cached since 3.449s ago] (1,)
2025-03-26 22:25:53,741 [INFO] - BEGIN (implicit)
2025-03-26 22:25:53,746 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:25:53,746 [INFO] - [generated in 0.00032s] (3050, 1, 0)
2025-03-26 22:25:53,752 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:25:53,752 [INFO] - [generated in 0.00015s] ()
2025-03-26 22:25:53,802 [INFO] - ROLLBACK
2025-03-26 22:25:53,802 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:25:53] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 22:25:53,844 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:25:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:25:57,444 [INFO] - The CSRF token is missing.
2025-03-26 22:25:57,444 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:25:57] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 22:26:33,409 [INFO] - BEGIN (implicit)
2025-03-26 22:26:33,409 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:26:33,409 [INFO] - [raw sql] ()
2025-03-26 22:26:33,422 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:26:33,422 [INFO] - [raw sql] ()
2025-03-26 22:26:33,422 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:26:33,422 [INFO] - [raw sql] ()
2025-03-26 22:26:33,422 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:26:33,422 [INFO] - [raw sql] ()
2025-03-26 22:26:33,422 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:26:33,423 [INFO] - [raw sql] ()
2025-03-26 22:26:33,423 [INFO] - COMMIT
2025-03-26 22:26:33,433 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:26:33,433 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:26:36,132 [INFO] - BEGIN (implicit)
2025-03-26 22:26:36,133 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:26:36,133 [INFO] - [generated in 0.00014s] (1,)
2025-03-26 22:26:36,171 [INFO] - BEGIN (implicit)
2025-03-26 22:26:36,173 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:26:36,173 [INFO] - [generated in 0.00012s] (3050, 1, 0)
2025-03-26 22:26:36,193 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:26:36,193 [INFO] - [generated in 0.00011s] ()
2025-03-26 22:26:36,229 [INFO] - ROLLBACK
2025-03-26 22:26:36,229 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:26:36] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 22:26:36,301 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:26:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:26:38,200 [INFO] - The CSRF token is missing.
2025-03-26 22:26:38,201 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:26:38] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 22:28:37,002 [INFO] - BEGIN (implicit)
2025-03-26 22:28:37,005 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:28:37,005 [INFO] - [raw sql] ()
2025-03-26 22:28:37,006 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:28:37,006 [INFO] - [raw sql] ()
2025-03-26 22:28:37,006 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:28:37,006 [INFO] - [raw sql] ()
2025-03-26 22:28:37,006 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:28:37,006 [INFO] - [raw sql] ()
2025-03-26 22:28:37,006 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:28:37,006 [INFO] - [raw sql] ()
2025-03-26 22:28:37,006 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:28:37,006 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:28:37,007 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:28:37,007 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:28:37,007 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:28:37,007 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:28:37,007 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:28:37,007 [INFO] - [raw sql] ()
2025-03-26 22:28:37,007 [INFO] - COMMIT
2025-03-26 22:28:37,017 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:28:37,017 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:28:44,248 [INFO] - The CSRF token is missing.
2025-03-26 22:28:44,250 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:28:44] "[31m[1mPOST /admin/student/3050/delete HTTP/1.1[0m" 400 -
2025-03-26 22:29:19,259 [INFO] - BEGIN (implicit)
2025-03-26 22:29:19,259 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:29:19,259 [INFO] - [raw sql] ()
2025-03-26 22:29:19,260 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:29:19,260 [INFO] - [raw sql] ()
2025-03-26 22:29:19,260 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:29:19,260 [INFO] - [raw sql] ()
2025-03-26 22:29:19,260 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:29:19,260 [INFO] - [raw sql] ()
2025-03-26 22:29:19,260 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:29:19,260 [INFO] - [raw sql] ()
2025-03-26 22:29:19,260 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:29:19,260 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:29:19,261 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:29:19,261 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:29:19,261 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:29:19,261 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:29:19,261 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:29:19,261 [INFO] - [raw sql] ()
2025-03-26 22:29:19,261 [INFO] - COMMIT
2025-03-26 22:29:19,271 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:29:19,271 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:29:21,463 [INFO] - BEGIN (implicit)
2025-03-26 22:29:21,464 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:21,465 [INFO] - [generated in 0.00014s] (1,)
2025-03-26 22:29:21,467 [INFO] - BEGIN (implicit)
2025-03-26 22:29:21,469 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:21,469 [INFO] - [generated in 0.00011s] (3050, 1, 0)
2025-03-26 22:29:21,515 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:29:21,515 [INFO] - [generated in 0.00010s] ()
2025-03-26 22:29:21,550 [INFO] - ROLLBACK
2025-03-26 22:29:21,551 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:21] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 22:29:21,593 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:29:23,935 [INFO] - BEGIN (implicit)
2025-03-26 22:29:23,935 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:23,935 [INFO] - [cached since 2.471s ago] (1,)
2025-03-26 22:29:23,938 [INFO] - BEGIN (implicit)
2025-03-26 22:29:23,939 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:23,939 [INFO] - [generated in 0.00027s] (3050, 1, 0)
2025-03-26 22:29:23,940 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:29:23,941 [INFO] - BEGIN (implicit)
2025-03-26 22:29:23,942 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:23,943 [INFO] - [generated in 0.00028s] ('user1', 1, 0)
2025-03-26 22:29:23,946 [INFO] - ROLLBACK
2025-03-26 22:29:23,947 [INFO] - BEGIN (implicit)
2025-03-26 22:29:23,949 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:23,949 [INFO] - [generated in 0.00022s] (3050, 1, 0)
2025-03-26 22:29:23,953 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 22:29:23,953 [INFO] - [generated in 0.00016s] (71,)
2025-03-26 22:29:23,954 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 22:29:23,954 [INFO] - [generated in 0.00022s] (71,)
2025-03-26 22:29:23,956 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 22:29:23,956 [INFO] - [generated in 0.00014s] (71,)
2025-03-26 22:29:23,957 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 22:29:23,957 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 22:29:23,958 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 22:29:23,958 [INFO] - [generated in 0.00007s] (71,)
2025-03-26 22:29:23,960 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 22:29:23,961 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 22:29:23,992 [INFO] - COMMIT
2025-03-26 22:29:23,997 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 22:29:23,997 [INFO] - ROLLBACK
2025-03-26 22:29:23,997 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:23] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-26 22:29:24,011 [INFO] - BEGIN (implicit)
2025-03-26 22:29:24,011 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:24,011 [INFO] - [cached since 2.547s ago] (1,)
2025-03-26 22:29:24,011 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:29:24,011 [INFO] - BEGIN (implicit)
2025-03-26 22:29:24,011 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:24,012 [INFO] - [cached since 0.06919s ago] ('user1', 1, 0)
2025-03-26 22:29:24,012 [INFO] - ROLLBACK
2025-03-26 22:29:24,012 [INFO] - BEGIN (implicit)
2025-03-26 22:29:24,013 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:29:24,013 [INFO] - [generated in 0.00007s] ()
2025-03-26 22:29:24,439 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 22:29:24,439 [INFO] - ROLLBACK
2025-03-26 22:29:24,458 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:24] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:29:24,500 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:24] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:29:35,801 [INFO] - BEGIN (implicit)
2025-03-26 22:29:35,803 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:35,803 [INFO] - [cached since 14.34s ago] (1,)
2025-03-26 22:29:35,808 [INFO] - BEGIN (implicit)
2025-03-26 22:29:35,808 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:29:35,808 [INFO] - [cached since 14.29s ago] ()
2025-03-26 22:29:35,848 [INFO] - ROLLBACK
2025-03-26 22:29:35,848 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:35] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-26 22:29:35,897 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:29:54,002 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,004 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:54,004 [INFO] - [cached since 32.54s ago] (1,)
2025-03-26 22:29:54,008 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,008 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:29:54,009 [INFO] - [cached since 32.49s ago] ()
2025-03-26 22:29:54,096 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:29:54,096 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,097 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:54,097 [INFO] - [cached since 30.15s ago] ('user1', 1, 0)
2025-03-26 22:29:54,098 [INFO] - ROLLBACK
2025-03-26 22:29:54,098 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,098 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:54,098 [INFO] - [generated in 0.00008s] (9, 1, 0)
2025-03-26 22:29:54,099 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:54,099 [INFO] - [generated in 0.00006s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 22:29:54,100 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-26 22:29:54,100 [INFO] - [generated in 0.00006s] ()
2025-03-26 22:29:54,181 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 22:29:54,181 [INFO] - [generated in 0.00015s] ('user71', 'scrypt:32768:8:1$t2NeE2zmZCEfroaj$c197cc9b700b3a426241e97efd0a8fefd3630d8a129cf2148fa555d511aff5eedda7e68ad8a76c2dc025e5d93402c300c22306e624075edcc69ea690e66d49d3', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', '09d4375e-ab02-49de-9251-64b774d08835')
2025-03-26 22:29:54,182 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-26 22:29:54,182 [INFO] - [generated in 0.00008s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-26 22:29:54,182 [INFO] - COMMIT
2025-03-26 22:29:54,218 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,218 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-26 22:29:54,220 [INFO] - [generated in 0.00181s] (9,)
2025-03-26 22:29:54,221 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 22:29:54,221 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 22:29:54,221 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-26 22:29:54,222 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:54,222 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 22:29:54,222 [INFO] - ROLLBACK
2025-03-26 22:29:54,223 [INFO] - ROLLBACK
2025-03-26 22:29:54,224 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:54] "[32mPOST /admin/student/new HTTP/1.1[0m" 302 -
2025-03-26 22:29:54,233 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,235 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:54,235 [INFO] - [cached since 32.77s ago] (1,)
2025-03-26 22:29:54,235 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:29:54,236 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:54,236 [INFO] - [cached since 30.29s ago] ('user1', 1, 0)
2025-03-26 22:29:54,237 [INFO] - ROLLBACK
2025-03-26 22:29:54,237 [INFO] - BEGIN (implicit)
2025-03-26 22:29:54,237 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:29:54,238 [INFO] - [cached since 30.23s ago] ()
2025-03-26 22:29:54,252 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 22:29:54,252 [INFO] - ROLLBACK
2025-03-26 22:29:54,258 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:54] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:29:54,339 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:29:59,172 [INFO] - BEGIN (implicit)
2025-03-26 22:29:59,173 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:29:59,173 [INFO] - [cached since 37.71s ago] (1,)
2025-03-26 22:29:59,174 [INFO] - BEGIN (implicit)
2025-03-26 22:29:59,176 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:29:59,177 [INFO] - [cached since 37.71s ago] (3050, 1, 0)
2025-03-26 22:29:59,178 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:29:59,178 [INFO] - [cached since 37.66s ago] ()
2025-03-26 22:29:59,181 [INFO] - ROLLBACK
2025-03-26 22:29:59,182 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:59] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 22:29:59,227 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:29:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:30:03,015 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,016 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:30:03,016 [INFO] - [cached since 41.55s ago] (1,)
2025-03-26 22:30:03,018 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,019 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,019 [INFO] - [cached since 41.55s ago] (3050, 1, 0)
2025-03-26 22:30:03,020 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:30:03,020 [INFO] - [cached since 41.51s ago] ()
2025-03-26 22:30:03,022 [INFO] - PATCH /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:30:03,023 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,023 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,023 [INFO] - [cached since 39.08s ago] ('user1', 1, 0)
2025-03-26 22:30:03,068 [INFO] - ROLLBACK
2025-03-26 22:30:03,068 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,068 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,068 [INFO] - [cached since 41.6s ago] (3050, 1, 0)
2025-03-26 22:30:03,070 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,070 [INFO] - [generated in 0.00011s] ('user71', 71, 1, 0)
2025-03-26 22:30:03,070 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,071 [INFO] - [generated in 0.00007s] ('kila280509@gmail.co', 71, 1, 0)
2025-03-26 22:30:03,071 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 22:30:03,071 [INFO] - [generated in 0.00006s] ('kila280509@gmail.co', 71)
2025-03-26 22:30:03,072 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,072 [INFO] - [cached since 8.974s ago] (9, 1, 0)
2025-03-26 22:30:03,072 [INFO] - COMMIT
2025-03-26 22:30:03,102 [INFO] - PATCH /api/admin/student/3050 - Updated by user user1: {'username': 'user71', 'first_name': 'Илья', 'last_name': 'Коротков', 'email': 'kila280509@gmail.co', 'phone_number': '9810200877', 'class_id': 9, 'birth_date': '2009-05-28', 'address': 'Парковая 18 к3'}
2025-03-26 22:30:03,102 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,104 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.user_id = ?
2025-03-26 22:30:03,104 [INFO] - [generated in 0.00011s] (71,)
2025-03-26 22:30:03,105 [INFO] - ROLLBACK
2025-03-26 22:30:03,105 [INFO] - ROLLBACK
2025-03-26 22:30:03,105 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:03] "[32mPOST /admin/student/3050 HTTP/1.1[0m" 302 -
2025-03-26 22:30:03,111 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,111 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:30:03,111 [INFO] - [cached since 41.65s ago] (1,)
2025-03-26 22:30:03,111 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:30:03,111 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,111 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:03,111 [INFO] - [cached since 39.17s ago] ('user1', 1, 0)
2025-03-26 22:30:03,111 [INFO] - ROLLBACK
2025-03-26 22:30:03,112 [INFO] - BEGIN (implicit)
2025-03-26 22:30:03,112 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:30:03,112 [INFO] - [cached since 39.1s ago] ()
2025-03-26 22:30:03,122 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-26 22:30:03,123 [INFO] - ROLLBACK
2025-03-26 22:30:03,127 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:03] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:30:03,183 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:30:05,906 [INFO] - BEGIN (implicit)
2025-03-26 22:30:05,907 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:30:05,907 [INFO] - [cached since 44.44s ago] (1,)
2025-03-26 22:30:05,908 [INFO] - BEGIN (implicit)
2025-03-26 22:30:05,908 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:05,908 [INFO] - [cached since 44.44s ago] (3050, 1, 0)
2025-03-26 22:30:05,909 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:30:05,909 [INFO] - [cached since 44.4s ago] ()
2025-03-26 22:30:05,911 [INFO] - ROLLBACK
2025-03-26 22:30:05,911 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:05] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-26 22:30:05,980 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:30:09,415 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,439 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:30:09,439 [INFO] - [cached since 47.98s ago] (1,)
2025-03-26 22:30:09,441 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,441 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:09,441 [INFO] - [cached since 45.5s ago] (3050, 1, 0)
2025-03-26 22:30:09,442 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:30:09,443 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,443 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:09,443 [INFO] - [cached since 45.5s ago] ('user1', 1, 0)
2025-03-26 22:30:09,444 [INFO] - ROLLBACK
2025-03-26 22:30:09,445 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,445 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:09,445 [INFO] - [cached since 45.5s ago] (3050, 1, 0)
2025-03-26 22:30:09,447 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-26 22:30:09,447 [INFO] - [cached since 45.49s ago] (71,)
2025-03-26 22:30:09,449 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-26 22:30:09,449 [INFO] - [cached since 45.49s ago] (71,)
2025-03-26 22:30:09,450 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 22:30:09,450 [INFO] - [cached since 45.5s ago] (71,)
2025-03-26 22:30:09,452 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 22:30:09,452 [INFO] - [cached since 45.5s ago] (71,)
2025-03-26 22:30:09,453 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-26 22:30:09,453 [INFO] - [cached since 45.5s ago] (71,)
2025-03-26 22:30:09,454 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 22:30:09,454 [INFO] - [cached since 45.49s ago] (71,)
2025-03-26 22:30:09,454 [INFO] - COMMIT
2025-03-26 22:30:09,482 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-26 22:30:09,482 [INFO] - ROLLBACK
2025-03-26 22:30:09,483 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:09] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-26 22:30:09,497 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,497 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:30:09,497 [INFO] - [cached since 48.03s ago] (1,)
2025-03-26 22:30:09,497 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:30:09,498 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,498 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:30:09,498 [INFO] - [cached since 45.56s ago] ('user1', 1, 0)
2025-03-26 22:30:09,498 [INFO] - ROLLBACK
2025-03-26 22:30:09,498 [INFO] - BEGIN (implicit)
2025-03-26 22:30:09,498 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:30:09,498 [INFO] - [cached since 45.49s ago] ()
2025-03-26 22:30:09,519 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 22:30:09,519 [INFO] - ROLLBACK
2025-03-26 22:30:09,522 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:09] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:30:09,577 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:30:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:31:29,186 [INFO] - BEGIN (implicit)
2025-03-26 22:31:29,188 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:31:29,188 [INFO] - [cached since 127.7s ago] (1,)
2025-03-26 22:31:29,478 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:31:29,479 [INFO] - BEGIN (implicit)
2025-03-26 22:31:29,479 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:31:29,479 [INFO] - [cached since 125.5s ago] ('user1', 1, 0)
2025-03-26 22:31:29,480 [INFO] - ROLLBACK
2025-03-26 22:31:29,480 [INFO] - BEGIN (implicit)
2025-03-26 22:31:29,484 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:31:29,484 [INFO] - [generated in 0.00012s] ()
2025-03-26 22:31:29,521 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-26 22:31:29,521 [INFO] - ROLLBACK
2025-03-26 22:31:29,539 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:31:29] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:31:29,595 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:31:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:31:32,985 [INFO] - BEGIN (implicit)
2025-03-26 22:31:32,986 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:31:32,986 [INFO] - [cached since 131.5s ago] (1,)
2025-03-26 22:31:32,987 [INFO] - BEGIN (implicit)
2025-03-26 22:31:32,987 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:31:32,987 [INFO] - [cached since 131.5s ago] ()
2025-03-26 22:31:32,991 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:31:32,991 [INFO] - [generated in 0.00026s] ()
2025-03-26 22:31:32,992 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:31:32,992 [INFO] - [generated in 0.00014s] ()
2025-03-26 22:31:33,035 [INFO] - ROLLBACK
2025-03-26 22:31:33,035 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:31:33] "GET /admin/teacher/new HTTP/1.1" 200 -
2025-03-26 22:31:33,078 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:31:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:31:54,411 [INFO] - BEGIN (implicit)
2025-03-26 22:31:54,412 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:31:54,412 [INFO] - [cached since 153s ago] (1,)
2025-03-26 22:31:54,413 [INFO] - BEGIN (implicit)
2025-03-26 22:31:54,413 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:31:54,413 [INFO] - [cached since 152.9s ago] ()
2025-03-26 22:31:54,413 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:31:54,413 [INFO] - [cached since 21.42s ago] ()
2025-03-26 22:31:54,414 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:31:54,414 [INFO] - [cached since 21.42s ago] ()
2025-03-26 22:31:54,419 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:31:54,420 [INFO] - BEGIN (implicit)
2025-03-26 22:31:54,420 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:31:54,420 [INFO] - [cached since 150.5s ago] ('user1', 1, 0)
2025-03-26 22:31:54,421 [INFO] - ROLLBACK
2025-03-26 22:31:54,423 [INFO] - ROLLBACK
2025-03-26 22:31:54,423 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:31:54] "POST /admin/teacher/new HTTP/1.1" 200 -
2025-03-26 22:31:54,456 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:31:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:33:48,274 [INFO] - BEGIN (implicit)
2025-03-26 22:33:48,274 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:33:48,274 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:33:48,276 [INFO] - [raw sql] ()
2025-03-26 22:33:48,276 [INFO] - COMMIT
2025-03-26 22:33:48,286 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:33:48,286 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:33:55,655 [INFO] - BEGIN (implicit)
2025-03-26 22:33:55,657 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:33:55,660 [INFO] - [generated in 0.00012s] (1,)
2025-03-26 22:33:55,712 [INFO] - BEGIN (implicit)
2025-03-26 22:33:55,712 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:33:55,712 [INFO] - [generated in 0.00009s] ()
2025-03-26 22:33:55,715 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:33:55,715 [INFO] - [generated in 0.00008s] ()
2025-03-26 22:33:55,715 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:33:55,715 [INFO] - [generated in 0.00007s] ()
2025-03-26 22:33:55,768 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:33:55,768 [INFO] - BEGIN (implicit)
2025-03-26 22:33:55,769 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:33:55,769 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-26 22:33:55,770 [INFO] - ROLLBACK
2025-03-26 22:33:55,800 [INFO] - ROLLBACK
2025-03-26 22:33:55,801 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:33:55] "POST /admin/teacher/new HTTP/1.1" 200 -
2025-03-26 22:33:55,858 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:33:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:41:48,969 [INFO] - BEGIN (implicit)
2025-03-26 22:41:48,969 [INFO] - PRAGMA main.table_info("users")
2025-03-26 22:41:48,969 [INFO] - [raw sql] ()
2025-03-26 22:41:48,971 [INFO] - PRAGMA main.table_info("students")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("schedule")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("grades")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("admins")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("classes")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("teachers")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("subjects")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("attendance")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - PRAGMA main.table_info("homework")
2025-03-26 22:41:48,972 [INFO] - [raw sql] ()
2025-03-26 22:41:48,972 [INFO] - COMMIT
2025-03-26 22:41:48,983 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-26 22:41:48,983 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-26 22:41:55,159 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,161 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:41:55,161 [INFO] - [generated in 0.00014s] (1,)
2025-03-26 22:41:55,162 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,163 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:41:55,163 [INFO] - [generated in 0.00010s] ()
2025-03-26 22:41:55,165 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:41:55,165 [INFO] - [generated in 0.00008s] ()
2025-03-26 22:41:55,166 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:41:55,166 [INFO] - [generated in 0.00007s] ()
2025-03-26 22:41:55,213 [INFO] - POST /api/admin/teacher - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:41:55,213 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,214 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:41:55,214 [INFO] - [generated in 0.00008s] ('user1', 1, 0)
2025-03-26 22:41:55,215 [INFO] - ROLLBACK
2025-03-26 22:41:55,215 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,216 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:41:55,216 [INFO] - [generated in 0.00006s] (2, 1, 0)
2025-03-26 22:41:55,216 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-26 22:41:55,216 [INFO] - [generated in 0.00006s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-26 22:41:55,217 [INFO] - SELECT max(teachers.teacher_id) AS max_1 
FROM teachers
2025-03-26 22:41:55,217 [INFO] - [generated in 0.00005s] ()
2025-03-26 22:41:55,305 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-26 22:41:55,305 [INFO] - [generated in 0.00015s] ('user71', 'scrypt:32768:8:1$iZDF7N1My7MZJI8R$2131cdbd9757d0e1876fe60140fda46ae73af6284313d02f7c8d6627c393f91bda88f3eb98d67f4aa779a859c74394ca92318069f39b08cb847934b11cb3cec9', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', None)
2025-03-26 22:41:55,359 [INFO] - INSERT INTO teachers (user_id, teacher_id) VALUES (?, ?)
2025-03-26 22:41:55,359 [INFO] - [generated in 0.00009s] (71, 4015)
2025-03-26 22:41:55,360 [INFO] - INSERT INTO teacher_position_assignments (teacher_id, position_id, class_id, subject_id) VALUES (?, ?, ?, ?)
2025-03-26 22:41:55,360 [INFO] - [generated in 0.00008s] (4015, 2, None, None)
2025-03-26 22:41:55,361 [INFO] - COMMIT
2025-03-26 22:41:55,411 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,412 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-26 22:41:55,412 [INFO] - [generated in 0.00009s] (71,)
2025-03-26 22:41:55,412 [INFO] - POST /api/admin/teacher - Teacher 4015 created by user user71
2025-03-26 22:41:55,412 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:41:55,412 [INFO] - [generated in 0.00006s] (71,)
2025-03-26 22:41:55,412 [INFO] - ROLLBACK
2025-03-26 22:41:55,412 [INFO] - ROLLBACK
2025-03-26 22:41:55,413 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:41:55] "[32mPOST /admin/teacher/new HTTP/1.1[0m" 302 -
2025-03-26 22:41:55,421 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,421 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:41:55,421 [INFO] - [cached since 0.2607s ago] (1,)
2025-03-26 22:41:55,421 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:41:55,422 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,422 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:41:55,422 [INFO] - [cached since 0.2077s ago] ('user1', 1, 0)
2025-03-26 22:41:55,422 [INFO] - ROLLBACK
2025-03-26 22:41:55,422 [INFO] - BEGIN (implicit)
2025-03-26 22:41:55,426 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:41:55,426 [INFO] - [generated in 0.00008s] ()
2025-03-26 22:41:55,635 [INFO] - GET /api/admin/teachers - Retrieved 19 teachers by user1
2025-03-26 22:41:55,635 [INFO] - ROLLBACK
2025-03-26 22:41:55,676 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:41:55] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:41:55,740 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:41:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:41:58,624 [INFO] - BEGIN (implicit)
2025-03-26 22:41:58,625 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:41:58,625 [INFO] - [cached since 3.465s ago] (1,)
2025-03-26 22:41:58,626 [INFO] - BEGIN (implicit)
2025-03-26 22:41:58,633 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:41:58,633 [INFO] - [generated in 0.00040s] (4015, 1, 0)
2025-03-26 22:41:58,635 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:41:58,635 [INFO] - [cached since 3.473s ago] ()
2025-03-26 22:41:58,636 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:41:58,636 [INFO] - [cached since 3.471s ago] ()
2025-03-26 22:41:58,637 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:41:58,637 [INFO] - [cached since 3.471s ago] ()
2025-03-26 22:41:58,677 [INFO] - ROLLBACK
2025-03-26 22:41:58,677 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:41:58] "GET /admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 22:41:58,722 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:41:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:03,973 [INFO] - BEGIN (implicit)
2025-03-26 22:42:03,974 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:03,974 [INFO] - [cached since 8.814s ago] (1,)
2025-03-26 22:42:03,975 [INFO] - BEGIN (implicit)
2025-03-26 22:42:03,975 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:03,975 [INFO] - [cached since 5.342s ago] (4015, 1, 0)
2025-03-26 22:42:03,976 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:42:03,976 [INFO] - [cached since 8.813s ago] ()
2025-03-26 22:42:03,976 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:42:03,976 [INFO] - [cached since 8.811s ago] ()
2025-03-26 22:42:03,977 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:42:03,977 [INFO] - [cached since 8.811s ago] ()
2025-03-26 22:42:03,980 [INFO] - PATCH /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:03,981 [INFO] - BEGIN (implicit)
2025-03-26 22:42:03,981 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:03,981 [INFO] - [cached since 8.767s ago] ('user1', 1, 0)
2025-03-26 22:42:03,982 [INFO] - ROLLBACK
2025-03-26 22:42:03,983 [INFO] - BEGIN (implicit)
2025-03-26 22:42:03,987 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:03,987 [INFO] - [generated in 0.00023s] (4015, 1, 0)
2025-03-26 22:42:03,989 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:03,989 [INFO] - [generated in 0.00014s] ('user71', 71, 1, 0)
2025-03-26 22:42:03,991 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:03,991 [INFO] - [generated in 0.00015s] ('kila280509@gmail.co', 71, 1, 0)
2025-03-26 22:42:03,992 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 22:42:03,992 [INFO] - [generated in 0.00015s] ('kila280509@gmail.co', 71)
2025-03-26 22:42:04,033 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:04,033 [INFO] - [cached since 8.817s ago] (2, 1, 0)
2025-03-26 22:42:04,034 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:04,034 [INFO] - [generated in 0.00008s] (4015, 2, 1, 0)
2025-03-26 22:42:04,034 [INFO] - COMMIT
2025-03-26 22:42:04,059 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user1: {'username': 'user71', 'first_name': 'Илья', 'last_name': 'Коротков', 'email': 'kila280509@gmail.co', 'phone_number': '9810200877', 'position_id': 2}
2025-03-26 22:42:04,060 [INFO] - BEGIN (implicit)
2025-03-26 22:42:04,061 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-26 22:42:04,061 [INFO] - [generated in 0.00010s] (71,)
2025-03-26 22:42:04,062 [INFO] - ROLLBACK
2025-03-26 22:42:04,062 [INFO] - ROLLBACK
2025-03-26 22:42:04,062 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:04] "[32mPOST /admin/teacher/4015 HTTP/1.1[0m" 302 -
2025-03-26 22:42:04,066 [INFO] - BEGIN (implicit)
2025-03-26 22:42:04,066 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:04,066 [INFO] - [cached since 8.906s ago] (1,)
2025-03-26 22:42:04,066 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:04,067 [INFO] - BEGIN (implicit)
2025-03-26 22:42:04,067 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:04,067 [INFO] - [cached since 8.853s ago] ('user1', 1, 0)
2025-03-26 22:42:04,068 [INFO] - ROLLBACK
2025-03-26 22:42:04,068 [INFO] - BEGIN (implicit)
2025-03-26 22:42:04,069 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:04,069 [INFO] - [cached since 8.643s ago] ()
2025-03-26 22:42:04,074 [INFO] - GET /api/admin/teachers - Retrieved 19 teachers by user1
2025-03-26 22:42:04,074 [INFO] - ROLLBACK
2025-03-26 22:42:04,076 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:04] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:42:04,138 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:04] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:06,294 [INFO] - BEGIN (implicit)
2025-03-26 22:42:06,296 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:06,296 [INFO] - [cached since 11.14s ago] (1,)
2025-03-26 22:42:06,300 [INFO] - BEGIN (implicit)
2025-03-26 22:42:06,301 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:06,301 [INFO] - [cached since 7.668s ago] (4015, 1, 0)
2025-03-26 22:42:06,302 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:42:06,302 [INFO] - [cached since 11.14s ago] ()
2025-03-26 22:42:06,303 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:42:06,303 [INFO] - [cached since 11.14s ago] ()
2025-03-26 22:42:06,303 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:42:06,304 [INFO] - [cached since 11.14s ago] ()
2025-03-26 22:42:06,307 [INFO] - ROLLBACK
2025-03-26 22:42:06,308 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:06] "GET /admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 22:42:06,374 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:11,198 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,199 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:11,199 [INFO] - [cached since 16.04s ago] (1,)
2025-03-26 22:42:11,201 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,201 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:11,201 [INFO] - [cached since 12.57s ago] (4015, 1, 0)
2025-03-26 22:42:11,202 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:42:11,202 [INFO] - [cached since 16.04s ago] ()
2025-03-26 22:42:11,202 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:42:11,202 [INFO] - [cached since 16.04s ago] ()
2025-03-26 22:42:11,203 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:42:11,203 [INFO] - [cached since 16.04s ago] ()
2025-03-26 22:42:11,207 [INFO] - PATCH /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:11,208 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,208 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:11,208 [INFO] - [cached since 15.99s ago] ('user1', 1, 0)
2025-03-26 22:42:11,212 [INFO] - ROLLBACK
2025-03-26 22:42:11,213 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,213 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:11,213 [INFO] - [cached since 7.226s ago] (4015, 1, 0)
2025-03-26 22:42:11,214 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:11,214 [INFO] - [cached since 7.225s ago] ('user71', 71, 1, 0)
2025-03-26 22:42:11,215 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:11,215 [INFO] - [cached since 7.225s ago] ('kila280509@gmail.com', 71, 1, 0)
2025-03-26 22:42:11,216 [INFO] - UPDATE users SET email=? WHERE users.user_id = ?
2025-03-26 22:42:11,216 [INFO] - [cached since 7.224s ago] ('kila280509@gmail.com', 71)
2025-03-26 22:42:11,217 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:11,218 [INFO] - [cached since 16s ago] (2, 1, 0)
2025-03-26 22:42:11,218 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:11,218 [INFO] - [cached since 7.185s ago] (4015, 2, 1, 0)
2025-03-26 22:42:11,218 [INFO] - COMMIT
2025-03-26 22:42:11,270 [INFO] - PATCH /api/admin/teacher/4015 - Updated by user user1: {'username': 'user71', 'first_name': 'Илья', 'last_name': 'Коротков', 'email': 'kila280509@gmail.com', 'phone_number': '9810200877', 'position_id': 2}
2025-03-26 22:42:11,270 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,270 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-26 22:42:11,270 [INFO] - [cached since 7.209s ago] (71,)
2025-03-26 22:42:11,271 [INFO] - ROLLBACK
2025-03-26 22:42:11,272 [INFO] - ROLLBACK
2025-03-26 22:42:11,272 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:11] "[32mPOST /admin/teacher/4015 HTTP/1.1[0m" 302 -
2025-03-26 22:42:11,279 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,279 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:11,279 [INFO] - [cached since 16.12s ago] (1,)
2025-03-26 22:42:11,279 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:11,279 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,279 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:11,279 [INFO] - [cached since 16.07s ago] ('user1', 1, 0)
2025-03-26 22:42:11,279 [INFO] - ROLLBACK
2025-03-26 22:42:11,280 [INFO] - BEGIN (implicit)
2025-03-26 22:42:11,280 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:11,280 [INFO] - [cached since 15.85s ago] ()
2025-03-26 22:42:11,290 [INFO] - GET /api/admin/teachers - Retrieved 19 teachers by user1
2025-03-26 22:42:11,290 [INFO] - ROLLBACK
2025-03-26 22:42:11,292 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:11] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:42:11,363 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:11] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:13,713 [INFO] - BEGIN (implicit)
2025-03-26 22:42:13,714 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:13,714 [INFO] - [cached since 18.55s ago] (1,)
2025-03-26 22:42:13,715 [INFO] - BEGIN (implicit)
2025-03-26 22:42:13,715 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:13,716 [INFO] - [cached since 15.08s ago] (4015, 1, 0)
2025-03-26 22:42:13,716 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-26 22:42:13,717 [INFO] - [cached since 18.55s ago] ()
2025-03-26 22:42:13,717 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-26 22:42:13,717 [INFO] - [cached since 18.55s ago] ()
2025-03-26 22:42:13,718 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-26 22:42:13,718 [INFO] - [cached since 18.55s ago] ()
2025-03-26 22:42:13,721 [INFO] - ROLLBACK
2025-03-26 22:42:13,722 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:13] "GET /admin/teacher/4015 HTTP/1.1" 200 -
2025-03-26 22:42:13,765 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:19,567 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,570 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:19,570 [INFO] - [cached since 24.41s ago] (1,)
2025-03-26 22:42:19,571 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,573 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:19,574 [INFO] - [generated in 0.00075s] (4015, 1, 0)
2025-03-26 22:42:19,574 [INFO] - DELETE /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:19,574 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,574 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:19,574 [INFO] - [cached since 24.36s ago] ('user1', 1, 0)
2025-03-26 22:42:19,575 [INFO] - ROLLBACK
2025-03-26 22:42:19,575 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,577 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:19,577 [INFO] - [generated in 0.00010s] (4015, 1, 0)
2025-03-26 22:42:19,580 [INFO] - DELETE FROM teacher_position_assignments WHERE teacher_position_assignments.teacher_id = ?
2025-03-26 22:42:19,580 [INFO] - [generated in 0.00009s] (4015,)
2025-03-26 22:42:19,583 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE ? = classes.teacher_id
2025-03-26 22:42:19,583 [INFO] - [generated in 0.00009s] (4015,)
2025-03-26 22:42:19,584 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE ? = schedule.teacher_id
2025-03-26 22:42:19,584 [INFO] - [generated in 0.00028s] (4015,)
2025-03-26 22:42:19,589 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE ? = teacher_position_assignments.teacher_id
2025-03-26 22:42:19,589 [INFO] - [generated in 0.00010s] (4015,)
2025-03-26 22:42:19,591 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-26 22:42:19,591 [INFO] - [generated in 0.00024s] (71,)
2025-03-26 22:42:19,592 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-26 22:42:19,593 [INFO] - [generated in 0.00020s] (71,)
2025-03-26 22:42:19,595 [INFO] - DELETE FROM teachers WHERE teachers.user_id = ?
2025-03-26 22:42:19,595 [INFO] - [generated in 0.00014s] (71,)
2025-03-26 22:42:19,595 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-26 22:42:19,595 [INFO] - [generated in 0.00014s] (71,)
2025-03-26 22:42:19,596 [INFO] - COMMIT
2025-03-26 22:42:19,604 [INFO] - DELETE /api/admin/teacher/4015 - Deleted by user user1
2025-03-26 22:42:19,604 [INFO] - ROLLBACK
2025-03-26 22:42:19,605 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:19] "POST /admin/teacher/4015/delete HTTP/1.1" 200 -
2025-03-26 22:42:19,626 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,626 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:19,626 [INFO] - [cached since 24.47s ago] (1,)
2025-03-26 22:42:19,626 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:19,627 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,627 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:19,627 [INFO] - [cached since 24.41s ago] ('user1', 1, 0)
2025-03-26 22:42:19,628 [INFO] - ROLLBACK
2025-03-26 22:42:19,629 [INFO] - BEGIN (implicit)
2025-03-26 22:42:19,629 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:19,629 [INFO] - [cached since 24.2s ago] ()
2025-03-26 22:42:19,661 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-26 22:42:19,661 [INFO] - ROLLBACK
2025-03-26 22:42:19,664 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:19] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:42:19,720 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:46,658 [INFO] - BEGIN (implicit)
2025-03-26 22:42:46,661 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:46,661 [INFO] - [cached since 51.5s ago] (1,)
2025-03-26 22:42:46,711 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:46,711 [INFO] - BEGIN (implicit)
2025-03-26 22:42:46,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:46,711 [INFO] - [cached since 51.5s ago] ('user1', 1, 0)
2025-03-26 22:42:46,712 [INFO] - ROLLBACK
2025-03-26 22:42:46,712 [INFO] - BEGIN (implicit)
2025-03-26 22:42:46,712 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:46,712 [INFO] - [cached since 51.29s ago] ()
2025-03-26 22:42:46,723 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-26 22:42:46,723 [INFO] - ROLLBACK
2025-03-26 22:42:46,725 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:46] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:42:46,764 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:47,373 [INFO] - BEGIN (implicit)
2025-03-26 22:42:47,374 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:47,374 [INFO] - [cached since 52.21s ago] (1,)
2025-03-26 22:42:47,375 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:47,375 [INFO] - BEGIN (implicit)
2025-03-26 22:42:47,376 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:47,376 [INFO] - [cached since 52.16s ago] ('user1', 1, 0)
2025-03-26 22:42:47,376 [INFO] - ROLLBACK
2025-03-26 22:42:47,377 [INFO] - BEGIN (implicit)
2025-03-26 22:42:47,381 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:42:47,382 [INFO] - [generated in 0.00030s] ()
2025-03-26 22:42:47,597 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 22:42:47,597 [INFO] - ROLLBACK
2025-03-26 22:42:47,616 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:47] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:42:47,661 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:48,093 [INFO] - BEGIN (implicit)
2025-03-26 22:42:48,093 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:48,093 [INFO] - [cached since 52.93s ago] (1,)
2025-03-26 22:42:48,094 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:48,094 [INFO] - BEGIN (implicit)
2025-03-26 22:42:48,095 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:48,095 [INFO] - [cached since 52.88s ago] ('user1', 1, 0)
2025-03-26 22:42:48,096 [INFO] - ROLLBACK
2025-03-26 22:42:48,097 [INFO] - BEGIN (implicit)
2025-03-26 22:42:48,097 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-26 22:42:48,097 [INFO] - [cached since 52.67s ago] ()
2025-03-26 22:42:48,112 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-26 22:42:48,112 [INFO] - ROLLBACK
2025-03-26 22:42:48,115 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:48] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-26 22:42:48,164 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:48] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-26 22:42:48,798 [INFO] - BEGIN (implicit)
2025-03-26 22:42:48,798 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-26 22:42:48,799 [INFO] - [cached since 53.64s ago] (1,)
2025-03-26 22:42:48,800 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-26 22:42:48,801 [INFO] - BEGIN (implicit)
2025-03-26 22:42:48,801 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-26 22:42:48,801 [INFO] - [cached since 53.59s ago] ('user1', 1, 0)
2025-03-26 22:42:48,802 [INFO] - ROLLBACK
2025-03-26 22:42:48,802 [INFO] - BEGIN (implicit)
2025-03-26 22:42:48,803 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-26 22:42:48,803 [INFO] - [cached since 1.421s ago] ()
2025-03-26 22:42:48,807 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-26 22:42:48,808 [INFO] - ROLLBACK
2025-03-26 22:42:48,815 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:48] "GET /admin/students HTTP/1.1" 200 -
2025-03-26 22:42:48,855 [INFO] - 127.0.0.1 - - [26/Mar/2025 22:42:48] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:21:28,007 [INFO] - BEGIN (implicit)
2025-03-27 13:21:28,007 [INFO] - PRAGMA main.table_info("users")
2025-03-27 13:21:28,007 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("students")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("schedule")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("grades")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("admins")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("classes")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("teachers")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("subjects")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,018 [INFO] - PRAGMA main.table_info("attendance")
2025-03-27 13:21:28,018 [INFO] - [raw sql] ()
2025-03-27 13:21:28,019 [INFO] - PRAGMA main.table_info("homework")
2025-03-27 13:21:28,019 [INFO] - [raw sql] ()
2025-03-27 13:21:28,019 [INFO] - COMMIT
2025-03-27 13:21:28,042 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-27 13:21:28,042 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-27 13:21:32,710 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:32] "[32mGET /admin/students HTTP/1.1[0m" 302 -
2025-03-27 13:21:32,769 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:32] "GET /admin/login HTTP/1.1" 200 -
2025-03-27 13:21:32,825 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:21:32,909 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:32] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-27 13:21:36,930 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:36] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 13:21:36,941 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:21:38,450 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:38] "GET / HTTP/1.1" 200 -
2025-03-27 13:21:55,085 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:55] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 13:21:55,111 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:55] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:21:56,521 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:56] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 13:21:56,594 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:21:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:22:09,058 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:09] "GET /admin/login HTTP/1.1" 200 -
2025-03-27 13:22:09,096 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:22:21,862 [INFO] - BEGIN (implicit)
2025-03-27 13:22:21,865 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:22:21,865 [INFO] - [generated in 0.00020s] ('user1', 1, 0)
2025-03-27 13:22:21,998 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:21] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-27 13:22:22,006 [INFO] - BEGIN (implicit)
2025-03-27 13:22:22,007 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:22:22,008 [INFO] - [generated in 0.00052s] (1,)
2025-03-27 13:22:22,015 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:22] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 13:22:22,082 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:22:31,947 [INFO] - BEGIN (implicit)
2025-03-27 13:22:31,948 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:22:31,949 [INFO] - [cached since 9.941s ago] (1,)
2025-03-27 13:22:31,950 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:22:31,951 [INFO] - BEGIN (implicit)
2025-03-27 13:22:31,952 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:22:31,952 [INFO] - [cached since 10.09s ago] ('user1', 1, 0)
2025-03-27 13:22:31,953 [INFO] - ROLLBACK
2025-03-27 13:22:31,954 [INFO] - BEGIN (implicit)
2025-03-27 13:22:31,960 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-27 13:22:31,960 [INFO] - [generated in 0.00021s] ()
2025-03-27 13:22:32,281 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-27 13:22:32,281 [INFO] - ROLLBACK
2025-03-27 13:22:32,298 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:32] "GET /admin/students HTTP/1.1" 200 -
2025-03-27 13:22:32,342 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:22:39,702 [INFO] - BEGIN (implicit)
2025-03-27 13:22:39,705 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:22:39,705 [INFO] - [cached since 17.7s ago] (1,)
2025-03-27 13:22:39,708 [INFO] - BEGIN (implicit)
2025-03-27 13:22:39,709 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 13:22:39,709 [INFO] - [generated in 0.00033s] ()
2025-03-27 13:22:39,755 [INFO] - ROLLBACK
2025-03-27 13:22:39,755 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:39] "GET /admin/student/new HTTP/1.1" 200 -
2025-03-27 13:22:39,794 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:22:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:23:59,333 [INFO] - BEGIN (implicit)
2025-03-27 13:23:59,335 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:23:59,335 [INFO] - [cached since 97.33s ago] (1,)
2025-03-27 13:23:59,337 [INFO] - BEGIN (implicit)
2025-03-27 13:23:59,337 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 13:23:59,337 [INFO] - [cached since 79.63s ago] ()
2025-03-27 13:23:59,728 [INFO] - POST /api/admin/student - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:23:59,728 [INFO] - BEGIN (implicit)
2025-03-27 13:23:59,728 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:23:59,728 [INFO] - [cached since 97.86s ago] ('user1', 1, 0)
2025-03-27 13:23:59,729 [INFO] - ROLLBACK
2025-03-27 13:23:59,729 [INFO] - BEGIN (implicit)
2025-03-27 13:23:59,730 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 13:23:59,730 [INFO] - [generated in 0.00007s] (9, 1, 0)
2025-03-27 13:23:59,730 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? OR users.email = ?
 LIMIT ? OFFSET ?
2025-03-27 13:23:59,730 [INFO] - [generated in 0.00007s] ('user71', 'kila280509@gmail.com', 1, 0)
2025-03-27 13:23:59,731 [INFO] - SELECT max(students.student_id) AS max_1 
FROM students
2025-03-27 13:23:59,731 [INFO] - [generated in 0.00005s] ()
2025-03-27 13:23:59,824 [INFO] - INSERT INTO users (username, password_hash, first_name, last_name, email, phone_number, profile_picture, api_key) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-03-27 13:23:59,824 [INFO] - [generated in 0.00019s] ('user71', 'scrypt:32768:8:1$5lorIaRfkE5wP94S$5804d4fb9bf8761fcda4d4620b0392a0aaafcb3647b70726623aadb1548e4f7956ec0b92e5ad8b075f7b5cf03589c728942d027f25f2ffb72435b3ceaaca4fa5', 'Илья', 'Коротков', 'kila280509@gmail.com', '9810200877', 'iVBORw0KGgoAAAANSUhEUgAAA4QAAAJPCAYAAAAkFhr4AABV8klEQVR42u3dS24syZUt0JpgTYgNDoldDilBQI3qCGxkQw+mKtOztAwPt8/x/wpgI6skXd2lcIYf2zQP9//6V/Drf/7nf0LDx8fHx ... (29114 characters truncated) ... Pj4+Pj4+Pj4+PTyF0QPj4+Pj4+Pj4+Pj4+BRCB4SPj4+Pj4+Pj4+Pj08hdED4+Pj4+Pj4+Pj4+PgUQgeEj4+Pj4+Pj4+Pj49PIXRA+Pj4+Pj4+Pj4+Pj4zuj7f7KI6N5CPvSWAAAAAElFTkSuQmCC', 'ab0d3a06-58dd-439c-b7f6-a05c1cf0aef2')
2025-03-27 13:23:59,848 [INFO] - INSERT INTO students (user_id, student_id, class_id, birth_date, address) VALUES (?, ?, ?, ?, ?)
2025-03-27 13:23:59,848 [INFO] - [generated in 0.00014s] (71, 3050, 9, '2009-05-28', 'Парковая 18 к3')
2025-03-27 13:23:59,849 [INFO] - COMMIT
2025-03-27 13:23:59,994 [INFO] - BEGIN (implicit)
2025-03-27 13:23:59,994 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
2025-03-27 13:23:59,994 [INFO] - [generated in 0.00009s] (9,)
2025-03-27 13:23:59,995 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.user_id = ?
2025-03-27 13:23:59,995 [INFO] - [generated in 0.00007s] (71,)
2025-03-27 13:23:59,995 [INFO] - POST /api/admin/student - Student 3050 created by user user71
2025-03-27 13:23:59,996 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:23:59,996 [INFO] - [generated in 0.00009s] (71,)
2025-03-27 13:23:59,996 [INFO] - ROLLBACK
2025-03-27 13:23:59,996 [INFO] - ROLLBACK
2025-03-27 13:23:59,996 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:23:59] "[32mPOST /admin/student/new HTTP/1.1[0m" 302 -
2025-03-27 13:24:00,000 [INFO] - BEGIN (implicit)
2025-03-27 13:24:00,000 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:00,000 [INFO] - [cached since 97.99s ago] (1,)
2025-03-27 13:24:00,001 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:24:00,001 [INFO] - BEGIN (implicit)
2025-03-27 13:24:00,001 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:00,001 [INFO] - [cached since 98.14s ago] ('user1', 1, 0)
2025-03-27 13:24:00,002 [INFO] - ROLLBACK
2025-03-27 13:24:00,004 [INFO] - BEGIN (implicit)
2025-03-27 13:24:00,005 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-27 13:24:00,005 [INFO] - [cached since 88.04s ago] ()
2025-03-27 13:24:00,041 [INFO] - GET /api/admin/students - Retrieved 51 students by user1
2025-03-27 13:24:00,041 [INFO] - ROLLBACK
2025-03-27 13:24:00,045 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:00] "GET /admin/students HTTP/1.1" 200 -
2025-03-27 13:24:00,093 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:00] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:24:13,100 [INFO] - BEGIN (implicit)
2025-03-27 13:24:13,102 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:13,102 [INFO] - [cached since 111.1s ago] (1,)
2025-03-27 13:24:13,105 [INFO] - BEGIN (implicit)
2025-03-27 13:24:13,109 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:13,109 [INFO] - [generated in 0.00018s] (3050, 1, 0)
2025-03-27 13:24:13,111 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 13:24:13,111 [INFO] - [cached since 93.4s ago] ()
2025-03-27 13:24:13,157 [INFO] - ROLLBACK
2025-03-27 13:24:13,157 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:13] "GET /admin/student/3050 HTTP/1.1" 200 -
2025-03-27 13:24:13,206 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:13] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:24:24,135 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,136 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:24,137 [INFO] - [cached since 122.1s ago] (1,)
2025-03-27 13:24:24,139 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,141 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address 
FROM students 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:24,141 [INFO] - [generated in 0.00034s] (3050, 1, 0)
2025-03-27 13:24:24,141 [INFO] - DELETE /api/admin/student/<student_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:24:24,142 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,143 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:24,143 [INFO] - [cached since 122.3s ago] ('user1', 1, 0)
2025-03-27 13:24:24,143 [INFO] - ROLLBACK
2025-03-27 13:24:24,144 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,146 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id 
WHERE students.student_id = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:24,146 [INFO] - [generated in 0.00021s] (3050, 1, 0)
2025-03-27 13:24:24,151 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.student_id
2025-03-27 13:24:24,151 [INFO] - [generated in 0.00018s] (71,)
2025-03-27 13:24:24,155 [INFO] - SELECT attendance.attendance_id AS attendance_attendance_id, attendance.student_id AS attendance_student_id, attendance.date AS attendance_date, attendance.status AS attendance_status 
FROM attendance 
WHERE ? = attendance.student_id
2025-03-27 13:24:24,155 [INFO] - [generated in 0.00023s] (71,)
2025-03-27 13:24:24,156 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.user_id = ?
2025-03-27 13:24:24,157 [INFO] - [generated in 0.00013s] (71,)
2025-03-27 13:24:24,159 [INFO] - SELECT admins.user_id AS admins_user_id, admins.admin_id AS admins_admin_id 
FROM admins 
WHERE admins.user_id = ?
2025-03-27 13:24:24,159 [INFO] - [generated in 0.00011s] (71,)
2025-03-27 13:24:24,160 [INFO] - DELETE FROM students WHERE students.user_id = ?
2025-03-27 13:24:24,161 [INFO] - [generated in 0.00016s] (71,)
2025-03-27 13:24:24,212 [INFO] - DELETE FROM users WHERE users.user_id = ?
2025-03-27 13:24:24,213 [INFO] - [generated in 0.00008s] (71,)
2025-03-27 13:24:24,213 [INFO] - COMMIT
2025-03-27 13:24:24,222 [INFO] - DELETE /api/admin/student/3050 - Deleted by user user1
2025-03-27 13:24:24,222 [INFO] - ROLLBACK
2025-03-27 13:24:24,222 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:24] "POST /admin/student/3050/delete HTTP/1.1" 200 -
2025-03-27 13:24:24,236 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:24,236 [INFO] - [cached since 122.2s ago] (1,)
2025-03-27 13:24:24,236 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:24:24,237 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,237 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:24,237 [INFO] - [cached since 122.4s ago] ('user1', 1, 0)
2025-03-27 13:24:24,237 [INFO] - ROLLBACK
2025-03-27 13:24:24,237 [INFO] - BEGIN (implicit)
2025-03-27 13:24:24,237 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-27 13:24:24,237 [INFO] - [cached since 112.3s ago] ()
2025-03-27 13:24:24,266 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-27 13:24:24,266 [INFO] - ROLLBACK
2025-03-27 13:24:24,270 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:24] "GET /admin/students HTTP/1.1" 200 -
2025-03-27 13:24:24,316 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:24] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:24:36,467 [INFO] - BEGIN (implicit)
2025-03-27 13:24:36,468 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:36,468 [INFO] - [cached since 134.5s ago] (1,)
2025-03-27 13:24:36,506 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:24:36,506 [INFO] - BEGIN (implicit)
2025-03-27 13:24:36,507 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:36,507 [INFO] - [cached since 134.6s ago] ('user1', 1, 0)
2025-03-27 13:24:36,508 [INFO] - ROLLBACK
2025-03-27 13:24:36,508 [INFO] - BEGIN (implicit)
2025-03-27 13:24:36,511 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 13:24:36,511 [INFO] - [generated in 0.00012s] ()
2025-03-27 13:24:36,553 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-27 13:24:36,553 [INFO] - ROLLBACK
2025-03-27 13:24:36,569 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:36] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-27 13:24:36,607 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:24:38,564 [INFO] - BEGIN (implicit)
2025-03-27 13:24:38,564 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:38,564 [INFO] - [cached since 136.6s ago] (1,)
2025-03-27 13:24:38,565 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 13:24:38,565 [INFO] - BEGIN (implicit)
2025-03-27 13:24:38,566 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 13:24:38,566 [INFO] - [cached since 136.7s ago] ('user1', 1, 0)
2025-03-27 13:24:38,566 [INFO] - ROLLBACK
2025-03-27 13:24:38,567 [INFO] - BEGIN (implicit)
2025-03-27 13:24:38,567 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 13:24:38,567 [INFO] - [cached since 2.057s ago] ()
2025-03-27 13:24:38,582 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-27 13:24:38,582 [INFO] - ROLLBACK
2025-03-27 13:24:38,586 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:38] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-27 13:24:38,631 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:24:46,859 [INFO] - BEGIN (implicit)
2025-03-27 13:24:46,861 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:46,861 [INFO] - [cached since 144.9s ago] (1,)
2025-03-27 13:24:46,863 [INFO] - BEGIN (implicit)
2025-03-27 13:24:46,871 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 13:24:46,871 [INFO] - [generated in 0.00036s] (2000, 1, 0)
2025-03-27 13:24:46,877 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 13:24:46,877 [INFO] - [cached since 127.2s ago] ()
2025-03-27 13:24:46,878 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-27 13:24:46,878 [INFO] - [generated in 0.00013s] ()
2025-03-27 13:24:46,879 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 13:24:46,879 [INFO] - [generated in 0.00011s] ()
2025-03-27 13:24:46,918 [INFO] - ROLLBACK
2025-03-27 13:24:46,918 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:46] "GET /admin/teacher/2000 HTTP/1.1" 200 -
2025-03-27 13:24:46,963 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 13:24:52,815 [INFO] - BEGIN (implicit)
2025-03-27 13:24:52,816 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 13:24:52,816 [INFO] - [cached since 150.8s ago] (1,)
2025-03-27 13:24:52,817 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:52] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-27 13:24:52,824 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:52] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 13:24:52,889 [INFO] - 127.0.0.1 - - [27/Mar/2025 13:24:52] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 18:40:21,176 [INFO] - 127.0.0.1 - - [27/Mar/2025 18:40:21] "[32mGET /admin/teachers HTTP/1.1[0m" 302 -
2025-03-27 18:40:21,185 [INFO] - 127.0.0.1 - - [27/Mar/2025 18:40:21] "GET /admin/login HTTP/1.1" 200 -
2025-03-27 18:40:21,266 [INFO] - 127.0.0.1 - - [27/Mar/2025 18:40:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 18:40:31,099 [INFO] - BEGIN (implicit)
2025-03-27 18:40:31,110 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 18:40:31,110 [INFO] - [cached since 1.909e+04s ago] ('user1', 1, 0)
2025-03-27 18:40:31,188 [INFO] - 127.0.0.1 - - [27/Mar/2025 18:40:31] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-27 18:40:31,193 [INFO] - BEGIN (implicit)
2025-03-27 18:40:31,194 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 18:40:31,194 [INFO] - [cached since 1.909e+04s ago] (1,)
2025-03-27 18:40:31,195 [INFO] - 127.0.0.1 - - [27/Mar/2025 18:40:31] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 18:40:31,269 [INFO] - 127.0.0.1 - - [27/Mar/2025 18:40:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:08:40,294 [INFO] - BEGIN (implicit)
2025-03-27 19:08:40,303 [INFO] - PRAGMA main.table_info("users")
2025-03-27 19:08:40,303 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("students")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("schedule")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("grades")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("admins")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("classes")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("teachers")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("subjects")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("attendance")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,304 [INFO] - PRAGMA main.table_info("homework")
2025-03-27 19:08:40,304 [INFO] - [raw sql] ()
2025-03-27 19:08:40,305 [INFO] - COMMIT
2025-03-27 19:08:40,320 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-27 19:08:40,320 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-27 19:09:15,652 [INFO] - BEGIN (implicit)
2025-03-27 19:09:15,669 [INFO] - PRAGMA main.table_info("users")
2025-03-27 19:09:15,670 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("students")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("schedule")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("grades")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("admins")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("classes")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("teachers")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,682 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-27 19:09:15,682 [INFO] - [raw sql] ()
2025-03-27 19:09:15,683 [INFO] - PRAGMA main.table_info("subjects")
2025-03-27 19:09:15,683 [INFO] - [raw sql] ()
2025-03-27 19:09:15,683 [INFO] - PRAGMA main.table_info("attendance")
2025-03-27 19:09:15,683 [INFO] - [raw sql] ()
2025-03-27 19:09:15,683 [INFO] - PRAGMA main.table_info("homework")
2025-03-27 19:09:15,683 [INFO] - [raw sql] ()
2025-03-27 19:09:15,683 [INFO] - COMMIT
2025-03-27 19:09:15,695 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-27 19:09:15,695 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-27 19:09:18,046 [INFO] - BEGIN (implicit)
2025-03-27 19:09:18,048 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:18,048 [INFO] - [generated in 0.00010s] (1,)
2025-03-27 19:09:18,052 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:18] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 19:09:18,128 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:18,879 [INFO] - BEGIN (implicit)
2025-03-27 19:09:18,879 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:18,879 [INFO] - [cached since 0.8316s ago] (1,)
2025-03-27 19:09:18,880 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:18] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 19:09:18,916 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:18] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:20,289 [INFO] - BEGIN (implicit)
2025-03-27 19:09:20,290 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:20,290 [INFO] - [cached since 2.242s ago] (1,)
2025-03-27 19:09:20,291 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:20,292 [INFO] - BEGIN (implicit)
2025-03-27 19:09:20,295 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:20,295 [INFO] - [generated in 0.00052s] ('user1', 1, 0)
2025-03-27 19:09:20,299 [INFO] - ROLLBACK
2025-03-27 19:09:20,299 [INFO] - BEGIN (implicit)
2025-03-27 19:09:20,305 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:09:20,306 [INFO] - [generated in 0.00022s] ()
2025-03-27 19:09:20,451 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:09:20,452 [INFO] - ROLLBACK
2025-03-27 19:09:20,456 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:20] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:09:20,511 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:20] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:39,034 [INFO] - BEGIN (implicit)
2025-03-27 19:09:39,036 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:39,036 [INFO] - [cached since 20.99s ago] (1,)
2025-03-27 19:09:39,040 [INFO] - BEGIN (implicit)
2025-03-27 19:09:39,047 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:39,047 [INFO] - [generated in 0.00039s] (1, 1, 0)
2025-03-27 19:09:39,054 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:39,054 [INFO] - [generated in 0.00012s] ()
2025-03-27 19:09:39,054 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:39,054 [INFO] - [generated in 0.00007s] ()
2025-03-27 19:09:39,055 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:39,056 [INFO] - [generated in 0.00010s] ()
2025-03-27 19:09:39,126 [INFO] - ROLLBACK
2025-03-27 19:09:39,126 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:39] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:09:39,165 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:45,180 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,181 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:45,181 [INFO] - [cached since 27.13s ago] (1,)
2025-03-27 19:09:45,182 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,182 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,182 [INFO] - [cached since 6.135s ago] (1, 1, 0)
2025-03-27 19:09:45,184 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:45,184 [INFO] - [cached since 6.13s ago] ()
2025-03-27 19:09:45,185 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:45,185 [INFO] - [cached since 6.13s ago] ()
2025-03-27 19:09:45,186 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:45,186 [INFO] - [cached since 6.13s ago] ()
2025-03-27 19:09:45,190 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:45,191 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,191 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,191 [INFO] - [cached since 24.89s ago] ('user1', 1, 0)
2025-03-27 19:09:45,192 [INFO] - ROLLBACK
2025-03-27 19:09:45,192 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,195 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,195 [INFO] - [generated in 0.00021s] (1, 1, 0)
2025-03-27 19:09:45,197 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,197 [INFO] - [generated in 0.00019s] (1, 1, 0)
2025-03-27 19:09:45,199 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,200 [INFO] - [generated in 0.00015s] (1, 1, 0)
2025-03-27 19:09:45,201 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,201 [INFO] - [generated in 0.00016s] (4006, 1, 0)
2025-03-27 19:09:45,204 [INFO] - UPDATE schedule SET day_of_week=? WHERE schedule.schedule_id = ?
2025-03-27 19:09:45,204 [INFO] - [generated in 0.00012s] ('Monday', 1)
2025-03-27 19:09:45,241 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,241 [INFO] - [generated in 0.00016s] (4006, 'Monday', '08:00', 1, 1, 0)
2025-03-27 19:09:45,241 [INFO] - COMMIT
2025-03-27 19:09:45,251 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:09:45,252 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,253 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:09:45,253 [INFO] - [generated in 0.00009s] (1,)
2025-03-27 19:09:45,254 [INFO] - ROLLBACK
2025-03-27 19:09:45,254 [INFO] - ROLLBACK
2025-03-27 19:09:45,254 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:45] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:09:45,259 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,259 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:45,259 [INFO] - [cached since 27.21s ago] (1,)
2025-03-27 19:09:45,259 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:45,259 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,259 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:45,259 [INFO] - [cached since 24.96s ago] ('user1', 1, 0)
2025-03-27 19:09:45,260 [INFO] - ROLLBACK
2025-03-27 19:09:45,260 [INFO] - BEGIN (implicit)
2025-03-27 19:09:45,261 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:09:45,261 [INFO] - [cached since 24.95s ago] ()
2025-03-27 19:09:45,266 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:09:45,266 [INFO] - ROLLBACK
2025-03-27 19:09:45,270 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:45] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:09:45,326 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:47,870 [INFO] - BEGIN (implicit)
2025-03-27 19:09:47,872 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:47,872 [INFO] - [cached since 29.82s ago] (1,)
2025-03-27 19:09:47,874 [INFO] - BEGIN (implicit)
2025-03-27 19:09:47,875 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:47,875 [INFO] - [cached since 8.828s ago] (1, 1, 0)
2025-03-27 19:09:47,877 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:47,877 [INFO] - [cached since 8.823s ago] ()
2025-03-27 19:09:47,878 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:47,878 [INFO] - [cached since 8.823s ago] ()
2025-03-27 19:09:47,878 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:47,878 [INFO] - [cached since 8.823s ago] ()
2025-03-27 19:09:47,888 [INFO] - ROLLBACK
2025-03-27 19:09:47,888 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:47] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:09:47,932 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:47] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:50,692 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,692 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:50,692 [INFO] - [cached since 32.64s ago] (1,)
2025-03-27 19:09:50,694 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,694 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,695 [INFO] - [cached since 11.65s ago] (1, 1, 0)
2025-03-27 19:09:50,696 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:50,696 [INFO] - [cached since 11.64s ago] ()
2025-03-27 19:09:50,697 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:50,697 [INFO] - [cached since 11.64s ago] ()
2025-03-27 19:09:50,698 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:50,698 [INFO] - [cached since 11.64s ago] ()
2025-03-27 19:09:50,703 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:50,703 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,704 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,704 [INFO] - [cached since 30.41s ago] ('user1', 1, 0)
2025-03-27 19:09:50,705 [INFO] - ROLLBACK
2025-03-27 19:09:50,705 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,706 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,706 [INFO] - [cached since 5.511s ago] (1, 1, 0)
2025-03-27 19:09:50,707 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,707 [INFO] - [cached since 5.51s ago] (2, 1, 0)
2025-03-27 19:09:50,708 [INFO] - UPDATE schedule SET class_id=? WHERE schedule.schedule_id = ?
2025-03-27 19:09:50,708 [INFO] - [generated in 0.00021s] (2, 1)
2025-03-27 19:09:50,755 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,755 [INFO] - [cached since 5.555s ago] (1, 1, 0)
2025-03-27 19:09:50,755 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,755 [INFO] - [cached since 5.554s ago] (4006, 1, 0)
2025-03-27 19:09:50,756 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,756 [INFO] - [cached since 5.515s ago] (4006, 'Monday', '08:00', 1, 1, 0)
2025-03-27 19:09:50,756 [INFO] - COMMIT
2025-03-27 19:09:50,769 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 2, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:09:50,769 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,769 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:09:50,769 [INFO] - [cached since 5.516s ago] (1,)
2025-03-27 19:09:50,771 [INFO] - ROLLBACK
2025-03-27 19:09:50,771 [INFO] - ROLLBACK
2025-03-27 19:09:50,771 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:50] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:09:50,778 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,778 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:50,778 [INFO] - [cached since 32.73s ago] (1,)
2025-03-27 19:09:50,778 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:50,779 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,779 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:50,779 [INFO] - [cached since 30.48s ago] ('user1', 1, 0)
2025-03-27 19:09:50,779 [INFO] - ROLLBACK
2025-03-27 19:09:50,779 [INFO] - BEGIN (implicit)
2025-03-27 19:09:50,779 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:09:50,779 [INFO] - [cached since 30.47s ago] ()
2025-03-27 19:09:50,786 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:09:50,786 [INFO] - ROLLBACK
2025-03-27 19:09:50,789 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:50] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:09:50,853 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:53,575 [INFO] - BEGIN (implicit)
2025-03-27 19:09:53,576 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:53,576 [INFO] - [cached since 35.53s ago] (1,)
2025-03-27 19:09:53,577 [INFO] - BEGIN (implicit)
2025-03-27 19:09:53,578 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:53,578 [INFO] - [cached since 14.53s ago] (1, 1, 0)
2025-03-27 19:09:53,579 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:53,580 [INFO] - [cached since 14.53s ago] ()
2025-03-27 19:09:53,580 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:53,581 [INFO] - [cached since 14.53s ago] ()
2025-03-27 19:09:53,582 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:53,582 [INFO] - [cached since 14.53s ago] ()
2025-03-27 19:09:53,584 [INFO] - ROLLBACK
2025-03-27 19:09:53,585 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:53] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:09:53,632 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:56,618 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,620 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:56,620 [INFO] - [cached since 38.57s ago] (1,)
2025-03-27 19:09:56,623 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,624 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,624 [INFO] - [cached since 17.58s ago] (1, 1, 0)
2025-03-27 19:09:56,626 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:56,626 [INFO] - [cached since 17.57s ago] ()
2025-03-27 19:09:56,627 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:56,627 [INFO] - [cached since 17.57s ago] ()
2025-03-27 19:09:56,628 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:56,628 [INFO] - [cached since 17.57s ago] ()
2025-03-27 19:09:56,638 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:56,639 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,639 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,639 [INFO] - [cached since 36.34s ago] ('user1', 1, 0)
2025-03-27 19:09:56,639 [INFO] - ROLLBACK
2025-03-27 19:09:56,640 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,640 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,640 [INFO] - [cached since 11.44s ago] (1, 1, 0)
2025-03-27 19:09:56,641 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,641 [INFO] - [cached since 11.44s ago] (1, 1, 0)
2025-03-27 19:09:56,641 [INFO] - UPDATE schedule SET class_id=? WHERE schedule.schedule_id = ?
2025-03-27 19:09:56,641 [INFO] - [cached since 5.933s ago] (1, 1)
2025-03-27 19:09:56,642 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,642 [INFO] - [cached since 11.44s ago] (1, 1, 0)
2025-03-27 19:09:56,642 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,642 [INFO] - [cached since 11.44s ago] (4006, 1, 0)
2025-03-27 19:09:56,643 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,643 [INFO] - [cached since 11.4s ago] (4006, 'Monday', '08:00', 1, 1, 0)
2025-03-27 19:09:56,643 [INFO] - COMMIT
2025-03-27 19:09:56,679 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:09:56,679 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,679 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:09:56,679 [INFO] - [cached since 11.43s ago] (1,)
2025-03-27 19:09:56,680 [INFO] - ROLLBACK
2025-03-27 19:09:56,680 [INFO] - ROLLBACK
2025-03-27 19:09:56,680 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:56] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:09:56,686 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:56,686 [INFO] - [cached since 38.63s ago] (1,)
2025-03-27 19:09:56,686 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:09:56,686 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,686 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:56,686 [INFO] - [cached since 36.39s ago] ('user1', 1, 0)
2025-03-27 19:09:56,686 [INFO] - ROLLBACK
2025-03-27 19:09:56,687 [INFO] - BEGIN (implicit)
2025-03-27 19:09:56,687 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:09:56,687 [INFO] - [cached since 36.38s ago] ()
2025-03-27 19:09:56,694 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:09:56,694 [INFO] - ROLLBACK
2025-03-27 19:09:56,697 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:56] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:09:56,757 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:56] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:09:58,782 [INFO] - BEGIN (implicit)
2025-03-27 19:09:58,783 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:09:58,783 [INFO] - [cached since 40.73s ago] (1,)
2025-03-27 19:09:58,785 [INFO] - BEGIN (implicit)
2025-03-27 19:09:58,787 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:09:58,787 [INFO] - [cached since 19.74s ago] (1, 1, 0)
2025-03-27 19:09:58,799 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:09:58,800 [INFO] - [cached since 19.75s ago] ()
2025-03-27 19:09:58,803 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:09:58,803 [INFO] - [cached since 19.75s ago] ()
2025-03-27 19:09:58,804 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:09:58,805 [INFO] - [cached since 19.75s ago] ()
2025-03-27 19:09:58,807 [INFO] - ROLLBACK
2025-03-27 19:09:58,807 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:58] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:09:58,851 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:09:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:03,584 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,586 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:03,586 [INFO] - [cached since 45.53s ago] (1,)
2025-03-27 19:10:03,589 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,590 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,590 [INFO] - [cached since 24.54s ago] (1, 1, 0)
2025-03-27 19:10:03,591 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:10:03,592 [INFO] - [cached since 24.54s ago] ()
2025-03-27 19:10:03,592 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:10:03,592 [INFO] - [cached since 24.54s ago] ()
2025-03-27 19:10:03,592 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:10:03,593 [INFO] - [cached since 24.54s ago] ()
2025-03-27 19:10:03,603 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:03,603 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,603 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,603 [INFO] - [cached since 43.31s ago] ('user1', 1, 0)
2025-03-27 19:10:03,604 [INFO] - ROLLBACK
2025-03-27 19:10:03,604 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,604 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,604 [INFO] - [cached since 18.41s ago] (1, 1, 0)
2025-03-27 19:10:03,604 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,604 [INFO] - [cached since 18.41s ago] (1, 1, 0)
2025-03-27 19:10:03,605 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,605 [INFO] - [cached since 18.4s ago] (1, 1, 0)
2025-03-27 19:10:03,605 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,605 [INFO] - [cached since 18.4s ago] (4006, 1, 0)
2025-03-27 19:10:03,606 [INFO] - UPDATE schedule SET start_time=? WHERE schedule.schedule_id = ?
2025-03-27 19:10:03,606 [INFO] - [generated in 0.00015s] ('08:01', 1)
2025-03-27 19:10:03,638 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,638 [INFO] - [cached since 18.4s ago] (4006, 'Monday', '08:01', 1, 1, 0)
2025-03-27 19:10:03,638 [INFO] - COMMIT
2025-03-27 19:10:03,641 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:01', 'end_time': '08:45'}
2025-03-27 19:10:03,641 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,641 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:10:03,641 [INFO] - [cached since 18.39s ago] (1,)
2025-03-27 19:10:03,642 [INFO] - ROLLBACK
2025-03-27 19:10:03,642 [INFO] - ROLLBACK
2025-03-27 19:10:03,643 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:03] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:10:03,647 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:03,647 [INFO] - [cached since 45.6s ago] (1,)
2025-03-27 19:10:03,648 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:03,648 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,648 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:03,648 [INFO] - [cached since 43.35s ago] ('user1', 1, 0)
2025-03-27 19:10:03,648 [INFO] - ROLLBACK
2025-03-27 19:10:03,649 [INFO] - BEGIN (implicit)
2025-03-27 19:10:03,649 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:10:03,649 [INFO] - [cached since 43.34s ago] ()
2025-03-27 19:10:03,655 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:10:03,655 [INFO] - ROLLBACK
2025-03-27 19:10:03,660 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:03] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:10:03,723 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:05,291 [INFO] - BEGIN (implicit)
2025-03-27 19:10:05,291 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:05,292 [INFO] - [cached since 47.24s ago] (1,)
2025-03-27 19:10:05,293 [INFO] - BEGIN (implicit)
2025-03-27 19:10:05,294 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:05,294 [INFO] - [cached since 26.25s ago] (1, 1, 0)
2025-03-27 19:10:05,295 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:10:05,295 [INFO] - [cached since 26.24s ago] ()
2025-03-27 19:10:05,296 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:10:05,296 [INFO] - [cached since 26.24s ago] ()
2025-03-27 19:10:05,297 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:10:05,297 [INFO] - [cached since 26.24s ago] ()
2025-03-27 19:10:05,301 [INFO] - ROLLBACK
2025-03-27 19:10:05,301 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:05] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:10:05,348 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:09,503 [INFO] - BEGIN (implicit)
2025-03-27 19:10:09,504 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:09,504 [INFO] - [cached since 51.45s ago] (1,)
2025-03-27 19:10:09,506 [INFO] - BEGIN (implicit)
2025-03-27 19:10:09,506 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:09,506 [INFO] - [cached since 30.46s ago] (1, 1, 0)
2025-03-27 19:10:09,508 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:10:09,508 [INFO] - [cached since 30.45s ago] ()
2025-03-27 19:10:09,509 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:10:09,509 [INFO] - [cached since 30.45s ago] ()
2025-03-27 19:10:09,510 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:10:09,510 [INFO] - [cached since 30.45s ago] ()
2025-03-27 19:10:09,514 [INFO] - ROLLBACK
2025-03-27 19:10:09,514 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:09] "POST /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:10:09,551 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:14,620 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,622 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:14,622 [INFO] - [cached since 56.57s ago] (1,)
2025-03-27 19:10:14,625 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,626 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,626 [INFO] - [cached since 35.58s ago] (1, 1, 0)
2025-03-27 19:10:14,628 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:10:14,628 [INFO] - [cached since 35.57s ago] ()
2025-03-27 19:10:14,628 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:10:14,629 [INFO] - [cached since 35.57s ago] ()
2025-03-27 19:10:14,629 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:10:14,629 [INFO] - [cached since 35.57s ago] ()
2025-03-27 19:10:14,639 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:14,639 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,640 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,640 [INFO] - [cached since 54.34s ago] ('user1', 1, 0)
2025-03-27 19:10:14,640 [INFO] - ROLLBACK
2025-03-27 19:10:14,641 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,641 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,641 [INFO] - [cached since 29.45s ago] (1, 1, 0)
2025-03-27 19:10:14,641 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,641 [INFO] - [cached since 29.44s ago] (1, 1, 0)
2025-03-27 19:10:14,642 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,642 [INFO] - [cached since 29.44s ago] (1, 1, 0)
2025-03-27 19:10:14,643 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,643 [INFO] - [cached since 29.44s ago] (4006, 1, 0)
2025-03-27 19:10:14,643 [INFO] - UPDATE schedule SET start_time=? WHERE schedule.schedule_id = ?
2025-03-27 19:10:14,643 [INFO] - [cached since 11.04s ago] ('08:00', 1)
2025-03-27 19:10:14,644 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,644 [INFO] - [cached since 29.4s ago] (4006, 'Monday', '08:00', 1, 1, 0)
2025-03-27 19:10:14,644 [INFO] - COMMIT
2025-03-27 19:10:14,646 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:10:14,646 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,647 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:10:14,647 [INFO] - [cached since 29.39s ago] (1,)
2025-03-27 19:10:14,648 [INFO] - ROLLBACK
2025-03-27 19:10:14,648 [INFO] - ROLLBACK
2025-03-27 19:10:14,648 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:14] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:10:14,651 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,651 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:14,651 [INFO] - [cached since 56.6s ago] (1,)
2025-03-27 19:10:14,651 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:14,652 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,652 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:14,652 [INFO] - [cached since 54.35s ago] ('user1', 1, 0)
2025-03-27 19:10:14,653 [INFO] - ROLLBACK
2025-03-27 19:10:14,653 [INFO] - BEGIN (implicit)
2025-03-27 19:10:14,653 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:10:14,654 [INFO] - [cached since 54.34s ago] ()
2025-03-27 19:10:14,659 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:10:14,659 [INFO] - ROLLBACK
2025-03-27 19:10:14,663 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:14] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:10:14,716 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:21,239 [INFO] - BEGIN (implicit)
2025-03-27 19:10:21,241 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:21,241 [INFO] - [cached since 63.19s ago] (1,)
2025-03-27 19:10:21,242 [INFO] - BEGIN (implicit)
2025-03-27 19:10:21,242 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:10:21,242 [INFO] - [cached since 42.19s ago] ()
2025-03-27 19:10:21,243 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:10:21,243 [INFO] - [cached since 42.19s ago] ()
2025-03-27 19:10:21,244 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:10:21,244 [INFO] - [cached since 42.19s ago] ()
2025-03-27 19:10:21,287 [INFO] - ROLLBACK
2025-03-27 19:10:21,287 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:21] "GET /admin/schedule/new HTTP/1.1" 200 -
2025-03-27 19:10:21,328 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:21] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:37,735 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,737 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:37,737 [INFO] - [cached since 79.69s ago] (1,)
2025-03-27 19:10:37,740 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,740 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:10:37,740 [INFO] - [cached since 58.69s ago] ()
2025-03-27 19:10:37,741 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:10:37,741 [INFO] - [cached since 58.69s ago] ()
2025-03-27 19:10:37,743 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:10:37,743 [INFO] - [cached since 58.69s ago] ()
2025-03-27 19:10:37,754 [INFO] - POST /api/admin/schedule - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:37,755 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,755 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:37,755 [INFO] - [cached since 77.46s ago] ('user1', 1, 0)
2025-03-27 19:10:37,756 [INFO] - ROLLBACK
2025-03-27 19:10:37,756 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,756 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:37,756 [INFO] - [cached since 52.56s ago] (1, 1, 0)
2025-03-27 19:10:37,757 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:37,757 [INFO] - [cached since 52.56s ago] (1, 1, 0)
2025-03-27 19:10:37,757 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:37,757 [INFO] - [cached since 52.56s ago] (2000, 1, 0)
2025-03-27 19:10:37,758 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:37,758 [INFO] - [generated in 0.00016s] (2000, 'Monday', '12:00', 1, 0)
2025-03-27 19:10:37,760 [INFO] - INSERT INTO schedule (class_id, subject_id, teacher_id, day_of_week, start_time, end_time) VALUES (?, ?, ?, ?, ?, ?)
2025-03-27 19:10:37,760 [INFO] - [generated in 0.00020s] (1, 1, 2000, 'Monday', '12:00', '13:00')
2025-03-27 19:10:37,761 [INFO] - COMMIT
2025-03-27 19:10:37,763 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,764 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.schedule_id = ?
2025-03-27 19:10:37,764 [INFO] - [generated in 0.00008s] (186,)
2025-03-27 19:10:37,764 [INFO] - POST /api/admin/schedule - Schedule 186 created by user user1
2025-03-27 19:10:37,764 [INFO] - ROLLBACK
2025-03-27 19:10:37,764 [INFO] - ROLLBACK
2025-03-27 19:10:37,764 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:37] "[32mPOST /admin/schedule/new HTTP/1.1[0m" 302 -
2025-03-27 19:10:37,768 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,768 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:37,768 [INFO] - [cached since 79.72s ago] (1,)
2025-03-27 19:10:37,768 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:37,768 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,769 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:37,769 [INFO] - [cached since 77.47s ago] ('user1', 1, 0)
2025-03-27 19:10:37,769 [INFO] - ROLLBACK
2025-03-27 19:10:37,769 [INFO] - BEGIN (implicit)
2025-03-27 19:10:37,770 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:10:37,770 [INFO] - [cached since 77.46s ago] ()
2025-03-27 19:10:37,777 [INFO] - GET /api/admin/schedules - Retrieved 186 schedules by user1
2025-03-27 19:10:37,777 [INFO] - ROLLBACK
2025-03-27 19:10:37,781 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:37] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:10:37,833 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:10:46,619 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,620 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:46,620 [INFO] - [cached since 88.57s ago] (1,)
2025-03-27 19:10:46,622 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,622 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:46,622 [INFO] - [generated in 0.00007s] (186, 1, 0)
2025-03-27 19:10:46,623 [INFO] - DELETE /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:46,623 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,623 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:46,623 [INFO] - [cached since 86.32s ago] ('user1', 1, 0)
2025-03-27 19:10:46,625 [INFO] - ROLLBACK
2025-03-27 19:10:46,625 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,625 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:46,625 [INFO] - [cached since 0.003136s ago] (186, 1, 0)
2025-03-27 19:10:46,626 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
2025-03-27 19:10:46,626 [INFO] - [generated in 0.00006s] (2000,)
2025-03-27 19:10:46,627 [INFO] - DELETE FROM schedule WHERE schedule.schedule_id = ?
2025-03-27 19:10:46,627 [INFO] - [generated in 0.00005s] (186,)
2025-03-27 19:10:46,627 [INFO] - COMMIT
2025-03-27 19:10:46,629 [INFO] - DELETE /api/admin/schedule/186 - Deleted by user user1
2025-03-27 19:10:46,629 [INFO] - ROLLBACK
2025-03-27 19:10:46,629 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:46] "POST /admin/schedule/186/delete HTTP/1.1" 200 -
2025-03-27 19:10:46,642 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,642 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:10:46,642 [INFO] - [cached since 88.59s ago] (1,)
2025-03-27 19:10:46,643 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:10:46,643 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,644 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:10:46,644 [INFO] - [cached since 86.35s ago] ('user1', 1, 0)
2025-03-27 19:10:46,644 [INFO] - ROLLBACK
2025-03-27 19:10:46,644 [INFO] - BEGIN (implicit)
2025-03-27 19:10:46,644 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:10:46,644 [INFO] - [cached since 86.34s ago] ()
2025-03-27 19:10:46,651 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:10:46,651 [INFO] - ROLLBACK
2025-03-27 19:10:46,654 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:46] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:10:46,696 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:10:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:11:04,905 [INFO] - BEGIN (implicit)
2025-03-27 19:11:04,906 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:11:04,906 [INFO] - [cached since 106.9s ago] (1,)
2025-03-27 19:11:04,909 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:11:04,909 [INFO] - BEGIN (implicit)
2025-03-27 19:11:04,910 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:11:04,910 [INFO] - [cached since 104.6s ago] ('user1', 1, 0)
2025-03-27 19:11:04,910 [INFO] - ROLLBACK
2025-03-27 19:11:04,911 [INFO] - BEGIN (implicit)
2025-03-27 19:11:04,918 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 19:11:04,918 [INFO] - [generated in 0.00024s] ()
2025-03-27 19:11:04,937 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-27 19:11:04,937 [INFO] - ROLLBACK
2025-03-27 19:11:04,974 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:04] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-27 19:11:05,022 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:05] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:11:05,938 [INFO] - BEGIN (implicit)
2025-03-27 19:11:05,938 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:11:05,938 [INFO] - [cached since 107.9s ago] (1,)
2025-03-27 19:11:05,939 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:11:05,939 [INFO] - BEGIN (implicit)
2025-03-27 19:11:05,939 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:11:05,939 [INFO] - [cached since 105.6s ago] ('user1', 1, 0)
2025-03-27 19:11:05,940 [INFO] - ROLLBACK
2025-03-27 19:11:05,940 [INFO] - BEGIN (implicit)
2025-03-27 19:11:05,940 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:11:05,940 [INFO] - [cached since 105.6s ago] ()
2025-03-27 19:11:05,972 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:11:05,973 [INFO] - ROLLBACK
2025-03-27 19:11:05,975 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:05] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:11:06,017 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:11:07,036 [INFO] - BEGIN (implicit)
2025-03-27 19:11:07,036 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:11:07,036 [INFO] - [cached since 109s ago] (1,)
2025-03-27 19:11:07,036 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:11:07,037 [INFO] - BEGIN (implicit)
2025-03-27 19:11:07,038 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:11:07,038 [INFO] - [cached since 106.7s ago] ('user1', 1, 0)
2025-03-27 19:11:07,039 [INFO] - ROLLBACK
2025-03-27 19:11:07,039 [INFO] - BEGIN (implicit)
2025-03-27 19:11:07,045 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-27 19:11:07,045 [INFO] - [generated in 0.00029s] ()
2025-03-27 19:11:07,275 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-27 19:11:07,275 [INFO] - ROLLBACK
2025-03-27 19:11:07,305 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:07] "GET /admin/students HTTP/1.1" 200 -
2025-03-27 19:11:07,349 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:07] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:11:08,443 [INFO] - BEGIN (implicit)
2025-03-27 19:11:08,443 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:11:08,444 [INFO] - [cached since 110.4s ago] (1,)
2025-03-27 19:11:08,444 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:11:08,445 [INFO] - BEGIN (implicit)
2025-03-27 19:11:08,446 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:11:08,446 [INFO] - [cached since 108.1s ago] ('user1', 1, 0)
2025-03-27 19:11:08,446 [INFO] - ROLLBACK
2025-03-27 19:11:08,447 [INFO] - BEGIN (implicit)
2025-03-27 19:11:08,448 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:11:08,448 [INFO] - [cached since 108.1s ago] ()
2025-03-27 19:11:08,463 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:11:08,463 [INFO] - ROLLBACK
2025-03-27 19:11:08,469 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:08] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:11:08,509 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:11:08] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:16:33,987 [INFO] - BEGIN (implicit)
2025-03-27 19:16:33,987 [INFO] - PRAGMA main.table_info("users")
2025-03-27 19:16:33,987 [INFO] - [raw sql] ()
2025-03-27 19:16:33,987 [INFO] - PRAGMA main.table_info("students")
2025-03-27 19:16:33,987 [INFO] - [raw sql] ()
2025-03-27 19:16:33,987 [INFO] - PRAGMA main.table_info("schedule")
2025-03-27 19:16:33,987 [INFO] - [raw sql] ()
2025-03-27 19:16:33,987 [INFO] - PRAGMA main.table_info("grades")
2025-03-27 19:16:33,987 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("admins")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("classes")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("teachers")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("subjects")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("attendance")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - PRAGMA main.table_info("homework")
2025-03-27 19:16:33,988 [INFO] - [raw sql] ()
2025-03-27 19:16:33,988 [INFO] - COMMIT
2025-03-27 19:16:34,008 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-27 19:16:34,008 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-27 19:16:35,572 [INFO] - BEGIN (implicit)
2025-03-27 19:16:35,573 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:16:35,573 [INFO] - [generated in 0.00013s] (1,)
2025-03-27 19:16:35,574 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:16:35,574 [INFO] - BEGIN (implicit)
2025-03-27 19:16:35,575 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:16:35,575 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-27 19:16:35,575 [INFO] - ROLLBACK
2025-03-27 19:16:35,576 [INFO] - BEGIN (implicit)
2025-03-27 19:16:35,578 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:16:35,578 [INFO] - [generated in 0.00011s] ()
2025-03-27 19:16:35,733 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:16:35,734 [INFO] - ROLLBACK
2025-03-27 19:16:35,776 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:16:35] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:16:35,857 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:16:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:16:51,803 [INFO] - BEGIN (implicit)
2025-03-27 19:16:51,805 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:16:51,805 [INFO] - [cached since 16.23s ago] (1,)
2025-03-27 19:16:51,807 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:16:51,809 [INFO] - BEGIN (implicit)
2025-03-27 19:16:51,809 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:16:51,809 [INFO] - [cached since 16.23s ago] ('user1', 1, 0)
2025-03-27 19:16:51,815 [INFO] - ROLLBACK
2025-03-27 19:16:51,815 [INFO] - BEGIN (implicit)
2025-03-27 19:16:51,815 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:16:51,816 [INFO] - [cached since 16.24s ago] ()
2025-03-27 19:16:51,832 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:16:51,832 [INFO] - ROLLBACK
2025-03-27 19:16:51,833 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:16:51] "GET /admin/schedules?teacher=Дмитрий+Морозов HTTP/1.1" 200 -
2025-03-27 19:16:51,888 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:16:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:16:59,473 [INFO] - BEGIN (implicit)
2025-03-27 19:16:59,475 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:16:59,475 [INFO] - [cached since 23.9s ago] (1,)
2025-03-27 19:16:59,477 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:16:59,478 [INFO] - BEGIN (implicit)
2025-03-27 19:16:59,478 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:16:59,479 [INFO] - [cached since 23.9s ago] ('user1', 1, 0)
2025-03-27 19:16:59,479 [INFO] - ROLLBACK
2025-03-27 19:16:59,479 [INFO] - BEGIN (implicit)
2025-03-27 19:16:59,480 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:16:59,480 [INFO] - [cached since 23.9s ago] ()
2025-03-27 19:16:59,496 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:16:59,497 [INFO] - ROLLBACK
2025-03-27 19:16:59,498 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:16:59] "GET /admin/schedules?teacher=Дмитрий HTTP/1.1" 200 -
2025-03-27 19:16:59,539 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:16:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:17:10,092 [INFO] - BEGIN (implicit)
2025-03-27 19:17:10,093 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:17:10,094 [INFO] - [cached since 34.52s ago] (1,)
2025-03-27 19:17:10,127 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:17:10,128 [INFO] - BEGIN (implicit)
2025-03-27 19:17:10,128 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:17:10,128 [INFO] - [cached since 34.55s ago] ('user1', 1, 0)
2025-03-27 19:17:10,128 [INFO] - ROLLBACK
2025-03-27 19:17:10,129 [INFO] - BEGIN (implicit)
2025-03-27 19:17:10,129 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:17:10,129 [INFO] - [cached since 34.55s ago] ()
2025-03-27 19:17:10,135 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:17:10,135 [INFO] - ROLLBACK
2025-03-27 19:17:10,136 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:10] "GET /admin/schedules?teacher=Дмитрий+Морозов HTTP/1.1" 200 -
2025-03-27 19:17:10,176 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:17:16,154 [INFO] - BEGIN (implicit)
2025-03-27 19:17:16,155 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:17:16,155 [INFO] - [cached since 40.58s ago] (1,)
2025-03-27 19:17:16,156 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:17:16,156 [INFO] - BEGIN (implicit)
2025-03-27 19:17:16,157 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:17:16,157 [INFO] - [cached since 40.58s ago] ('user1', 1, 0)
2025-03-27 19:17:16,158 [INFO] - ROLLBACK
2025-03-27 19:17:16,159 [INFO] - BEGIN (implicit)
2025-03-27 19:17:16,159 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:17:16,159 [INFO] - [cached since 40.58s ago] ()
2025-03-27 19:17:16,172 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:17:16,172 [INFO] - ROLLBACK
2025-03-27 19:17:16,174 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:16] "GET /admin/schedules?teacher=Морозов HTTP/1.1" 200 -
2025-03-27 19:17:16,215 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:17:40,047 [INFO] - BEGIN (implicit)
2025-03-27 19:17:40,048 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:17:40,048 [INFO] - [cached since 64.48s ago] (1,)
2025-03-27 19:17:40,050 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:17:40,050 [INFO] - BEGIN (implicit)
2025-03-27 19:17:40,051 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:17:40,051 [INFO] - [cached since 64.48s ago] ('user1', 1, 0)
2025-03-27 19:17:40,051 [INFO] - ROLLBACK
2025-03-27 19:17:40,052 [INFO] - BEGIN (implicit)
2025-03-27 19:17:40,053 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:17:40,053 [INFO] - [cached since 64.47s ago] ()
2025-03-27 19:17:40,071 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:17:40,071 [INFO] - ROLLBACK
2025-03-27 19:17:40,071 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:40] "GET /admin/schedules?teacher=Морозов&class=9А HTTP/1.1" 200 -
2025-03-27 19:17:40,105 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:17:45,955 [INFO] - BEGIN (implicit)
2025-03-27 19:17:45,956 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:17:45,956 [INFO] - [cached since 70.38s ago] (1,)
2025-03-27 19:17:45,957 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:17:45,958 [INFO] - BEGIN (implicit)
2025-03-27 19:17:45,958 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:17:45,959 [INFO] - [cached since 70.38s ago] ('user1', 1, 0)
2025-03-27 19:17:45,959 [INFO] - ROLLBACK
2025-03-27 19:17:45,960 [INFO] - BEGIN (implicit)
2025-03-27 19:17:45,960 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:17:45,960 [INFO] - [cached since 70.38s ago] ()
2025-03-27 19:17:45,972 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:17:45,972 [INFO] - ROLLBACK
2025-03-27 19:17:45,974 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:45] "GET /admin/schedules?teacher=Морозов HTTP/1.1" 200 -
2025-03-27 19:17:46,021 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:17:58,303 [INFO] - BEGIN (implicit)
2025-03-27 19:17:58,305 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:17:58,305 [INFO] - [cached since 82.73s ago] (1,)
2025-03-27 19:17:58,307 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:17:58,307 [INFO] - BEGIN (implicit)
2025-03-27 19:17:58,308 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:17:58,308 [INFO] - [cached since 82.73s ago] ('user1', 1, 0)
2025-03-27 19:17:58,309 [INFO] - ROLLBACK
2025-03-27 19:17:58,310 [INFO] - BEGIN (implicit)
2025-03-27 19:17:58,310 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:17:58,310 [INFO] - [cached since 82.73s ago] ()
2025-03-27 19:17:58,326 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:17:58,326 [INFO] - ROLLBACK
2025-03-27 19:17:58,329 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:58] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:17:58,361 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:17:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:18:16,644 [INFO] - BEGIN (implicit)
2025-03-27 19:18:16,646 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:18:16,646 [INFO] - [cached since 101.1s ago] (1,)
2025-03-27 19:18:16,648 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:18:16,649 [INFO] - BEGIN (implicit)
2025-03-27 19:18:16,649 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:18:16,649 [INFO] - [cached since 101.1s ago] ('user1', 1, 0)
2025-03-27 19:18:16,650 [INFO] - ROLLBACK
2025-03-27 19:18:16,651 [INFO] - BEGIN (implicit)
2025-03-27 19:18:16,651 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:18:16,651 [INFO] - [cached since 101.1s ago] ()
2025-03-27 19:18:16,663 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:18:16,663 [INFO] - ROLLBACK
2025-03-27 19:18:16,664 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:16] "GET /admin/schedules?time=9:00 HTTP/1.1" 200 -
2025-03-27 19:18:16,719 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:18:27,673 [INFO] - BEGIN (implicit)
2025-03-27 19:18:27,674 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:18:27,674 [INFO] - [cached since 112.1s ago] (1,)
2025-03-27 19:18:27,676 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:18:27,677 [INFO] - BEGIN (implicit)
2025-03-27 19:18:27,677 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:18:27,677 [INFO] - [cached since 112.1s ago] ('user1', 1, 0)
2025-03-27 19:18:27,678 [INFO] - ROLLBACK
2025-03-27 19:18:27,679 [INFO] - BEGIN (implicit)
2025-03-27 19:18:27,679 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:18:27,679 [INFO] - [cached since 112.1s ago] ()
2025-03-27 19:18:27,694 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:18:27,695 [INFO] - ROLLBACK
2025-03-27 19:18:27,696 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:27] "GET /admin/schedules?day=Понедельник HTTP/1.1" 200 -
2025-03-27 19:18:27,737 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:18:36,673 [INFO] - BEGIN (implicit)
2025-03-27 19:18:36,675 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:18:36,676 [INFO] - [cached since 121.1s ago] (1,)
2025-03-27 19:18:36,678 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:18:36,679 [INFO] - BEGIN (implicit)
2025-03-27 19:18:36,679 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:18:36,679 [INFO] - [cached since 121.1s ago] ('user1', 1, 0)
2025-03-27 19:18:36,680 [INFO] - ROLLBACK
2025-03-27 19:18:36,681 [INFO] - BEGIN (implicit)
2025-03-27 19:18:36,681 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:18:36,681 [INFO] - [cached since 121.1s ago] ()
2025-03-27 19:18:36,699 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:18:36,699 [INFO] - ROLLBACK
2025-03-27 19:18:36,700 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:36] "GET /admin/schedules?day=Monday HTTP/1.1" 200 -
2025-03-27 19:18:36,746 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:36] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:18:46,412 [INFO] - BEGIN (implicit)
2025-03-27 19:18:46,412 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:18:46,412 [INFO] - [cached since 130.8s ago] (1,)
2025-03-27 19:18:46,414 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:18:46,415 [INFO] - BEGIN (implicit)
2025-03-27 19:18:46,415 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:18:46,415 [INFO] - [cached since 130.8s ago] ('user1', 1, 0)
2025-03-27 19:18:46,416 [INFO] - ROLLBACK
2025-03-27 19:18:46,416 [INFO] - BEGIN (implicit)
2025-03-27 19:18:46,417 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:18:46,417 [INFO] - [cached since 130.8s ago] ()
2025-03-27 19:18:46,430 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:18:46,430 [INFO] - ROLLBACK
2025-03-27 19:18:46,433 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:46] "GET /admin/schedules?day=Понедельник HTTP/1.1" 200 -
2025-03-27 19:18:46,471 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:46] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:18:51,312 [INFO] - BEGIN (implicit)
2025-03-27 19:18:51,314 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:18:51,314 [INFO] - [cached since 135.7s ago] (1,)
2025-03-27 19:18:51,315 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:18:51,316 [INFO] - BEGIN (implicit)
2025-03-27 19:18:51,316 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:18:51,316 [INFO] - [cached since 135.7s ago] ('user1', 1, 0)
2025-03-27 19:18:51,317 [INFO] - ROLLBACK
2025-03-27 19:18:51,318 [INFO] - BEGIN (implicit)
2025-03-27 19:18:51,318 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:18:51,318 [INFO] - [cached since 135.7s ago] ()
2025-03-27 19:18:51,333 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:18:51,334 [INFO] - ROLLBACK
2025-03-27 19:18:51,337 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:51] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:18:51,380 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:18:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:10,602 [INFO] - BEGIN (implicit)
2025-03-27 19:19:10,603 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:10,603 [INFO] - [cached since 155s ago] (1,)
2025-03-27 19:19:10,635 [INFO] - BEGIN (implicit)
2025-03-27 19:19:10,639 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:10,639 [INFO] - [generated in 0.00016s] (1, 1, 0)
2025-03-27 19:19:10,640 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:19:10,640 [INFO] - [generated in 0.00010s] ()
2025-03-27 19:19:10,640 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:19:10,641 [INFO] - [generated in 0.00007s] ()
2025-03-27 19:19:10,641 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:19:10,641 [INFO] - [generated in 0.00006s] ()
2025-03-27 19:19:10,701 [INFO] - ROLLBACK
2025-03-27 19:19:10,702 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:10] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:19:10,741 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:10] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:15,174 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,175 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:15,175 [INFO] - [cached since 159.6s ago] (1,)
2025-03-27 19:19:15,177 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,177 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,177 [INFO] - [cached since 4.539s ago] (1, 1, 0)
2025-03-27 19:19:15,179 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:19:15,179 [INFO] - [cached since 4.539s ago] ()
2025-03-27 19:19:15,179 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:19:15,179 [INFO] - [cached since 4.539s ago] ()
2025-03-27 19:19:15,180 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:19:15,180 [INFO] - [cached since 4.539s ago] ()
2025-03-27 19:19:15,184 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:15,184 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,185 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,185 [INFO] - [cached since 159.6s ago] ('user1', 1, 0)
2025-03-27 19:19:15,185 [INFO] - ROLLBACK
2025-03-27 19:19:15,186 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,189 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,189 [INFO] - [generated in 0.00021s] (1, 1, 0)
2025-03-27 19:19:15,191 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,191 [INFO] - [generated in 0.00016s] (1, 1, 0)
2025-03-27 19:19:15,193 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,194 [INFO] - [generated in 0.00015s] (1, 1, 0)
2025-03-27 19:19:15,195 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,195 [INFO] - [generated in 0.00019s] (4006, 1, 0)
2025-03-27 19:19:15,199 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,199 [INFO] - [generated in 0.00015s] (4006, 'Monday', '08:00', 1, 1, 0)
2025-03-27 19:19:15,200 [INFO] - COMMIT
2025-03-27 19:19:15,200 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:19:15,200 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,201 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:19:15,201 [INFO] - [generated in 0.00008s] (1,)
2025-03-27 19:19:15,202 [INFO] - ROLLBACK
2025-03-27 19:19:15,202 [INFO] - ROLLBACK
2025-03-27 19:19:15,202 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:15] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:19:15,205 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,206 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:15,206 [INFO] - [cached since 159.6s ago] (1,)
2025-03-27 19:19:15,206 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:15,206 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,207 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:15,207 [INFO] - [cached since 159.6s ago] ('user1', 1, 0)
2025-03-27 19:19:15,208 [INFO] - ROLLBACK
2025-03-27 19:19:15,208 [INFO] - BEGIN (implicit)
2025-03-27 19:19:15,209 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:19:15,209 [INFO] - [cached since 159.6s ago] ()
2025-03-27 19:19:15,214 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:19:15,214 [INFO] - ROLLBACK
2025-03-27 19:19:15,218 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:15] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:19:15,277 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:31,428 [INFO] - BEGIN (implicit)
2025-03-27 19:19:31,519 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:31,524 [INFO] - [cached since 176s ago] (1,)
2025-03-27 19:19:31,525 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:31,526 [INFO] - BEGIN (implicit)
2025-03-27 19:19:31,526 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:31,526 [INFO] - [cached since 176s ago] ('user1', 1, 0)
2025-03-27 19:19:31,527 [INFO] - ROLLBACK
2025-03-27 19:19:31,527 [INFO] - BEGIN (implicit)
2025-03-27 19:19:31,527 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:19:31,527 [INFO] - [cached since 175.9s ago] ()
2025-03-27 19:19:31,555 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:19:31,555 [INFO] - ROLLBACK
2025-03-27 19:19:31,556 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:31] "GET /admin/schedules?day=Monday HTTP/1.1" 200 -
2025-03-27 19:19:31,595 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:37,965 [INFO] - BEGIN (implicit)
2025-03-27 19:19:37,966 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:37,967 [INFO] - [cached since 182.4s ago] (1,)
2025-03-27 19:19:37,968 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:37,969 [INFO] - BEGIN (implicit)
2025-03-27 19:19:37,969 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:37,969 [INFO] - [cached since 182.4s ago] ('user1', 1, 0)
2025-03-27 19:19:37,971 [INFO] - ROLLBACK
2025-03-27 19:19:37,971 [INFO] - BEGIN (implicit)
2025-03-27 19:19:37,971 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:19:37,971 [INFO] - [cached since 182.4s ago] ()
2025-03-27 19:19:37,986 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:19:37,987 [INFO] - ROLLBACK
2025-03-27 19:19:37,990 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:37] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:19:38,034 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:38] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:45,551 [INFO] - BEGIN (implicit)
2025-03-27 19:19:45,553 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:45,553 [INFO] - [cached since 190s ago] (1,)
2025-03-27 19:19:45,557 [INFO] - BEGIN (implicit)
2025-03-27 19:19:45,558 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:45,558 [INFO] - [cached since 34.92s ago] (1, 1, 0)
2025-03-27 19:19:45,560 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:19:45,560 [INFO] - [cached since 34.92s ago] ()
2025-03-27 19:19:45,561 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:19:45,561 [INFO] - [cached since 34.92s ago] ()
2025-03-27 19:19:45,562 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:19:45,562 [INFO] - [cached since 34.92s ago] ()
2025-03-27 19:19:45,575 [INFO] - ROLLBACK
2025-03-27 19:19:45,575 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:45] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:19:45,612 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:49,151 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,152 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:49,152 [INFO] - [cached since 193.6s ago] (1,)
2025-03-27 19:19:49,153 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,154 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,154 [INFO] - [cached since 38.52s ago] (1, 1, 0)
2025-03-27 19:19:49,160 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:19:49,161 [INFO] - [cached since 38.52s ago] ()
2025-03-27 19:19:49,161 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:19:49,161 [INFO] - [cached since 38.52s ago] ()
2025-03-27 19:19:49,162 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:19:49,162 [INFO] - [cached since 38.52s ago] ()
2025-03-27 19:19:49,166 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:49,166 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,167 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,167 [INFO] - [cached since 193.6s ago] ('user1', 1, 0)
2025-03-27 19:19:49,167 [INFO] - ROLLBACK
2025-03-27 19:19:49,168 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,168 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,168 [INFO] - [cached since 33.98s ago] (1, 1, 0)
2025-03-27 19:19:49,169 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,169 [INFO] - [cached since 33.98s ago] (1, 1, 0)
2025-03-27 19:19:49,170 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,170 [INFO] - [cached since 33.98s ago] (1, 1, 0)
2025-03-27 19:19:49,171 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,171 [INFO] - [cached since 33.98s ago] (4006, 1, 0)
2025-03-27 19:19:49,173 [INFO] - UPDATE schedule SET day_of_week=? WHERE schedule.schedule_id = ?
2025-03-27 19:19:49,173 [INFO] - [generated in 0.00015s] ('Tuesday', 1)
2025-03-27 19:19:49,208 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,208 [INFO] - [cached since 34.01s ago] (4006, 'Tuesday', '08:00', 1, 1, 0)
2025-03-27 19:19:49,209 [INFO] - COMMIT
2025-03-27 19:19:49,219 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Tuesday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:19:49,219 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,219 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:19:49,219 [INFO] - [cached since 34.02s ago] (1,)
2025-03-27 19:19:49,219 [INFO] - ROLLBACK
2025-03-27 19:19:49,219 [INFO] - ROLLBACK
2025-03-27 19:19:49,220 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:49] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:19:49,225 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:49,226 [INFO] - [cached since 193.7s ago] (1,)
2025-03-27 19:19:49,226 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:49,226 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,226 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:49,226 [INFO] - [cached since 193.7s ago] ('user1', 1, 0)
2025-03-27 19:19:49,227 [INFO] - ROLLBACK
2025-03-27 19:19:49,227 [INFO] - BEGIN (implicit)
2025-03-27 19:19:49,228 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:19:49,228 [INFO] - [cached since 193.6s ago] ()
2025-03-27 19:19:49,235 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:19:49,235 [INFO] - ROLLBACK
2025-03-27 19:19:49,240 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:49] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:19:49,301 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:49] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:51,103 [INFO] - BEGIN (implicit)
2025-03-27 19:19:51,104 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:51,104 [INFO] - [cached since 195.5s ago] (1,)
2025-03-27 19:19:51,106 [INFO] - BEGIN (implicit)
2025-03-27 19:19:51,106 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:51,106 [INFO] - [cached since 40.47s ago] (1, 1, 0)
2025-03-27 19:19:51,108 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:19:51,108 [INFO] - [cached since 40.47s ago] ()
2025-03-27 19:19:51,108 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:19:51,109 [INFO] - [cached since 40.47s ago] ()
2025-03-27 19:19:51,109 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:19:51,109 [INFO] - [cached since 40.47s ago] ()
2025-03-27 19:19:51,112 [INFO] - ROLLBACK
2025-03-27 19:19:51,113 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:51] "GET /admin/schedule/1 HTTP/1.1" 200 -
2025-03-27 19:19:51,162 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:51] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:19:54,775 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,777 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:54,777 [INFO] - [cached since 199.2s ago] (1,)
2025-03-27 19:19:54,779 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,779 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,779 [INFO] - [cached since 44.14s ago] (1, 1, 0)
2025-03-27 19:19:54,780 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:19:54,781 [INFO] - [cached since 44.14s ago] ()
2025-03-27 19:19:54,781 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:19:54,781 [INFO] - [cached since 44.14s ago] ()
2025-03-27 19:19:54,781 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id
2025-03-27 19:19:54,781 [INFO] - [cached since 44.14s ago] ()
2025-03-27 19:19:54,791 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:54,792 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,792 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,792 [INFO] - [cached since 199.2s ago] ('user1', 1, 0)
2025-03-27 19:19:54,792 [INFO] - ROLLBACK
2025-03-27 19:19:54,792 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,792 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,792 [INFO] - [cached since 39.6s ago] (1, 1, 0)
2025-03-27 19:19:54,793 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,793 [INFO] - [cached since 39.6s ago] (1, 1, 0)
2025-03-27 19:19:54,793 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,793 [INFO] - [cached since 39.6s ago] (1, 1, 0)
2025-03-27 19:19:54,794 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,794 [INFO] - [cached since 39.6s ago] (4006, 1, 0)
2025-03-27 19:19:54,795 [INFO] - UPDATE schedule SET day_of_week=? WHERE schedule.schedule_id = ?
2025-03-27 19:19:54,795 [INFO] - [cached since 5.622s ago] ('Monday', 1)
2025-03-27 19:19:54,830 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,830 [INFO] - [cached since 39.63s ago] (4006, 'Monday', '08:00', 1, 1, 0)
2025-03-27 19:19:54,830 [INFO] - COMMIT
2025-03-27 19:19:54,849 [INFO] - PATCH /api/admin/schedule/1 - Updated by user user1: {'class_id': 1, 'subject_id': 1, 'teacher_id': 4006, 'day_of_week': 'Monday', 'start_time': '08:00', 'end_time': '08:45'}
2025-03-27 19:19:54,849 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,849 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:19:54,849 [INFO] - [cached since 39.65s ago] (1,)
2025-03-27 19:19:54,852 [INFO] - ROLLBACK
2025-03-27 19:19:54,852 [INFO] - ROLLBACK
2025-03-27 19:19:54,852 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:54] "[32mPOST /admin/schedule/1 HTTP/1.1[0m" 302 -
2025-03-27 19:19:54,855 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,856 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:19:54,856 [INFO] - [cached since 199.3s ago] (1,)
2025-03-27 19:19:54,856 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:19:54,856 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,857 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:19:54,857 [INFO] - [cached since 199.3s ago] ('user1', 1, 0)
2025-03-27 19:19:54,857 [INFO] - ROLLBACK
2025-03-27 19:19:54,857 [INFO] - BEGIN (implicit)
2025-03-27 19:19:54,858 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:19:54,858 [INFO] - [cached since 199.3s ago] ()
2025-03-27 19:19:54,864 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:19:54,864 [INFO] - ROLLBACK
2025-03-27 19:19:54,867 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:54] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:19:54,929 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:19:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:03,572 [INFO] - BEGIN (implicit)
2025-03-27 19:21:03,574 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:03,574 [INFO] - [cached since 268s ago] (1,)
2025-03-27 19:21:03,576 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:03,578 [INFO] - BEGIN (implicit)
2025-03-27 19:21:03,579 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:03,579 [INFO] - [cached since 268s ago] ('user1', 1, 0)
2025-03-27 19:21:03,582 [INFO] - ROLLBACK
2025-03-27 19:21:03,583 [INFO] - BEGIN (implicit)
2025-03-27 19:21:03,583 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:03,583 [INFO] - [cached since 268s ago] ()
2025-03-27 19:21:03,594 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:03,595 [INFO] - ROLLBACK
2025-03-27 19:21:03,596 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:03] "GET /admin/schedules?class=9:00 HTTP/1.1" 200 -
2025-03-27 19:21:03,640 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:06,872 [INFO] - BEGIN (implicit)
2025-03-27 19:21:06,873 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:06,873 [INFO] - [cached since 271.3s ago] (1,)
2025-03-27 19:21:06,873 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:06,874 [INFO] - BEGIN (implicit)
2025-03-27 19:21:06,874 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:06,874 [INFO] - [cached since 271.3s ago] ('user1', 1, 0)
2025-03-27 19:21:06,875 [INFO] - ROLLBACK
2025-03-27 19:21:06,876 [INFO] - BEGIN (implicit)
2025-03-27 19:21:06,876 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:06,876 [INFO] - [cached since 271.3s ago] ()
2025-03-27 19:21:06,891 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:06,891 [INFO] - ROLLBACK
2025-03-27 19:21:06,898 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:06] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:21:06,939 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:06] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:17,000 [INFO] - BEGIN (implicit)
2025-03-27 19:21:17,003 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:17,003 [INFO] - [cached since 281.4s ago] (1,)
2025-03-27 19:21:17,006 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:17,007 [INFO] - BEGIN (implicit)
2025-03-27 19:21:17,007 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:17,008 [INFO] - [cached since 281.4s ago] ('user1', 1, 0)
2025-03-27 19:21:17,008 [INFO] - ROLLBACK
2025-03-27 19:21:17,009 [INFO] - BEGIN (implicit)
2025-03-27 19:21:17,009 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:17,009 [INFO] - [cached since 281.4s ago] ()
2025-03-27 19:21:17,025 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:17,025 [INFO] - ROLLBACK
2025-03-27 19:21:17,026 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:17] "GET /admin/schedules?teacher=Дмитрий+Морозов HTTP/1.1" 200 -
2025-03-27 19:21:17,087 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:17] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:25,642 [INFO] - BEGIN (implicit)
2025-03-27 19:21:25,644 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:25,644 [INFO] - [cached since 290.1s ago] (1,)
2025-03-27 19:21:25,645 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:25,646 [INFO] - BEGIN (implicit)
2025-03-27 19:21:25,647 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:25,647 [INFO] - [cached since 290.1s ago] ('user1', 1, 0)
2025-03-27 19:21:25,648 [INFO] - ROLLBACK
2025-03-27 19:21:25,649 [INFO] - BEGIN (implicit)
2025-03-27 19:21:25,649 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:25,649 [INFO] - [cached since 290.1s ago] ()
2025-03-27 19:21:25,663 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:25,663 [INFO] - ROLLBACK
2025-03-27 19:21:25,666 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:25] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:21:25,717 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:25] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:31,279 [INFO] - BEGIN (implicit)
2025-03-27 19:21:31,281 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:31,282 [INFO] - [cached since 295.7s ago] (1,)
2025-03-27 19:21:31,283 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:31,284 [INFO] - BEGIN (implicit)
2025-03-27 19:21:31,284 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:31,284 [INFO] - [cached since 295.7s ago] ('user1', 1, 0)
2025-03-27 19:21:31,285 [INFO] - ROLLBACK
2025-03-27 19:21:31,286 [INFO] - BEGIN (implicit)
2025-03-27 19:21:31,286 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:31,286 [INFO] - [cached since 295.7s ago] ()
2025-03-27 19:21:31,303 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:31,304 [INFO] - ROLLBACK
2025-03-27 19:21:31,307 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:31] "GET /admin/schedules?teacher=Дмитрий HTTP/1.1" 200 -
2025-03-27 19:21:31,359 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:42,777 [INFO] - BEGIN (implicit)
2025-03-27 19:21:42,780 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:42,780 [INFO] - [cached since 307.2s ago] (1,)
2025-03-27 19:21:42,782 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:42,783 [INFO] - BEGIN (implicit)
2025-03-27 19:21:42,784 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:42,784 [INFO] - [cached since 307.2s ago] ('user1', 1, 0)
2025-03-27 19:21:42,784 [INFO] - ROLLBACK
2025-03-27 19:21:42,785 [INFO] - BEGIN (implicit)
2025-03-27 19:21:42,785 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:42,786 [INFO] - [cached since 307.2s ago] ()
2025-03-27 19:21:42,797 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:42,798 [INFO] - ROLLBACK
2025-03-27 19:21:42,799 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:42] "GET /admin/schedules?teacher=Морозов HTTP/1.1" 200 -
2025-03-27 19:21:42,849 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:21:53,766 [INFO] - BEGIN (implicit)
2025-03-27 19:21:53,767 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:21:53,768 [INFO] - [cached since 318.2s ago] (1,)
2025-03-27 19:21:53,803 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:21:53,803 [INFO] - BEGIN (implicit)
2025-03-27 19:21:53,804 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:21:53,804 [INFO] - [cached since 318.2s ago] ('user1', 1, 0)
2025-03-27 19:21:53,804 [INFO] - ROLLBACK
2025-03-27 19:21:53,804 [INFO] - BEGIN (implicit)
2025-03-27 19:21:53,804 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:21:53,804 [INFO] - [cached since 318.2s ago] ()
2025-03-27 19:21:53,811 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:21:53,811 [INFO] - ROLLBACK
2025-03-27 19:21:53,814 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:53] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:21:53,845 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:21:53] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:22:03,666 [INFO] - BEGIN (implicit)
2025-03-27 19:22:03,667 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:22:03,667 [INFO] - [cached since 328.1s ago] (1,)
2025-03-27 19:22:03,669 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:22:03,670 [INFO] - BEGIN (implicit)
2025-03-27 19:22:03,670 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:22:03,671 [INFO] - [cached since 328.1s ago] ('user1', 1, 0)
2025-03-27 19:22:03,671 [INFO] - ROLLBACK
2025-03-27 19:22:03,672 [INFO] - BEGIN (implicit)
2025-03-27 19:22:03,672 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:22:03,673 [INFO] - [cached since 328.1s ago] ()
2025-03-27 19:22:03,690 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:22:03,690 [INFO] - ROLLBACK
2025-03-27 19:22:03,691 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:22:03] "GET /admin/schedules?teacher=Смирнова HTTP/1.1" 200 -
2025-03-27 19:22:03,739 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:22:03] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:22:19,040 [INFO] - BEGIN (implicit)
2025-03-27 19:22:19,041 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:22:19,041 [INFO] - [cached since 343.5s ago] (1,)
2025-03-27 19:22:19,043 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:22:19,044 [INFO] - BEGIN (implicit)
2025-03-27 19:22:19,044 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:22:19,044 [INFO] - [cached since 343.5s ago] ('user1', 1, 0)
2025-03-27 19:22:19,045 [INFO] - ROLLBACK
2025-03-27 19:22:19,045 [INFO] - BEGIN (implicit)
2025-03-27 19:22:19,045 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:22:19,045 [INFO] - [cached since 343.5s ago] ()
2025-03-27 19:22:19,062 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:22:19,062 [INFO] - ROLLBACK
2025-03-27 19:22:19,065 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:22:19] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:22:19,096 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:22:19] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:25:10,884 [INFO] - BEGIN (implicit)
2025-03-27 19:25:10,893 [INFO] - PRAGMA main.table_info("users")
2025-03-27 19:25:10,893 [INFO] - [raw sql] ()
2025-03-27 19:25:10,893 [INFO] - PRAGMA main.table_info("students")
2025-03-27 19:25:10,893 [INFO] - [raw sql] ()
2025-03-27 19:25:10,893 [INFO] - PRAGMA main.table_info("schedule")
2025-03-27 19:25:10,893 [INFO] - [raw sql] ()
2025-03-27 19:25:10,893 [INFO] - PRAGMA main.table_info("grades")
2025-03-27 19:25:10,893 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("admins")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("classes")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("teachers")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("subjects")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("attendance")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - PRAGMA main.table_info("homework")
2025-03-27 19:25:10,894 [INFO] - [raw sql] ()
2025-03-27 19:25:10,894 [INFO] - COMMIT
2025-03-27 19:25:10,915 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-27 19:25:10,915 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-27 19:25:21,959 [INFO] - BEGIN (implicit)
2025-03-27 19:25:21,964 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:21,964 [INFO] - [generated in 0.00024s] (1,)
2025-03-27 19:25:22,004 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:25:22,005 [INFO] - BEGIN (implicit)
2025-03-27 19:25:22,006 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:22,006 [INFO] - [generated in 0.00014s] ('user1', 1, 0)
2025-03-27 19:25:22,017 [INFO] - ROLLBACK
2025-03-27 19:25:22,017 [INFO] - BEGIN (implicit)
2025-03-27 19:25:22,020 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:25:22,020 [INFO] - [generated in 0.00010s] ()
2025-03-27 19:25:22,074 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:25:22,074 [INFO] - ROLLBACK
2025-03-27 19:25:22,114 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:22] "GET /admin/schedules?teacher=Павел+Козлов HTTP/1.1" 200 -
2025-03-27 19:25:22,175 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:22] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:25:29,674 [INFO] - BEGIN (implicit)
2025-03-27 19:25:29,675 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:29,676 [INFO] - [cached since 7.711s ago] (1,)
2025-03-27 19:25:29,678 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:25:29,679 [INFO] - BEGIN (implicit)
2025-03-27 19:25:29,679 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:29,680 [INFO] - [cached since 7.674s ago] ('user1', 1, 0)
2025-03-27 19:25:29,685 [INFO] - ROLLBACK
2025-03-27 19:25:29,686 [INFO] - BEGIN (implicit)
2025-03-27 19:25:29,686 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:25:29,686 [INFO] - [cached since 7.666s ago] ()
2025-03-27 19:25:29,704 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:25:29,704 [INFO] - ROLLBACK
2025-03-27 19:25:29,705 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:29] "GET /admin/schedules?teacher=Павел HTTP/1.1" 200 -
2025-03-27 19:25:29,742 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:29] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:25:35,568 [INFO] - BEGIN (implicit)
2025-03-27 19:25:35,569 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:35,569 [INFO] - [cached since 13.6s ago] (1,)
2025-03-27 19:25:35,570 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:25:35,570 [INFO] - BEGIN (implicit)
2025-03-27 19:25:35,571 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:35,571 [INFO] - [cached since 13.57s ago] ('user1', 1, 0)
2025-03-27 19:25:35,572 [INFO] - ROLLBACK
2025-03-27 19:25:35,572 [INFO] - BEGIN (implicit)
2025-03-27 19:25:35,573 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:25:35,573 [INFO] - [cached since 13.55s ago] ()
2025-03-27 19:25:35,587 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:25:35,587 [INFO] - ROLLBACK
2025-03-27 19:25:35,590 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:35] "GET /admin/schedules?teacher=Козлов HTTP/1.1" 200 -
2025-03-27 19:25:35,636 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:35] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:25:39,717 [INFO] - BEGIN (implicit)
2025-03-27 19:25:39,718 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:39,718 [INFO] - [cached since 17.75s ago] (1,)
2025-03-27 19:25:39,720 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:25:39,721 [INFO] - BEGIN (implicit)
2025-03-27 19:25:39,721 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:39,721 [INFO] - [cached since 17.72s ago] ('user1', 1, 0)
2025-03-27 19:25:39,722 [INFO] - ROLLBACK
2025-03-27 19:25:39,723 [INFO] - BEGIN (implicit)
2025-03-27 19:25:39,731 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 19:25:39,731 [INFO] - [generated in 0.00026s] ()
2025-03-27 19:25:39,798 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-27 19:25:39,798 [INFO] - ROLLBACK
2025-03-27 19:25:39,810 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:39] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-27 19:25:39,865 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:39] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:25:48,961 [INFO] - BEGIN (implicit)
2025-03-27 19:25:48,962 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:48,962 [INFO] - [cached since 27s ago] (1,)
2025-03-27 19:25:48,964 [INFO] - BEGIN (implicit)
2025-03-27 19:25:48,970 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 19:25:48,970 [INFO] - [generated in 0.00043s] (4013, 1, 0)
2025-03-27 19:25:48,973 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:25:48,973 [INFO] - [generated in 0.00027s] ()
2025-03-27 19:25:48,974 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-27 19:25:48,974 [INFO] - [generated in 0.00014s] ()
2025-03-27 19:25:48,978 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:25:48,978 [INFO] - [generated in 0.00016s] ()
2025-03-27 19:25:49,025 [INFO] - ROLLBACK
2025-03-27 19:25:49,025 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:49] "GET /admin/teacher/4013 HTTP/1.1" 200 -
2025-03-27 19:25:49,068 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:49] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:25:59,308 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,310 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:59,310 [INFO] - [cached since 37.35s ago] (1,)
2025-03-27 19:25:59,313 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,314 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN classes AS classes_1 ON anon_1.teachers_teacher_id = classes_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 19:25:59,314 [INFO] - [cached since 10.34s ago] (4013, 1, 0)
2025-03-27 19:25:59,314 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes
2025-03-27 19:25:59,315 [INFO] - [cached since 10.34s ago] ()
2025-03-27 19:25:59,315 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions
2025-03-27 19:25:59,316 [INFO] - [cached since 10.34s ago] ()
2025-03-27 19:25:59,316 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-27 19:25:59,316 [INFO] - [cached since 10.34s ago] ()
2025-03-27 19:25:59,402 [INFO] - PATCH /api/admin/teacher/<teacher_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:25:59,402 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,402 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:59,402 [INFO] - [cached since 37.4s ago] ('user1', 1, 0)
2025-03-27 19:25:59,402 [INFO] - ROLLBACK
2025-03-27 19:25:59,403 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,405 [INFO] - SELECT anon_1.teachers_user_id AS anon_1_teachers_user_id, anon_1.teachers_teacher_id AS anon_1_teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM (SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?) AS anon_1 LEFT OUTER JOIN users AS users_1 ON users_1.user_id = anon_1.teachers_user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON anon_1.teachers_teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 19:25:59,405 [INFO] - [generated in 0.00010s] (4013, 1, 0)
2025-03-27 19:25:59,407 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.username = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:59,407 [INFO] - [generated in 0.00007s] ('user69', 69, 1, 0)
2025-03-27 19:25:59,408 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.email = ? AND users.user_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:59,408 [INFO] - [generated in 0.00008s] ('user69@school.ru', 69, 1, 0)
2025-03-27 19:25:59,408 [INFO] - SELECT teacher_positions.position_id AS teacher_positions_position_id, teacher_positions.position_name AS teacher_positions_position_name 
FROM teacher_positions 
WHERE teacher_positions.position_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:59,408 [INFO] - [generated in 0.00006s] (2, 1, 0)
2025-03-27 19:25:59,410 [INFO] - SELECT teacher_position_assignments.teacher_id AS teacher_position_assignments_teacher_id, teacher_position_assignments.position_id AS teacher_position_assignments_position_id, teacher_position_assignments.class_id AS teacher_position_assignments_class_id, teacher_position_assignments.subject_id AS teacher_position_assignments_subject_id 
FROM teacher_position_assignments 
WHERE teacher_position_assignments.teacher_id = ? AND teacher_position_assignments.position_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:59,410 [INFO] - [generated in 0.00008s] (4013, 2, 1, 0)
2025-03-27 19:25:59,410 [INFO] - COMMIT
2025-03-27 19:25:59,410 [INFO] - PATCH /api/admin/teacher/4013 - Updated by user user1: {'username': 'user69', 'first_name': 'Павел', 'last_name': 'Козлов', 'email': 'user69@school.ru', 'phone_number': '+7(900)000-00-68', 'position_id': 2, 'subject_id': 1}
2025-03-27 19:25:59,410 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,412 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id 
WHERE teachers.user_id = ?
2025-03-27 19:25:59,412 [INFO] - [generated in 0.00008s] (69,)
2025-03-27 19:25:59,413 [INFO] - ROLLBACK
2025-03-27 19:25:59,413 [INFO] - ROLLBACK
2025-03-27 19:25:59,414 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:59] "[32mPOST /admin/teacher/4013 HTTP/1.1[0m" 302 -
2025-03-27 19:25:59,417 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,417 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:25:59,417 [INFO] - [cached since 37.45s ago] (1,)
2025-03-27 19:25:59,418 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:25:59,418 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,418 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:25:59,418 [INFO] - [cached since 37.41s ago] ('user1', 1, 0)
2025-03-27 19:25:59,418 [INFO] - ROLLBACK
2025-03-27 19:25:59,419 [INFO] - BEGIN (implicit)
2025-03-27 19:25:59,419 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-27 19:25:59,419 [INFO] - [cached since 19.69s ago] ()
2025-03-27 19:25:59,427 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-27 19:25:59,427 [INFO] - ROLLBACK
2025-03-27 19:25:59,429 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:59] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-27 19:25:59,490 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:25:59] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:26:02,535 [INFO] - BEGIN (implicit)
2025-03-27 19:26:02,536 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:26:02,536 [INFO] - [cached since 40.57s ago] (1,)
2025-03-27 19:26:02,537 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:26:02,537 [INFO] - BEGIN (implicit)
2025-03-27 19:26:02,537 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:26:02,538 [INFO] - [cached since 40.53s ago] ('user1', 1, 0)
2025-03-27 19:26:02,538 [INFO] - ROLLBACK
2025-03-27 19:26:02,539 [INFO] - BEGIN (implicit)
2025-03-27 19:26:02,539 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:26:02,539 [INFO] - [cached since 40.52s ago] ()
2025-03-27 19:26:02,553 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:26:02,553 [INFO] - ROLLBACK
2025-03-27 19:26:02,559 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:26:02] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:26:02,607 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:26:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:30:20,849 [INFO] - BEGIN (implicit)
2025-03-27 19:30:20,860 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:30:20,860 [INFO] - [generated in 0.00060s] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:30:20,869 [INFO] - POST /api/admin/schedule - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:30:20,871 [INFO] - BEGIN (implicit)
2025-03-27 19:30:20,871 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:30:20,871 [INFO] - [generated in 0.00007s] (1, 1, 0)
2025-03-27 19:30:20,871 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:30:20,871 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-27 19:30:20,872 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:30:20,872 [INFO] - [generated in 0.00006s] (1, 1, 0)
2025-03-27 19:30:20,872 [INFO] - ROLLBACK
2025-03-27 19:30:20,873 [INFO] - ROLLBACK
2025-03-27 19:30:20,873 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:30:20] "[31m[1mPOST /api/admin/schedule HTTP/1.1[0m" 400 -
2025-03-27 19:30:20,875 [INFO] - BEGIN (implicit)
2025-03-27 19:30:20,875 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:30:20,875 [INFO] - [cached since 0.01576s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:30:20,875 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:30:20,875 [INFO] - BEGIN (implicit)
2025-03-27 19:30:20,875 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:30:20,875 [INFO] - [cached since 298.9s ago] ()
2025-03-27 19:30:21,042 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user2
2025-03-27 19:30:21,043 [INFO] - ROLLBACK
2025-03-27 19:30:21,043 [INFO] - ROLLBACK
2025-03-27 19:30:21,043 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:30:21] "GET /api/admin/schedules HTTP/1.1" 200 -
2025-03-27 19:31:10,644 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,645 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,645 [INFO] - [cached since 49.79s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:31:10,646 [INFO] - POST /api/admin/schedule - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:31:10,647 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,647 [INFO] - SELECT classes.class_id AS classes_class_id, classes.class_name AS classes_class_name, classes.teacher_id AS classes_teacher_id 
FROM classes 
WHERE classes.class_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,647 [INFO] - [cached since 49.78s ago] (1, 1, 0)
2025-03-27 19:31:10,648 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,648 [INFO] - [cached since 49.78s ago] (1, 1, 0)
2025-03-27 19:31:10,648 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,648 [INFO] - [cached since 49.78s ago] (4006, 1, 0)
2025-03-27 19:31:10,651 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,651 [INFO] - [generated in 0.00021s] (4006, 'Monday', '09:00', 1, 0)
2025-03-27 19:31:10,653 [INFO] - INSERT INTO schedule (class_id, subject_id, teacher_id, day_of_week, start_time, end_time) VALUES (?, ?, ?, ?, ?, ?)
2025-03-27 19:31:10,653 [INFO] - [generated in 0.00006s] (1, 1, 4006, 'Monday', '09:00', '10:00')
2025-03-27 19:31:10,666 [INFO] - COMMIT
2025-03-27 19:31:10,679 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,679 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.schedule_id = ?
2025-03-27 19:31:10,679 [INFO] - [generated in 0.00008s] (186,)
2025-03-27 19:31:10,679 [INFO] - POST /api/admin/schedule - Schedule 186 created by user user2
2025-03-27 19:31:10,679 [INFO] - ROLLBACK
2025-03-27 19:31:10,679 [INFO] - ROLLBACK
2025-03-27 19:31:10,680 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:31:10] "[35m[1mPOST /api/admin/schedule HTTP/1.1[0m" 201 -
2025-03-27 19:31:10,683 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,683 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,683 [INFO] - [cached since 49.82s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:31:10,684 [INFO] - GET /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:31:10,684 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,688 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,688 [INFO] - [generated in 0.00024s] (186, 1, 0)
2025-03-27 19:31:10,708 [INFO] - GET /api/admin/schedule/186 - Retrieved by user user2
2025-03-27 19:31:10,709 [INFO] - ROLLBACK
2025-03-27 19:31:10,709 [INFO] - ROLLBACK
2025-03-27 19:31:10,709 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:31:10] "GET /api/admin/schedule/186 HTTP/1.1" 200 -
2025-03-27 19:31:10,711 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,711 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,711 [INFO] - [cached since 49.85s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:31:10,712 [INFO] - PATCH /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:31:10,713 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,714 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,714 [INFO] - [generated in 0.00010s] (186, 1, 0)
2025-03-27 19:31:10,716 [INFO] - UPDATE schedule SET day_of_week=?, start_time=?, end_time=? WHERE schedule.schedule_id = ?
2025-03-27 19:31:10,716 [INFO] - [generated in 0.00008s] ('Tuesday', '10:00', '11:00', 186)
2025-03-27 19:31:10,725 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.teacher_id = ? AND schedule.day_of_week = ? AND schedule.start_time = ? AND schedule.schedule_id != ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,725 [INFO] - [generated in 0.00008s] (4006, 'Tuesday', '10:00', 186, 1, 0)
2025-03-27 19:31:10,725 [INFO] - COMMIT
2025-03-27 19:31:10,736 [INFO] - PATCH /api/admin/schedule/186 - Updated by user user2: {'day_of_week': 'Tuesday', 'start_time': '10:00', 'end_time': '11:00'}
2025-03-27 19:31:10,736 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,738 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id 
WHERE schedule.schedule_id = ?
2025-03-27 19:31:10,738 [INFO] - [generated in 0.00009s] (186,)
2025-03-27 19:31:10,738 [INFO] - ROLLBACK
2025-03-27 19:31:10,738 [INFO] - ROLLBACK
2025-03-27 19:31:10,738 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:31:10] "PATCH /api/admin/schedule/186 HTTP/1.1" 200 -
2025-03-27 19:31:10,740 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,740 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,740 [INFO] - [cached since 49.88s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:31:10,740 [INFO] - DELETE /api/admin/schedule/<schedule_id> - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:31:10,740 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,741 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time 
FROM schedule 
WHERE schedule.schedule_id = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,741 [INFO] - [generated in 0.00008s] (186, 1, 0)
2025-03-27 19:31:10,742 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id 
FROM teachers 
WHERE teachers.teacher_id = ?
2025-03-27 19:31:10,742 [INFO] - [generated in 0.00006s] (4006,)
2025-03-27 19:31:10,743 [INFO] - DELETE FROM schedule WHERE schedule.schedule_id = ?
2025-03-27 19:31:10,743 [INFO] - [generated in 0.00005s] (186,)
2025-03-27 19:31:10,754 [INFO] - COMMIT
2025-03-27 19:31:10,766 [INFO] - DELETE /api/admin/schedule/186 - Deleted by user user2
2025-03-27 19:31:10,766 [INFO] - ROLLBACK
2025-03-27 19:31:10,767 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:31:10] "DELETE /api/admin/schedule/186 HTTP/1.1" 200 -
2025-03-27 19:31:10,769 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,769 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.api_key = ?
 LIMIT ? OFFSET ?
2025-03-27 19:31:10,769 [INFO] - [cached since 49.91s ago] ('f3caa8cb-57dc-4c16-9726-7e58818a625a', 1, 0)
2025-03-27 19:31:10,769 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user2 (via API key)
2025-03-27 19:31:10,769 [INFO] - BEGIN (implicit)
2025-03-27 19:31:10,769 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:31:10,769 [INFO] - [cached since 348.7s ago] ()
2025-03-27 19:31:10,778 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user2
2025-03-27 19:31:10,778 [INFO] - ROLLBACK
2025-03-27 19:31:10,778 [INFO] - ROLLBACK
2025-03-27 19:31:10,780 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:31:10] "GET /api/admin/schedules HTTP/1.1" 200 -
2025-03-27 19:32:02,245 [INFO] - BEGIN (implicit)
2025-03-27 19:32:02,247 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:32:02,247 [INFO] - [cached since 400.3s ago] (1,)
2025-03-27 19:32:02,251 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:32:02,252 [INFO] - BEGIN (implicit)
2025-03-27 19:32:02,253 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:32:02,253 [INFO] - [cached since 400.2s ago] ('user1', 1, 0)
2025-03-27 19:32:02,253 [INFO] - ROLLBACK
2025-03-27 19:32:02,254 [INFO] - BEGIN (implicit)
2025-03-27 19:32:02,254 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:32:02,255 [INFO] - [cached since 400.2s ago] ()
2025-03-27 19:32:02,268 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:32:02,268 [INFO] - ROLLBACK
2025-03-27 19:32:02,305 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:32:02] "GET /admin/schedules?teacher=Морозов HTTP/1.1" 200 -
2025-03-27 19:32:02,389 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:32:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 19:32:09,049 [INFO] - BEGIN (implicit)
2025-03-27 19:32:09,050 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 19:32:09,050 [INFO] - [cached since 407.1s ago] (1,)
2025-03-27 19:32:09,051 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 19:32:09,051 [INFO] - BEGIN (implicit)
2025-03-27 19:32:09,052 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 19:32:09,052 [INFO] - [cached since 407s ago] ('user1', 1, 0)
2025-03-27 19:32:09,052 [INFO] - ROLLBACK
2025-03-27 19:32:09,053 [INFO] - BEGIN (implicit)
2025-03-27 19:32:09,053 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 19:32:09,053 [INFO] - [cached since 407s ago] ()
2025-03-27 19:32:09,067 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 19:32:09,067 [INFO] - ROLLBACK
2025-03-27 19:32:09,071 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:32:09] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 19:32:09,122 [INFO] - 127.0.0.1 - - [27/Mar/2025 19:32:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 22:55:33,359 [INFO] - BEGIN (implicit)
2025-03-27 22:55:33,371 [INFO] - PRAGMA main.table_info("users")
2025-03-27 22:55:33,371 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("students")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("schedule")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("grades")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("admins")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("classes")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("teachers")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,396 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-27 22:55:33,396 [INFO] - [raw sql] ()
2025-03-27 22:55:33,397 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-27 22:55:33,397 [INFO] - [raw sql] ()
2025-03-27 22:55:33,397 [INFO] - PRAGMA main.table_info("subjects")
2025-03-27 22:55:33,397 [INFO] - [raw sql] ()
2025-03-27 22:55:33,397 [INFO] - PRAGMA main.table_info("attendance")
2025-03-27 22:55:33,397 [INFO] - [raw sql] ()
2025-03-27 22:55:33,397 [INFO] - PRAGMA main.table_info("homework")
2025-03-27 22:55:33,397 [INFO] - [raw sql] ()
2025-03-27 22:55:33,397 [INFO] - COMMIT
2025-03-27 22:55:33,411 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-27 22:55:33,411 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-27 22:59:16,452 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:16] "[32mGET /admin/schedules HTTP/1.1[0m" 302 -
2025-03-27 22:59:16,792 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:16] "GET /admin/login HTTP/1.1" 200 -
2025-03-27 22:59:16,828 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:16] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 22:59:16,867 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:16] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-27 22:59:24,018 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:24] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 22:59:24,029 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:24] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 22:59:27,306 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:27] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 22:59:27,341 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:27] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 22:59:28,114 [INFO] - 127.0.0.1 - - [27/Mar/2025 22:59:28] "GET / HTTP/1.1" 200 -
2025-03-27 23:23:12,048 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:12] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 23:23:12,095 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 23:23:12,836 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:12] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 23:23:12,912 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:12] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 23:23:15,405 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:15] "GET /admin/login HTTP/1.1" 200 -
2025-03-27 23:23:15,447 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:15] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 23:23:22,873 [INFO] - BEGIN (implicit)
2025-03-27 23:23:22,876 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 23:23:22,876 [INFO] - [generated in 0.00091s] ('user1', 1, 0)
2025-03-27 23:23:22,978 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:22] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-27 23:23:22,983 [INFO] - BEGIN (implicit)
2025-03-27 23:23:22,984 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 23:23:22,984 [INFO] - [generated in 0.00026s] (1,)
2025-03-27 23:23:23,008 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:23] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 23:23:23,058 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:23] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 23:23:28,350 [INFO] - BEGIN (implicit)
2025-03-27 23:23:28,350 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 23:23:28,350 [INFO] - [cached since 5.367s ago] (1,)
2025-03-27 23:23:28,352 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-27 23:23:28,353 [INFO] - BEGIN (implicit)
2025-03-27 23:23:28,354 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-27 23:23:28,354 [INFO] - [cached since 5.479s ago] ('user1', 1, 0)
2025-03-27 23:23:28,356 [INFO] - ROLLBACK
2025-03-27 23:23:28,357 [INFO] - BEGIN (implicit)
2025-03-27 23:23:28,365 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-27 23:23:28,365 [INFO] - [generated in 0.00025s] ()
2025-03-27 23:23:28,572 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-27 23:23:28,573 [INFO] - ROLLBACK
2025-03-27 23:23:28,590 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:28] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-27 23:23:28,639 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:28] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-27 23:23:41,355 [INFO] - BEGIN (implicit)
2025-03-27 23:23:41,357 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-27 23:23:41,357 [INFO] - [cached since 18.37s ago] (1,)
2025-03-27 23:23:41,359 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:41] "[32mGET /admin/logout HTTP/1.1[0m" 302 -
2025-03-27 23:23:41,362 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:41] "GET /admin/ HTTP/1.1" 200 -
2025-03-27 23:23:41,437 [INFO] - 127.0.0.1 - - [27/Mar/2025 23:23:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:02:34,339 [INFO] - BEGIN (implicit)
2025-03-28 23:02:34,349 [INFO] - PRAGMA main.table_info("users")
2025-03-28 23:02:34,349 [INFO] - [raw sql] ()
2025-03-28 23:02:34,368 [INFO] - PRAGMA main.table_info("students")
2025-03-28 23:02:34,368 [INFO] - [raw sql] ()
2025-03-28 23:02:34,368 [INFO] - PRAGMA main.table_info("schedule")
2025-03-28 23:02:34,368 [INFO] - [raw sql] ()
2025-03-28 23:02:34,368 [INFO] - PRAGMA main.table_info("grades")
2025-03-28 23:02:34,368 [INFO] - [raw sql] ()
2025-03-28 23:02:34,368 [INFO] - PRAGMA main.table_info("admins")
2025-03-28 23:02:34,368 [INFO] - [raw sql] ()
2025-03-28 23:02:34,368 [INFO] - PRAGMA main.table_info("classes")
2025-03-28 23:02:34,368 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - PRAGMA main.table_info("teachers")
2025-03-28 23:02:34,369 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-28 23:02:34,369 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-28 23:02:34,369 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - PRAGMA main.table_info("subjects")
2025-03-28 23:02:34,369 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - PRAGMA main.table_info("attendance")
2025-03-28 23:02:34,369 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - PRAGMA main.table_info("homework")
2025-03-28 23:02:34,369 [INFO] - [raw sql] ()
2025-03-28 23:02:34,369 [INFO] - COMMIT
2025-03-28 23:02:34,391 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-28 23:02:34,391 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-28 23:02:39,624 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:39] "GET / HTTP/1.1" 200 -
2025-03-28 23:02:39,747 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-03-28 23:02:42,104 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:42] "GET /admin/ HTTP/1.1" 200 -
2025-03-28 23:02:42,130 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:02:43,034 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:43] "GET /admin/ HTTP/1.1" 200 -
2025-03-28 23:02:43,115 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:02:45,482 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:45] "[32mGET /admin/subjects HTTP/1.1[0m" 302 -
2025-03-28 23:02:45,523 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:45] "GET /admin/login HTTP/1.1" 200 -
2025-03-28 23:02:45,576 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:45] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:02:54,522 [INFO] - BEGIN (implicit)
2025-03-28 23:02:54,558 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:02:54,558 [INFO] - [generated in 0.00073s] ('user1', 1, 0)
2025-03-28 23:02:54,659 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:54] "[32mPOST /admin/login HTTP/1.1[0m" 302 -
2025-03-28 23:02:54,673 [INFO] - BEGIN (implicit)
2025-03-28 23:02:54,676 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:02:54,676 [INFO] - [generated in 0.00077s] (1,)
2025-03-28 23:02:54,683 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:54] "GET /admin/ HTTP/1.1" 200 -
2025-03-28 23:02:54,773 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:54] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:02:58,657 [INFO] - BEGIN (implicit)
2025-03-28 23:02:58,657 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:02:58,657 [INFO] - [cached since 3.982s ago] (1,)
2025-03-28 23:02:58,658 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:02:58,660 [INFO] - BEGIN (implicit)
2025-03-28 23:02:58,660 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:02:58,660 [INFO] - [cached since 4.103s ago] ('user1', 1, 0)
2025-03-28 23:02:58,661 [INFO] - ROLLBACK
2025-03-28 23:02:58,662 [INFO] - BEGIN (implicit)
2025-03-28 23:02:58,662 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:02:58,663 [INFO] - [generated in 0.00016s] ()
2025-03-28 23:02:58,665 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:02:58,665 [INFO] - ROLLBACK
2025-03-28 23:02:58,669 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:58] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:02:58,710 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:02:58] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:03:02,442 [INFO] - BEGIN (implicit)
2025-03-28 23:03:02,444 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:03:02,444 [INFO] - [cached since 7.768s ago] (1,)
2025-03-28 23:03:02,451 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:02] "GET /admin/subject/new HTTP/1.1" 200 -
2025-03-28 23:03:02,487 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:02] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:03:09,720 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,722 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:03:09,722 [INFO] - [cached since 15.05s ago] (1,)
2025-03-28 23:03:09,727 [INFO] - POST api/admin/subject - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:03:09,728 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,728 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:03:09,728 [INFO] - [cached since 15.18s ago] ('user1', 1, 0)
2025-03-28 23:03:09,730 [INFO] - ROLLBACK
2025-03-28 23:03:09,731 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,732 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_name = ?
 LIMIT ? OFFSET ?
2025-03-28 23:03:09,732 [INFO] - [generated in 0.00011s] ('Слдфорадр', 1, 0)
2025-03-28 23:03:09,735 [INFO] - INSERT INTO subjects (subject_name) VALUES (?)
2025-03-28 23:03:09,735 [INFO] - [generated in 0.00008s] ('Слдфорадр',)
2025-03-28 23:03:09,773 [INFO] - COMMIT
2025-03-28 23:03:09,777 [INFO] - POST /api/admin/subject - Subject "Слдфорадр" created successfully by user user1
2025-03-28 23:03:09,777 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,777 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
2025-03-28 23:03:09,777 [INFO] - [generated in 0.00006s] (14,)
2025-03-28 23:03:09,777 [INFO] - ROLLBACK
2025-03-28 23:03:09,777 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:09] "[32mPOST /admin/subject/new HTTP/1.1[0m" 302 -
2025-03-28 23:03:09,783 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,783 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:03:09,783 [INFO] - [cached since 15.11s ago] (1,)
2025-03-28 23:03:09,783 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:03:09,784 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,785 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:03:09,785 [INFO] - [cached since 15.23s ago] ('user1', 1, 0)
2025-03-28 23:03:09,785 [INFO] - ROLLBACK
2025-03-28 23:03:09,786 [INFO] - BEGIN (implicit)
2025-03-28 23:03:09,786 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:03:09,786 [INFO] - [cached since 11.13s ago] ()
2025-03-28 23:03:09,787 [INFO] - GET /api/admin/subjects - Retrieved 14 subjects by user1
2025-03-28 23:03:09,787 [INFO] - ROLLBACK
2025-03-28 23:03:09,788 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:09] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:03:09,860 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:09] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:03:11,816 [INFO] - BEGIN (implicit)
2025-03-28 23:03:11,817 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:03:11,817 [INFO] - [cached since 17.15s ago] (1,)
2025-03-28 23:03:11,818 [INFO] - BEGIN (implicit)
2025-03-28 23:03:11,819 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:03:11,819 [INFO] - [generated in 0.00017s] (14, 1, 0)
2025-03-28 23:03:11,822 [INFO] - ROLLBACK
2025-03-28 23:03:11,823 [ERROR] - Exception on /admin/subject/14 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/login_decorator.py", line 15, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 614, in edit_subject
    return render_template('admin/edit_subject.html', subject=subject, form=form)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin/edit_subject.html
2025-03-28 23:03:11,879 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:11] "[35m[1mGET /admin/subject/14 HTTP/1.1[0m" 500 -
2025-03-28 23:03:14,673 [INFO] - BEGIN (implicit)
2025-03-28 23:03:14,673 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:03:14,674 [INFO] - [cached since 20.01s ago] (1,)
2025-03-28 23:03:14,674 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:03:14,675 [INFO] - BEGIN (implicit)
2025-03-28 23:03:14,675 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:03:14,675 [INFO] - [cached since 20.13s ago] ('user1', 1, 0)
2025-03-28 23:03:14,676 [INFO] - ROLLBACK
2025-03-28 23:03:14,676 [INFO] - BEGIN (implicit)
2025-03-28 23:03:14,676 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:03:14,677 [INFO] - [cached since 16.02s ago] ()
2025-03-28 23:03:14,677 [INFO] - GET /api/admin/subjects - Retrieved 14 subjects by user1
2025-03-28 23:03:14,677 [INFO] - ROLLBACK
2025-03-28 23:03:14,678 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:14] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:03:14,722 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:14] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:03:19,147 [INFO] - BEGIN (implicit)
2025-03-28 23:03:19,149 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:03:19,149 [INFO] - [cached since 24.48s ago] (1,)
2025-03-28 23:03:19,158 [INFO] - BEGIN (implicit)
2025-03-28 23:03:19,158 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:03:19,158 [INFO] - [cached since 7.344s ago] (14, 1, 0)
2025-03-28 23:03:19,159 [INFO] - ROLLBACK
2025-03-28 23:03:19,159 [ERROR] - Exception on /admin/subject/14 [GET]
Traceback (most recent call last):
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask_restful/__init__.py", line 298, in error_router
    return original_handler(e)
           ^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/decorators/login_decorator.py", line 15, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/admin/routes.py", line 614, in edit_subject
    return render_template('admin/edit_subject.html', subject=subject, form=form)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/jinja2/loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/Hanavey/Projects/school-dairy/.venv/lib/python3.12/site-packages/flask/templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin/edit_subject.html
2025-03-28 23:03:19,161 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:03:19] "[35m[1mGET /admin/subject/14 HTTP/1.1[0m" 500 -
2025-03-28 23:04:25,774 [INFO] - BEGIN (implicit)
2025-03-28 23:04:25,777 [INFO] - PRAGMA main.table_info("users")
2025-03-28 23:04:25,777 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("students")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("schedule")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("grades")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("admins")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("classes")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("teachers")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("teacher_position_assignments")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("teacher_positions")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("subjects")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("attendance")
2025-03-28 23:04:25,779 [INFO] - [raw sql] ()
2025-03-28 23:04:25,779 [INFO] - PRAGMA main.table_info("homework")
2025-03-28 23:04:25,780 [INFO] - [raw sql] ()
2025-03-28 23:04:25,780 [INFO] - COMMIT
2025-03-28 23:04:25,794 [INFO] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-03-28 23:04:25,794 [INFO] - [33mPress CTRL+C to quit[0m
2025-03-28 23:04:30,364 [INFO] - BEGIN (implicit)
2025-03-28 23:04:30,365 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:30,365 [INFO] - [generated in 0.00014s] (1,)
2025-03-28 23:04:30,368 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:30,369 [INFO] - BEGIN (implicit)
2025-03-28 23:04:30,370 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:30,370 [INFO] - [generated in 0.00009s] ('user1', 1, 0)
2025-03-28 23:04:30,373 [INFO] - ROLLBACK
2025-03-28 23:04:30,373 [INFO] - BEGIN (implicit)
2025-03-28 23:04:30,373 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:04:30,373 [INFO] - [generated in 0.00005s] ()
2025-03-28 23:04:30,375 [INFO] - GET /api/admin/subjects - Retrieved 14 subjects by user1
2025-03-28 23:04:30,375 [INFO] - ROLLBACK
2025-03-28 23:04:30,429 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:30] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:04:30,463 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:30] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:32,170 [INFO] - BEGIN (implicit)
2025-03-28 23:04:32,172 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:32,172 [INFO] - [cached since 1.807s ago] (1,)
2025-03-28 23:04:32,173 [INFO] - BEGIN (implicit)
2025-03-28 23:04:32,174 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:32,174 [INFO] - [generated in 0.00019s] (14, 1, 0)
2025-03-28 23:04:32,182 [INFO] - ROLLBACK
2025-03-28 23:04:32,182 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:32] "GET /admin/subject/14 HTTP/1.1" 200 -
2025-03-28 23:04:32,218 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:32] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:37,007 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,008 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:37,008 [INFO] - [cached since 6.643s ago] (1,)
2025-03-28 23:04:37,010 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,011 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:37,011 [INFO] - [cached since 4.837s ago] (14, 1, 0)
2025-03-28 23:04:37,012 [INFO] - PATCH api/admin/subject/<subject_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:37,013 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,013 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:37,013 [INFO] - [cached since 6.643s ago] ('user1', 1, 0)
2025-03-28 23:04:37,017 [INFO] - ROLLBACK
2025-03-28 23:04:37,017 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,018 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:37,018 [INFO] - [cached since 4.844s ago] (14, 1, 0)
2025-03-28 23:04:37,021 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_name = ? AND subjects.subject_id != ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:37,021 [INFO] - [generated in 0.00012s] ('Слдфорадрh', 14, 1, 0)
2025-03-28 23:04:37,022 [INFO] - UPDATE subjects SET subject_name=? WHERE subjects.subject_id = ?
2025-03-28 23:04:37,022 [INFO] - [generated in 0.00008s] ('Слдфорадрh', 14)
2025-03-28 23:04:37,053 [INFO] - COMMIT
2025-03-28 23:04:37,056 [INFO] - PATCH /api/admin/subject/14 - Updated by user user1: {'subject_name': 'Слдфорадрh'}
2025-03-28 23:04:37,057 [INFO] - ROLLBACK
2025-03-28 23:04:37,057 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:37] "[32mPOST /admin/subject/14 HTTP/1.1[0m" 302 -
2025-03-28 23:04:37,061 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,062 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:37,062 [INFO] - [cached since 6.697s ago] (1,)
2025-03-28 23:04:37,062 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:37,063 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,063 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:37,063 [INFO] - [cached since 6.693s ago] ('user1', 1, 0)
2025-03-28 23:04:37,064 [INFO] - ROLLBACK
2025-03-28 23:04:37,064 [INFO] - BEGIN (implicit)
2025-03-28 23:04:37,064 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:04:37,064 [INFO] - [cached since 6.691s ago] ()
2025-03-28 23:04:37,066 [INFO] - GET /api/admin/subjects - Retrieved 14 subjects by user1
2025-03-28 23:04:37,066 [INFO] - ROLLBACK
2025-03-28 23:04:37,067 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:37] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:04:37,142 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:40,868 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,874 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:40,874 [INFO] - [cached since 10.51s ago] (1,)
2025-03-28 23:04:40,875 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,876 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:40,876 [INFO] - [cached since 8.702s ago] (14, 1, 0)
2025-03-28 23:04:40,876 [INFO] - DELETE api/admin/subject/<subject_id> - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:40,877 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,877 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:40,877 [INFO] - [cached since 10.51s ago] ('user1', 1, 0)
2025-03-28 23:04:40,877 [INFO] - ROLLBACK
2025-03-28 23:04:40,878 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,878 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects 
WHERE subjects.subject_id = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:40,878 [INFO] - [cached since 8.704s ago] (14, 1, 0)
2025-03-28 23:04:40,880 [INFO] - SELECT grades.grade_id AS grades_grade_id, grades.student_id AS grades_student_id, grades.subject_id AS grades_subject_id, grades.grade AS grades_grade, grades.date AS grades_date 
FROM grades 
WHERE ? = grades.subject_id
2025-03-28 23:04:40,880 [INFO] - [generated in 0.00015s] (14,)
2025-03-28 23:04:40,907 [INFO] - SELECT homework.homework_id AS homework_homework_id, homework.subject_id AS homework_subject_id, homework.class_id AS homework_class_id, homework.task AS homework_task, homework.due_date AS homework_due_date 
FROM homework 
WHERE ? = homework.subject_id
2025-03-28 23:04:40,907 [INFO] - [generated in 0.00014s] (14,)
2025-03-28 23:04:40,909 [INFO] - DELETE FROM subjects WHERE subjects.subject_id = ?
2025-03-28 23:04:40,909 [INFO] - [generated in 0.00009s] (14,)
2025-03-28 23:04:40,910 [INFO] - COMMIT
2025-03-28 23:04:40,913 [INFO] - DELETE /api/admin/subject/14 - Deleted successfully by user user1
2025-03-28 23:04:40,913 [INFO] - ROLLBACK
2025-03-28 23:04:40,913 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:40] "POST /admin/subject/14/delete HTTP/1.1" 200 -
2025-03-28 23:04:40,928 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,929 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:40,929 [INFO] - [cached since 10.56s ago] (1,)
2025-03-28 23:04:40,929 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:40,929 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,929 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:40,930 [INFO] - [cached since 10.56s ago] ('user1', 1, 0)
2025-03-28 23:04:40,930 [INFO] - ROLLBACK
2025-03-28 23:04:40,930 [INFO] - BEGIN (implicit)
2025-03-28 23:04:40,930 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:04:40,930 [INFO] - [cached since 10.56s ago] ()
2025-03-28 23:04:40,930 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:04:40,930 [INFO] - ROLLBACK
2025-03-28 23:04:40,931 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:40] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:04:40,961 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:40] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:42,860 [INFO] - BEGIN (implicit)
2025-03-28 23:04:42,861 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:42,861 [INFO] - [cached since 12.5s ago] (1,)
2025-03-28 23:04:42,863 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:42,867 [INFO] - BEGIN (implicit)
2025-03-28 23:04:42,867 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:42,867 [INFO] - [cached since 12.5s ago] ('user1', 1, 0)
2025-03-28 23:04:42,870 [INFO] - ROLLBACK
2025-03-28 23:04:42,870 [INFO] - BEGIN (implicit)
2025-03-28 23:04:42,870 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:04:42,870 [INFO] - [cached since 12.5s ago] ()
2025-03-28 23:04:42,871 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:04:42,871 [INFO] - ROLLBACK
2025-03-28 23:04:42,873 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:42] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:04:42,909 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:43,525 [INFO] - BEGIN (implicit)
2025-03-28 23:04:43,527 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:43,528 [INFO] - [cached since 13.16s ago] (1,)
2025-03-28 23:04:43,533 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:43,538 [INFO] - BEGIN (implicit)
2025-03-28 23:04:43,538 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:43,539 [INFO] - [cached since 13.17s ago] ('user1', 1, 0)
2025-03-28 23:04:43,540 [INFO] - ROLLBACK
2025-03-28 23:04:43,541 [INFO] - BEGIN (implicit)
2025-03-28 23:04:43,542 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:04:43,542 [INFO] - [cached since 13.17s ago] ()
2025-03-28 23:04:43,545 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:04:43,546 [INFO] - ROLLBACK
2025-03-28 23:04:43,552 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:43] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:04:43,622 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:43] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:44,041 [INFO] - BEGIN (implicit)
2025-03-28 23:04:44,043 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:44,043 [INFO] - [cached since 13.68s ago] (1,)
2025-03-28 23:04:44,044 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:44,045 [INFO] - BEGIN (implicit)
2025-03-28 23:04:44,046 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:44,046 [INFO] - [cached since 13.68s ago] ('user1', 1, 0)
2025-03-28 23:04:44,046 [INFO] - ROLLBACK
2025-03-28 23:04:44,047 [INFO] - BEGIN (implicit)
2025-03-28 23:04:44,047 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:04:44,047 [INFO] - [cached since 13.67s ago] ()
2025-03-28 23:04:44,047 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:04:44,047 [INFO] - ROLLBACK
2025-03-28 23:04:44,049 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:44] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:04:44,121 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:04:50,206 [INFO] - BEGIN (implicit)
2025-03-28 23:04:50,208 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:04:50,208 [INFO] - [cached since 19.84s ago] (1,)
2025-03-28 23:04:50,213 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:04:50,214 [INFO] - BEGIN (implicit)
2025-03-28 23:04:50,215 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:04:50,215 [INFO] - [cached since 19.84s ago] ('user1', 1, 0)
2025-03-28 23:04:50,219 [INFO] - ROLLBACK
2025-03-28 23:04:50,220 [INFO] - BEGIN (implicit)
2025-03-28 23:04:50,223 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-28 23:04:50,223 [INFO] - [generated in 0.00009s] ()
2025-03-28 23:04:50,312 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-28 23:04:50,312 [INFO] - ROLLBACK
2025-03-28 23:04:50,331 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:50] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-28 23:04:50,381 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:04:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:05:31,004 [INFO] - BEGIN (implicit)
2025-03-28 23:05:31,006 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:05:31,006 [INFO] - [cached since 60.64s ago] (1,)
2025-03-28 23:05:31,007 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:05:31,008 [INFO] - BEGIN (implicit)
2025-03-28 23:05:31,008 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:05:31,008 [INFO] - [cached since 60.64s ago] ('user1', 1, 0)
2025-03-28 23:05:31,009 [INFO] - ROLLBACK
2025-03-28 23:05:31,009 [INFO] - BEGIN (implicit)
2025-03-28 23:05:31,009 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:05:31,009 [INFO] - [cached since 60.64s ago] ()
2025-03-28 23:05:31,010 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:05:31,010 [INFO] - ROLLBACK
2025-03-28 23:05:31,011 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:05:31] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:05:31,053 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:05:31] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:37:37,341 [INFO] - BEGIN (implicit)
2025-03-28 23:37:37,373 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:37:37,374 [INFO] - [cached since 1987s ago] (1,)
2025-03-28 23:37:37,394 [INFO] - GET /api/admin/students - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:37:37,395 [INFO] - BEGIN (implicit)
2025-03-28 23:37:37,395 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:37:37,395 [INFO] - [cached since 1987s ago] ('user1', 1, 0)
2025-03-28 23:37:37,395 [INFO] - ROLLBACK
2025-03-28 23:37:37,396 [INFO] - BEGIN (implicit)
2025-03-28 23:37:37,399 [INFO] - SELECT students.user_id AS students_user_id, students.student_id AS students_student_id, students.class_id AS students_class_id, students.birth_date AS students_birth_date, students.address AS students_address, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id 
FROM students LEFT OUTER JOIN users AS users_1 ON users_1.user_id = students.user_id LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = students.class_id
2025-03-28 23:37:37,400 [INFO] - [generated in 0.00009s] ()
2025-03-28 23:37:37,650 [INFO] - GET /api/admin/students - Retrieved 50 students by user1
2025-03-28 23:37:37,650 [INFO] - ROLLBACK
2025-03-28 23:37:37,709 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:37] "GET /admin/students HTTP/1.1" 200 -
2025-03-28 23:37:37,784 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:37:41,724 [INFO] - BEGIN (implicit)
2025-03-28 23:37:41,725 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:37:41,725 [INFO] - [cached since 1991s ago] (1,)
2025-03-28 23:37:41,725 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:37:41,726 [INFO] - BEGIN (implicit)
2025-03-28 23:37:41,726 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:37:41,726 [INFO] - [cached since 1991s ago] ('user1', 1, 0)
2025-03-28 23:37:41,727 [INFO] - ROLLBACK
2025-03-28 23:37:41,728 [INFO] - BEGIN (implicit)
2025-03-28 23:37:41,734 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-28 23:37:41,734 [INFO] - [generated in 0.00028s] ()
2025-03-28 23:37:41,797 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-28 23:37:41,798 [INFO] - ROLLBACK
2025-03-28 23:37:41,818 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:41] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-28 23:37:41,866 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:41] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:37:44,547 [INFO] - BEGIN (implicit)
2025-03-28 23:37:44,548 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:37:44,548 [INFO] - [cached since 1994s ago] (1,)
2025-03-28 23:37:44,551 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:37:44,551 [INFO] - BEGIN (implicit)
2025-03-28 23:37:44,551 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:37:44,552 [INFO] - [cached since 1994s ago] ('user1', 1, 0)
2025-03-28 23:37:44,552 [INFO] - ROLLBACK
2025-03-28 23:37:44,553 [INFO] - BEGIN (implicit)
2025-03-28 23:37:44,553 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-28 23:37:44,553 [INFO] - [cached since 1974s ago] ()
2025-03-28 23:37:44,562 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-28 23:37:44,562 [INFO] - ROLLBACK
2025-03-28 23:37:44,565 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:44] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-28 23:37:44,612 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:44] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:37:50,846 [INFO] - BEGIN (implicit)
2025-03-28 23:37:50,847 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:37:50,847 [INFO] - [cached since 2001s ago] (1,)
2025-03-28 23:37:50,850 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:37:50,850 [INFO] - BEGIN (implicit)
2025-03-28 23:37:50,850 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:37:50,850 [INFO] - [cached since 2001s ago] ('user1', 1, 0)
2025-03-28 23:37:50,853 [INFO] - ROLLBACK
2025-03-28 23:37:50,853 [INFO] - BEGIN (implicit)
2025-03-28 23:37:50,853 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:37:50,853 [INFO] - [cached since 2001s ago] ()
2025-03-28 23:37:50,854 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:37:50,854 [INFO] - ROLLBACK
2025-03-28 23:37:50,855 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:50] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:37:50,891 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:37:50] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:39:42,232 [INFO] - BEGIN (implicit)
2025-03-28 23:39:42,236 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:39:42,236 [INFO] - [cached since 2112s ago] (1,)
2025-03-28 23:39:42,243 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:39:42,243 [INFO] - BEGIN (implicit)
2025-03-28 23:39:42,244 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:39:42,244 [INFO] - [cached since 2112s ago] ('user1', 1, 0)
2025-03-28 23:39:42,244 [INFO] - ROLLBACK
2025-03-28 23:39:42,244 [INFO] - BEGIN (implicit)
2025-03-28 23:39:42,244 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-28 23:39:42,244 [INFO] - [cached since 2092s ago] ()
2025-03-28 23:39:42,280 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-28 23:39:42,280 [INFO] - ROLLBACK
2025-03-28 23:39:42,283 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:39:42] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-28 23:39:42,330 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:39:42] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:40:26,246 [INFO] - BEGIN (implicit)
2025-03-28 23:40:26,247 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:40:26,247 [INFO] - [cached since 2156s ago] (1,)
2025-03-28 23:40:26,250 [INFO] - GET api/admin/subjects - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:40:26,250 [INFO] - BEGIN (implicit)
2025-03-28 23:40:26,250 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:40:26,250 [INFO] - [cached since 2156s ago] ('user1', 1, 0)
2025-03-28 23:40:26,251 [INFO] - ROLLBACK
2025-03-28 23:40:26,251 [INFO] - BEGIN (implicit)
2025-03-28 23:40:26,251 [INFO] - SELECT subjects.subject_id AS subjects_subject_id, subjects.subject_name AS subjects_subject_name 
FROM subjects
2025-03-28 23:40:26,251 [INFO] - [cached since 2156s ago] ()
2025-03-28 23:40:26,252 [INFO] - GET /api/admin/subjects - Retrieved 13 subjects by user1
2025-03-28 23:40:26,252 [INFO] - ROLLBACK
2025-03-28 23:40:26,253 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:40:26] "GET /admin/subjects HTTP/1.1" 200 -
2025-03-28 23:40:26,292 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:40:26] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:40:33,508 [INFO] - BEGIN (implicit)
2025-03-28 23:40:33,508 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:40:33,508 [INFO] - [cached since 2163s ago] (1,)
2025-03-28 23:40:33,509 [INFO] - GET /api/admin/schedules - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:40:33,509 [INFO] - BEGIN (implicit)
2025-03-28 23:40:33,509 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:40:33,510 [INFO] - [cached since 2163s ago] ('user1', 1, 0)
2025-03-28 23:40:33,510 [INFO] - ROLLBACK
2025-03-28 23:40:33,510 [INFO] - BEGIN (implicit)
2025-03-28 23:40:33,511 [INFO] - SELECT schedule.schedule_id AS schedule_schedule_id, schedule.class_id AS schedule_class_id, schedule.subject_id AS schedule_subject_id, schedule.teacher_id AS schedule_teacher_id, schedule.day_of_week AS schedule_day_of_week, schedule.start_time AS schedule_start_time, schedule.end_time AS schedule_end_time, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, subjects_1.subject_id AS subjects_1_subject_id, subjects_1.subject_name AS subjects_1_subject_name, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, teachers_1.user_id AS teachers_1_user_id, teachers_1.teacher_id AS teachers_1_teacher_id 
FROM schedule LEFT OUTER JOIN classes AS classes_1 ON classes_1.class_id = schedule.class_id LEFT OUTER JOIN subjects AS subjects_1 ON subjects_1.subject_id = schedule.subject_id LEFT OUTER JOIN teachers AS teachers_1 ON teachers_1.teacher_id = schedule.teacher_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers_1.user_id
2025-03-28 23:40:33,511 [INFO] - [cached since 2143s ago] ()
2025-03-28 23:40:33,522 [INFO] - GET /api/admin/schedules - Retrieved 185 schedules by user1
2025-03-28 23:40:33,523 [INFO] - ROLLBACK
2025-03-28 23:40:33,526 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:40:33] "GET /admin/schedules HTTP/1.1" 200 -
2025-03-28 23:40:33,568 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:40:33] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
2025-03-28 23:40:37,347 [INFO] - BEGIN (implicit)
2025-03-28 23:40:37,349 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users 
WHERE users.user_id = ?
2025-03-28 23:40:37,349 [INFO] - [cached since 2167s ago] (1,)
2025-03-28 23:40:37,351 [INFO] - GET /api/admin/teachers - IP: 127.0.0.1, User: user1 (via session)
2025-03-28 23:40:37,351 [INFO] - BEGIN (implicit)
2025-03-28 23:40:37,352 [INFO] - SELECT users.user_id AS users_user_id, users.username AS users_username, users.password_hash AS users_password_hash, users.first_name AS users_first_name, users.last_name AS users_last_name, users.email AS users_email, users.phone_number AS users_phone_number, users.profile_picture AS users_profile_picture, users.api_key AS users_api_key 
FROM users JOIN admins ON users.user_id = admins.user_id 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-03-28 23:40:37,352 [INFO] - [cached since 2167s ago] ('user1', 1, 0)
2025-03-28 23:40:37,352 [INFO] - ROLLBACK
2025-03-28 23:40:37,352 [INFO] - BEGIN (implicit)
2025-03-28 23:40:37,353 [INFO] - SELECT teachers.user_id AS teachers_user_id, teachers.teacher_id AS teachers_teacher_id, users_1.user_id AS users_1_user_id, users_1.username AS users_1_username, users_1.password_hash AS users_1_password_hash, users_1.first_name AS users_1_first_name, users_1.last_name AS users_1_last_name, users_1.email AS users_1_email, users_1.phone_number AS users_1_phone_number, users_1.profile_picture AS users_1_profile_picture, users_1.api_key AS users_1_api_key, classes_1.class_id AS classes_1_class_id, classes_1.class_name AS classes_1_class_name, classes_1.teacher_id AS classes_1_teacher_id, schedule_1.schedule_id AS schedule_1_schedule_id, schedule_1.class_id AS schedule_1_class_id, schedule_1.subject_id AS schedule_1_subject_id, schedule_1.teacher_id AS schedule_1_teacher_id, schedule_1.day_of_week AS schedule_1_day_of_week, schedule_1.start_time AS schedule_1_start_time, schedule_1.end_time AS schedule_1_end_time, teacher_position_assignments_1.teacher_id AS teacher_position_assignments_1_teacher_id, teacher_position_assignments_1.position_id AS teacher_position_assignments_1_position_id, teacher_position_assignments_1.class_id AS teacher_position_assignments_1_class_id, teacher_position_assignments_1.subject_id AS teacher_position_assignments_1_subject_id 
FROM teachers LEFT OUTER JOIN users AS users_1 ON users_1.user_id = teachers.user_id LEFT OUTER JOIN classes AS classes_1 ON teachers.teacher_id = classes_1.teacher_id LEFT OUTER JOIN schedule AS schedule_1 ON teachers.teacher_id = schedule_1.teacher_id LEFT OUTER JOIN teacher_position_assignments AS teacher_position_assignments_1 ON teachers.teacher_id = teacher_position_assignments_1.teacher_id
2025-03-28 23:40:37,353 [INFO] - [cached since 175.6s ago] ()
2025-03-28 23:40:37,418 [INFO] - GET /api/admin/teachers - Retrieved 18 teachers by user1
2025-03-28 23:40:37,418 [INFO] - ROLLBACK
2025-03-28 23:40:37,420 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:40:37] "GET /admin/teachers HTTP/1.1" 200 -
2025-03-28 23:40:37,458 [INFO] - 127.0.0.1 - - [28/Mar/2025 23:40:37] "[36mGET /static/css/base.css HTTP/1.1[0m" 304 -
